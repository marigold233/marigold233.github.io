{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-]","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u65bd\u5de5\u200b\u5efa\u8bbe\u200b\u4e2d\u200b...","text":""},{"location":"Linux/iptables%E5%AF%B9%E8%AE%BF%E9%97%AEURL%E5%81%9A%E9%99%90%E5%88%B6/","title":"iptables\u200b\u5bf9\u200b\u8bbf\u95ee\u200bURL\u200b\u505a\u200b\u9650\u5236","text":"<p>\u200b\u901a\u8fc7\u200b\u5b57\u7b26\u200b\u5339\u914d\u200b\uff0c\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u9650\u5236\u200b\uff1a <pre><code>iptables -I INPUT -m string --algo kmp -p tcp --dport 8080 --string \"\u200b\u57df\u540d\u200b\u6216\u8005\u200b\u57df\u540d\u200b\u91cc\u200b\u67d0\u4e2a\u200b\u5185\u5bb9\u200b\" -j DROP\n</code></pre></p>"},{"location":"Linux/shell%E8%84%9A%E6%9C%AC/","title":"Shell\u200b\u811a\u672c","text":""},{"location":"Linux/shell%E8%84%9A%E6%9C%AC/#_1","title":"\u6279\u91cf\u200b\u6d4b\u8bd5\u200b\u7aef\u53e3\u200b\u7684\u200b\u8fde\u901a\u6027","text":"<pre><code> bash -c 'for i in {109..228}; do echo -n \"$i:\";grep -q \"Connect\" &amp;&gt; /dev/null &lt;&lt;&lt; `echo | timeout 3s telnet 192.168.168.$i 7000`; echo $?;done'\n</code></pre>"},{"location":"Linux/shell%E8%84%9A%E6%9C%AC/#desal","title":"\u57fa\u4e8e\u200bdesal\u200b\u5199\u200b\u7684\u200b\u811a\u672c","text":"<pre><code>#!/usr/bin/env bash\nSCRIPT_LOG=\"./logs/action_$(date \"+%-Y-%m-%d\").log\" # _$(date \"+%-Y-%m-%d\").log\nDECODE_SERVER_CONFIG=_servers.json\nDECODE_SERVER_QUANTITY=$(./dasel -f $DECODE_SERVER_CONFIG '[#]')\nDELETED_SERVER_CONFIG=deleted-servers.json\n\n\nfunction logger() {\n        level=$1; msg=$2; _output_file=${3-true}\n        if $_output_file; then\n  [ -d $(dirname $SCRIPT_LOG) ] || mkdir -p $(dirname $SCRIPT_LOG)\n  [ -f $SCRIPT_LOG ] || touch $SCRIPT_LOG\n                if [[ $level == info ]];then\n                        echo \"$(date \"+%F %T\") [$level]: $msg\" | tee -a \"$SCRIPT_LOG\"\n                elif [[ $level == err ]];then\n                        echo -e \"\\e[1;31m$(date \"+%F %T\") [$level]: $msg\\e[0m\" | tee -a \"$SCRIPT_LOG\"\n                fi\n         else\n                if [[ $level == info ]];then\n                        echo \"$(date \"+%F %T\") [$level]: $msg\"\n                 elif [[ $level == err ]];then\n                         echo -e \"\\e[1;31m$(date \"+%F %T\") [$level]: $msg\\e[0m\"\n                 fi\n        fi\n}\n\n[ ! -f $DELETED_SERVER_CONFIG ] &amp;&amp; touch $DELETED_SERVER_CONFIG\n\nlogger info \"\u200b\u5f00\u59cb\u200b\u5254\u9664\u200b\u5931\u6548\u200b\u7684\u200b\u670d\u52a1\u5668\u200b...\"\nDELETE_SERVER_LIST=()\nfor ((index=0; index&lt;$DECODE_SERVER_QUANTITY; index++));\ndo \n IP=$(./dasel --plain -f $DECODE_SERVER_CONFIG \"[$index].host\")\n PORT=$(./dasel --plain -f $DECODE_SERVER_CONFIG \"[$index].port\")\n if ./wait-for-it.sh $IP:$PORT -t 3 &amp;&gt;/dev/null\n then\n  #logger info  \"$IP:$PORT is open\" false\n  :\n else\n  logger info \"$IP:$PORT is closed\" false\n  DELETE_SERVER_LIST+=(\"$IP:$PORT\")\n fi\ndone\nfor server in ${DELETE_SERVER_LIST[@]}; do\n DELETE_SERVER_IP=$(awk -F: '{print $1}' &lt;&lt;&lt; $server)\n DELETE_SERVER_PORT=$(awk -F: '{print $2}' &lt;&lt;&lt; $server)\n # \u200b\u5982\u679c\u200b\u5c4f\u853d\u200bIP\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u5c4f\u853d\u200b\u6587\u4ef6\u200b\u4e2d\u200b, \u200b\u8fd8\u4f1a\u200b\u5224\u65ad\u200b\u5728\u200b\u4e0d\u200b\u5728\u200b\u670d\u52a1\u5668\u200b\u5217\u8868\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u5728\u200b\u8fd8\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u5220\u6389\u200b\uff0c\u200b\u4e0d\u200b\u5728\u200b\u5c31\u200b\u4f1a\u200b\u8df3\u200b\u8fc7\u200b\n        if [[ $(./dasel -n -f $DELETED_SERVER_CONFIG -m \".(?:host=$DELETE_SERVER_IP)\") != null ]]; then\n      if [[ $(./dasel -n -f $DECODE_SERVER_CONFIG -m \".(?:host=$DELETE_SERVER_IP)\") != null ]]; then\n       logger info \"*\u200b\u6ce8\u610f\u200b* $server \u200b\u8be5\u200b\u670d\u52a1\u5668\u200b\u8fd8\u200b\u5b58\u5728\u200b\u4e8e\u200b $DECODE_SERVER_CONFIG \uff0c\u200b\u8fdb\u884c\u200b\u5220\u9664\u200b\u64cd\u4f5c\u200b\"\n       ./dasel delete -f $DECODE_SERVER_CONFIG -m \"(?:host=$DELETE_SERVER_IP)\"\n      fi\n                        logger info \"$server \u200b\u8be5\u200b\u670d\u52a1\u5668\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u4e8e\u200b\u5c4f\u853d\u200b\u5217\u8868\u200b\u4e2d\u200b, \u200b\u7565\u8fc7\u200b\"\n                        continue\n        fi\n        logger info \"\u200b\u5f00\u59cb\u200b\u4ece\u200b $DECODE_SERVER_CONFIG \u200b\u5254\u9664\u200b\u670d\u52a1\u5668\u200b $server\"\n        SERVER_JSON=$(./dasel -f $DECODE_SERVER_CONFIG -m \"(?:host=$DELETE_SERVER_IP)\")\n        ./dasel put document -f $DELETED_SERVER_CONFIG '[]' \"$SERVER_JSON\"\n        ./dasel delete -f $DECODE_SERVER_CONFIG -m \"(?:host=$DELETE_SERVER_IP)\"\n        logger info \"\u200b\u670d\u52a1\u5668\u200b $server \u200b\u5254\u9664\u200b\u6210\u529f\u200b\"\ndone\n\nlogger info \"\u200b\u5f00\u59cb\u200b\u6dfb\u52a0\u200b\u5df2\u7ecf\u200b\u6062\u590d\u200b\u7684\u200b\u670d\u52a1\u5668\u200b\u5230\u200b\u7ba1\u7406\u200b\u670d\u52a1\u5668\u200b\u670d\u52a1\u5668\u200b\u5217\u8868\u200b\u5f53\u4e2d\u200b...\"\nDELETED_SERVER_QUANTITY=$(./dasel -f $DELETED_SERVER_CONFIG '[#]')\nRECOVER_SERVER_LIST=()\nfor ((index=0; index&lt;$DELETED_SERVER_QUANTITY; index++));\ndo \n IP=$(./dasel --plain -f $DELETED_SERVER_CONFIG \"[$index].host\")\n PORT=$(./dasel --plain -f $DELETED_SERVER_CONFIG \"[$index].port\")\n for server in ${DELETE_SERVER_LIST[@]}; do\n  if [[ $server == ${IP}:${PORT} ]]; then\n   logger info \"${IP}:${PORT} \u200b\u8be5\u200b\u670d\u52a1\u5668\u200b\u521a\u521a\u200b\u5df2\u7ecf\u200b\u5c4f\u853d\u200b\uff0c\u200b\u4e0d\u200b\u6062\u590d\u200b\"\n   continue 2\n  fi\n done\n\n if ./wait-for-it.sh $IP:$PORT -t 3 &amp;&gt;/dev/null\n then\n  logger info  \"$IP:$PORT is open\" false\n  RECOVER_SERVER_LIST+=(\"$IP:$PORT\")\n else\n  #logger info \"$IP:$PORT is closed\" false\n  #RECOVER_SERVER_LIST+=(\"$IP:$PORT\")\n  :\n fi\ndone\nfor server in ${RECOVER_SERVER_LIST[@]}; do\n RECOVER_SERVER_IP=$(awk -F: '{print $1}' &lt;&lt;&lt; $server)\n RECOVER_SERVER_PORT=$(awk -F: '{print $2}' &lt;&lt;&lt; $server)\n # \u200b\u6062\u590d\u200b\u7684\u200b IP\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u4e8e\u200b\u670d\u52a1\u5668\u200b\u5217\u8868\u200b\u4e2d\u200b\uff0c\u200b\u8fd8\u4f1a\u200b\u7ee7\u7eed\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5728\u200b\u5c4f\u853d\u200b\u5217\u8868\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u5728\u200b\u8fd8\u200b\u4f1a\u200b\u5220\u6389\u200b\u5c4f\u853d\u200b\u5217\u8868\u200b\u7684\u200b\uff0c\u200b\u4e0d\u200b\u5728\u200b\u5c31\u200b\u4f1a\u200b\u8df3\u200b\u8fc7\u200b\n        if [[ $(./dasel -n -f $DECODE_SERVER_CONFIG -m \".(?:host=RECOVER_SERVER_IP)\") != null ]]; then\n      if [[ $(./dasel -f $DELETED_SERVER_CONFIG -m \"(?:host=$RECOVER_SERVER_IP)\") != null ]]; then\n       logger info \"*\u200b\u6ce8\u610f\u200b* $server \u200b\u8be5\u200b\u670d\u52a1\u5668\u200b\u8fd8\u200b\u5b58\u5728\u200b\u4e8e\u200b $DELETED_SERVER_CONFIG \uff0c\u200b\u8fdb\u884c\u200b\u5220\u9664\u200b\u64cd\u4f5c\u200b\"\n       ./dasel delete -f $DELETED_SERVER_CONFIG -m \"(?:host=$RECOVER_SERVER_IP)\"\n      fi\n                        logger info \"$server \u200b\u8be5\u200b\u670d\u52a1\u5668\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u4e8e\u200b\u670d\u52a1\u5668\u200b\u5217\u8868\u200b\u4e2d\u200b, \u200b\u7565\u8fc7\u200b\"\n                        continue\n        fi\n        logger info \"\u200b\u5f00\u59cb\u200b\u4ece\u200b $DELETED_SERVER_CONFIG \u200b\u6062\u590d\u200b\u670d\u52a1\u5668\u200b $server\"\n        SERVER_JSON=$(./dasel -f $DELETED_SERVER_CONFIG -m \"(?:host=$RECOVER_SERVER_IP)\")\n        ./dasel put document -f $DECODE_SERVER_CONFIG '[]' \"$SERVER_JSON\"\n        ./dasel delete -f $DELETED_SERVER_CONFIG -m \"(?:host=$RECOVER_SERVER_IP)\"\n        logger info \"\u200b\u670d\u52a1\u5668\u200b $server \u200b\u6062\u590d\u200b\u6210\u529f\u200b\"\ndone\n</code></pre>"},{"location":"Linux/shell%E8%84%9A%E6%9C%AC/#while","title":"while\u200b\u4e00\u6b21\u200b\u8bfb\u53d6\u200b\u4e24\u884c","text":"<pre><code>paste &lt;(sed -n '1~2p' txt) &lt;(sed -n '2~2p' txt) | while read ip ip_2\ndo\n    echo \"${ip}----${ip_2}\"\ndone\n\n10.128.12.18\n10.128.12.20\n10.128.12.27\n10.128.12.29\n10.128.12.49\n10.128.12.51\n10.128.12.57\n10.128.12.59\n10.128.12.65\n10.128.12.67\n10.128.12.69\n10.128.12.71\n10.128.12.73\n10.128.12.75\n</code></pre>"},{"location":"Linux/shell%E8%84%9A%E6%9C%AC%E9%80%89%E9%A1%B9%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/","title":"shell\u200b\u811a\u672c\u200b\u53c2\u6570\u200b\u81ea\u52a8\u200b\u8865\u5168","text":"<p>\u200b\u672c\u200b\u6559\u7a0b\u200b\u662f\u200b\u9488\u5bf9\u200b\u666e\u901a\u7528\u6237\u200b\u6765\u200b\u6267\u884c\u200b\u811a\u672c\u200b\u7684\u200b\u9009\u9879\u200b\u7684\u200b\u8865\u5168\u200b\uff0c\u200b\u4e0d\u200b\u9488\u5bf9\u200b\u4e8e\u200broot\u200b\u7528\u6237\u200b</p>"},{"location":"Linux/shell%E8%84%9A%E6%9C%AC%E9%80%89%E9%A1%B9%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/#_1","title":"\u8865\u5168\u200b\u914d\u7f6e","text":"<p>\u200b\u521b\u5efa\u200b\u8865\u5168\u200b\u6587\u4ef6\u200b\uff1a <pre><code>mkdir /home/qing/.bash_completion.d\ntouch /home/qing/.bash_completion.d/myscript\n</code></pre> \u200b\u5c06\u200b\u4e0b\u9762\u200b\u4ee3\u7801\u200b\u5199\u200b\u8fdb\u200b<code>myscript</code>\u200b\u6587\u4ef6\u200b\u4e2d\u200b <pre><code>_myscript_tab_complete () {\n    local cur prev opts\n    COMPREPLY=()\n    cur=\"${COMP_WORDS[COMP_CWORD]}\"\n    prev=\"${COMP_WORDS[COMP_CWORD-1]}\"\n    # \u200b\u9700\u8981\u200b\u8865\u5168\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u9700\u8981\u200b\u9488\u5bf9\u200b\u4e8e\u200b\u88ab\u200b\u8865\u5168\u200b\u811a\u672c\u200b\u6765\u200b\u6539\u200b\n    words=\"-f -h --etc\"\n    COMPREPLY=( $(compgen -W \"${words}\" -- ${cur}) )\n    return 0\n}\ncomplete -F _myscript_tab_complete myscript\n</code></pre> \u200b\u521b\u5efa\u200b\u6587\u4ef6\u200b\uff1a <pre><code>touch ~/.bash_completion\n</code></pre> \u200b\u5199\u5165\u200b\u4ee3\u7801\u200b\uff1a <pre><code>for bcfile in ~/.bash_completion.d/* ; do\n      . $bcfile\ndone\n</code></pre></p>"},{"location":"Linux/shell%E8%84%9A%E6%9C%AC%E9%80%89%E9%A1%B9%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/#_2","title":"\u811a\u672c\u200b\u914d\u7f6e","text":"<p>\u200b\u5c06\u200b\u88ab\u200b\u8865\u5168\u200b\u811a\u672c\u200b\u6587\u4ef6\u200b\u653e\u5230\u200b\u7edf\u4e00\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u5185\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u73af\u5883\u53d8\u91cf\u200b\uff1a <pre><code>mkdir ~/bin\nvim ~/.bash_profile\nPATH=$PATH:~/bin\nsource ~/.bash_profile\n</code></pre></p>"},{"location":"Linux/%E4%BD%BF%E7%94%A8systemd%E5%90%AF%E5%8A%A8jar%E7%A8%8B%E5%BA%8F/","title":"\u4f7f\u7528\u200bsystemd\u200b\u542f\u52a8\u200bjar\u200b\u7a0b\u5e8f","text":""},{"location":"Linux/%E4%BD%BF%E7%94%A8systemd%E5%90%AF%E5%8A%A8jar%E7%A8%8B%E5%BA%8F/#systemd","title":"systemd \u200b\u5355\u5143\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u7f16\u5199\u200b\u4e0e\u200b\u6d4b\u8bd5","text":"<p>\u200b       \u200b\u907f\u514d\u200b\u7ba1\u7406\u7a0b\u5e8f\u200b\u548c\u200b\u65e5\u5fd7\u200b\u7a0b\u5e8f\u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u7a0b\u5e8f\u200b\u56e0\u4e3a\u200bOOM\u200b\u7684\u200b\u60c5\u51b5\u200b\u88ab\u200b\u7cfb\u7edf\u200bKILL\uff0c\u200b\u6216\u8005\u200b\u5f02\u5e38\u200b\u9000\u51fa\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u8fd9\u4e2a\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5e94\u627e\u200b\u76f8\u5e94\u200b\u7684\u200b\u65b9\u6cd5\u200b\u6765\u200b\u907f\u514d\u200b\u6b64\u7c7b\u200b\u95ee\u9898\u200b\u3002\u200b\u6211\u7ecf\u200b\u6d4b\u8bd5\u200b\u53d1\u73b0\u200b\u901a\u8fc7\u200b\u7f16\u5199\u200bsystemd\u200b\u5355\u5143\u200b\u6587\u4ef6\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u6b64\u7c7b\u200b\u6545\u969c\u200b\u7684\u200b\u53d1\u751f\u200b\uff0c\u200b\u5982\u679c\u200b\u7a0b\u5e8f\u200b\u5f02\u5e38\u200b\u9000\u51fa\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u7b49\u5f85\u200b100ms\uff0c\u200b\u542f\u52a8\u200b\u5e94\u7528\u200b\u3002 [[systemd\u200b\u76f8\u5173\u200b\u547d\u4ee4\u200b]] 1. \u200b\u4e0a\u4f20\u200b\u7a0b\u5e8f\u200bdemo\u200b\u7a0b\u5e8f\u200b\u6587\u4ef6\u200b</p> <ol> <li>\u200b\u7f16\u5199\u200b\u542f\u52a8\u200b\u811a\u672c\u200b</li> </ol> <pre><code>#!/usr/bin/env bash\ncase $1 in\n        start)\n                $JAVA_HOME/bin/java $JAVA_OPTS -jar $JAR_NAMEOO &gt;&gt; $JAR_HOME/service.log 2&gt;&amp;1 &amp;\n                ;;\nesac\n</code></pre> <ol> <li>\u200b\u7f16\u5199\u200bunit\u200b\u914d\u7f6e\u6587\u4ef6\u200b</li> </ol> <p>\u200b        \u200b\u5728\u200b\u8def\u5f84\u200b<code>/usr/lib/systemd/system/</code>\u200b\u8def\u5f84\u200b\u4e0b\u200b\u7f16\u5199\u200bjar.service\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u3002</p> <p>\u200b        Systemd \u200b\u9ed8\u8ba4\u200b\u4ece\u200b\u76ee\u5f55\u200b<code>/etc/systemd/system/</code>\u200b\u8bfb\u53d6\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u91cc\u9762\u200b\u5b58\u653e\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u6587\u4ef6\u200b\u90fd\u200b\u662f\u200b\u7b26\u53f7\u200b\u94fe\u63a5\u200b\uff0c\u200b\u6307\u5411\u200b\u76ee\u5f55\u200b<code>/usr/lib/systemd/system/</code>\uff0c\u200b\u771f\u6b63\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u5b58\u653e\u200b\u5728\u200b\u90a3\u4e2a\u200b\u76ee\u5f55\u200b\u3002</p> <pre><code>[Unit]\n# \u200b\u5bf9\u200b\u5f53\u524d\u200b\u670d\u52a1\u200b\u7684\u200b\u7b80\u5355\u200b\u63cf\u8ff0\u200b\uff0c\u200b\u6211\u200b\u8fd9\u91cc\u200b\u63cf\u8ff0\u200b\u4e0d\u662f\u200b\u5f88\u200b\u6070\u5f53\u200b\nDescription= test script jar.sh\n# \u200b\u5982\u679c\u200bnetwork.target\u200b\u9700\u8981\u200b\u542f\u52a8\u200b\uff0c\u200b\u90a3\u4e48\u200bjar.service\u200b\u5728\u200b\u5b83\u200b\u4e4b\u540e\u200b\u542f\u52a8\u200b\nAfter=network.target\n\n[Service]\n# ExecStart\u200b\u5b57\u6bb5\u200b\u5c06\u200b\u4ee5\u200bfork()\u200b\u65b9\u5f0f\u200b\u542f\u52a8\u200b\uff0c\u200b\u6b64\u65f6\u200b\u7236\u200b\u8fdb\u7a0b\u200b\u5c06\u4f1a\u200b\u9000\u51fa\u200b\uff0c\u200b\u5b50\u200b\u8fdb\u7a0b\u200b\u5c06\u200b\u6210\u4e3a\u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\nType=forking\n# \u200b\u5b9a\u4e49\u200b\u53d8\u91cf\u200b\nEnvironment=\"JAVA_HOME=/usr/java/jdk1.8.0_212/\"\n# \u200b\u5b9a\u4e49\u200b\u53d8\u91cf\u200b\nEnvironment=\"JAR_DIR=/root/app/demo-1.0.6\"\n# \u200b\u5b9a\u4e49\u200b\u53d8\u91cf\u200b\nEnvironment=\"JAR_NAMEOO=demo-1.0.6.jar\"\n# \u200b\u5b9a\u4e49\u200b\u542f\u52a8\u200b\u8fdb\u7a0b\u200b\u6267\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u811a\u672c\u200b\u4e2d\u200b\u5f15\u7528\u200b\u53d8\u91cf\u200b\nExecStart=/root/jar.sh start\n# \u200b\u5f53\u200b\u8fdb\u7a0b\u200b\u9000\u51fa\u200b\u540e\u200b\uff0c\u200b\u4ee5\u200b\u4ec0\u4e48\u200b\u65b9\u5f0f\u200b\u91cd\u542f\u200b\uff0calways\uff1a\u200b\u4e0d\u7ba1\u200b\u662f\u200b\u4ec0\u4e48\u200b\u9000\u51fa\u200b\u539f\u56e0\u200b\uff0c\u200b\u603b\u662f\u200b\u91cd\u542f\u200b\nRestart=always\n# \u200b\u8bbe\u7f6e\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u5de5\u4f5c\u200b\u76ee\u5f55\u200b\nWorkingDirectory=/root/app/demo-1.0.6\n\n[Install]\n# \u200b\u8868\u793a\u200b\u8be5\u200b\u670d\u52a1\u200b\u6240\u5728\u200b\u7684\u200b Target\nWantedBy=multi-user.target\n</code></pre> <p>\u200b    \u200b\u8bbe\u7f6e\u200bjar.service\u200b\u8f6f\u200b\u8fde\u63a5\u200b\u5230\u200b<code>/etc/systemd/system/</code></p> <pre><code>ln -s /usr/lib/systemd/system/jar.service /etc/systemd/system/\n</code></pre> <p>\u200b    \u200b\u7f16\u5199\u200b\u6216\u8005\u200b\u4fee\u6539\u200b\u5355\u5143\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5e94\u8be5\u200b\u91cd\u8f7d\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u624d\u200b\u4f1a\u200b\u751f\u6548\u200b\u3002</p> <pre><code>systemctl daemon-reload\nsystemctl start jar.service\n</code></pre> <ol> <li> <p>\u200b\u603b\u7ed3\u200b</p> <ol> <li> <p>\u200b\u8bd5\u7740\u200bkill\u200b\u6389\u200bjava\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u7ed3\u679c\u200b\u7a0b\u5e8f\u200b\u53c8\u200b\u88ab\u200b\u91cd\u65b0\u200b\u62c9\u200b\u4e86\u200b\u8d77\u6765\u200b\uff0c\u200b\u53ea\u6709\u200b\u6267\u884c\u200b</p> <p><code>systemctl stop jar.service</code> \u200b\u7a0b\u5e8f\u200b\u624d\u200b\u4f1a\u200b\u505c\u6b62\u200b\u3002</p> </li> <li> <p>\u200b\u518d\u200b\u4efb\u4f55\u200b\u5730\u65b9\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u91cd\u65b0\u542f\u52a8\u200bjava\u200b\u7a0b\u5e8f\u200b\u3002</p> </li> <li> <p>\u200b\u53ef\u4ee5\u200b\u4e0d\u7528\u200b\u8c03\u7528\u200b\uff0c\u200b\u76f4\u63a5\u200b\u628a\u200b\u547d\u4ee4\u200b\u5199\u200b\u5728\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u3002</p> </li> <li> <p>\u200b\u53ef\u4ee5\u200b\u7ed9\u200b\u5176\u4ed6\u200b\u670d\u52a1\u200b\u5355\u5143\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u52a0\u4e0a\u200bRestart\u200b\u53c2\u6570\u200b\u3002</p> </li> <li> <p>\u200b\u91cd\u65b0\u200b\u5b9a\u4e49\u200b\u73af\u5883\u53d8\u91cf\u200b\u8ba9\u200b\u5355\u5143\u200b\u670d\u52a1\u200b\u5177\u6709\u200b\u53ef\u79fb\u690d\u6027\u200b\u3002 <pre><code>[Unit]\nDescription=start service\nAfter=network.target\n\n[Service]\nType=simple\nExecStart=java -Dlog.days=7 -Dlog.dir=./logs -jar service-service-ct-cloud-1.0.7.jar\nRestart=on-failure\nRestartSec=3s\nWorkingDirectory=/data/service-service-ct-cloud/service-service-ct-cloud\n\n[Install]\nWantedBy=multi-user.target\n[sunrise@gzsmz012089 user]$ ls\nservice.service\n</code></pre></p> </li> </ol> </li> </ol> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <p>\u200b       http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html</p> <p>\u200b       http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-part-two.html</p> <p>\u200b       http://www.jinbuguo.com/systemd/systemd.index.html</p> <p>\u200b       https://qastack.cn/server/413397/how-to-set-environment-variable-in-systemd-service</p>"},{"location":"Linux/%E4%BF%AE%E5%A4%8Dnginx%20http%E5%A4%B4%E7%9B%B8%E5%85%B3%E6%BC%8F%E6%B4%9E/","title":"\u4fee\u590d\u200bhttp\u200b\u5934\u200b\u76f8\u5173\u200b\u6f0f\u6d1e","text":"<p>\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u6709\u5982\u200b\u4e0a\u200b\u6f0f\u6d1e\u200b\uff0c\u200b\u672a\u200b\u7528\u200bNGINX\u200b\u4ee3\u7406\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6709\u200b\u4e24\u79cd\u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1a 1. \u200b\u5728\u200b\u5e94\u7528\u200b\u4e2d\u200b\u76f4\u63a5\u200badd headers 2. \u200b\u90e8\u7f72\u200b\u5b89\u88c5\u200bNGINX\uff0c\u200b\u5728\u200bNGINX\u200b\u6765\u200badd headers</p> <p>\u200b\u6211\u7528\u200b\u7684\u200b\u7f16\u8bd1\u200bNGINX\uff0c\u200b\u5728\u200bNGINX\u200b\u4e2d\u200badd headers\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200bNGINX\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4ec5\u4f9b\u53c2\u8003\u200b\uff1a <pre><code># \u200b\u4fee\u6539\u200b\u7528\u6237\u200b\nuser  qing;\nworker_processes  auto;\nerror_log  logs/error.log;\npid        logs/nginx.pid;\nworker_rlimit_nofile 655350;\nevents {\n    worker_connections  65535;\n}\n\nhttp{\n    server_tokens off;\n    more_clear_headers 'Server';\n    # \u200b\u6700\u540e\u200b\u6210\u529f\u200b\u540e\u200b\uff0c\u200b\u5173\u95ed\u200b\u8bbf\u95ee\u200b\u65e5\u5fd7\u200b\n    # access_log off;\n        server {\n            server_name localhost;\n            # \u200b\u4fee\u6539\u200b\u76d1\u542c\u200b\u7aef\u53e3\u200b\n            listen 8080;\n            location /{\n                # \u200b\u4fee\u6539\u200b\u4e3a\u200b127.0.0.1:8081\n                proxy_pass 127.0.0.1:8081;\n                more_set_headers \"X-Content-Type-Options: nosniff\";\n                more_set_headers \"X-XSS-Protection: '1; mode=block'\";\n                more_set_headers \"Content-Security-Policy: default-src self\";\n                more_set_headers \"X-Frame-Options: DENY\";\n                more_set_headers \"Referrer-Policy: no-referrer\";\n                more_set_headers \"Permissions-Policy: vibrate 'none'; geolocation 'none'\";\n                more_set_headers \"strict-transport-security: max-age=0; includeSubDomains; preload\";\n                more_set_headers \"X-Permitted-Cross-Domain-Policies: none\";\n                more_set_headers \"X-Download-Options: noopen\";\n            }\n        }\n}\n</code></pre></p> <p>\u200b\u672c\u6765\u200bNGINX\u200b\u5c31\u200b\u81ea\u5e26\u200b\u4e86\u200b\u4e00\u4e2a\u200b<code>add_headers</code>\u200b\u9009\u9879\u200b\u6765\u200b\u6dfb\u52a0\u200b\u54cd\u5e94\u200b\u5934\u200b\uff0c\u200b\u6211\u200b\u6dfb\u52a0\u200b<code>add_header</code>\u200b\u4e0d\u200b\u751f\u6548\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7f16\u8bd1\u200b\u5b89\u88c5\u200bNGINX\u200b\u7684\u200b\u65f6\u5019\u200b\u4f7f\u7528\u200b\u4e86\u200b\u7b2c\u4e09\u65b9\u200b\u6a21\u5757\u200bheaders-more-nginx-module\u200b\u6765\u200b\u6dfb\u52a0\u200b\u54cd\u5e94\u200b\u5934\u200b\uff0c\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u5b89\u88c5\u200b\u65b9\u6cd5\u200b\uff1a <pre><code> wget 'http://nginx.org/download/nginx-1.17.8.tar.gz'\n tar -xzvf nginx-1.17.8.tar.gz\n cd nginx-1.17.8/\n\n # Here we assume you would install you nginx under /opt/nginx/.\n ./configure --prefix=/opt/nginx \\\n     --add-module=/path/to/headers-more-nginx-module\n\n make\n make install\n</code></pre></p> <p>\u200b\u4fee\u590d\u200b\u5b8c\u540e\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u7f51\u7ad9\u200b\u8fdb\u884c\u200bheaders\u200b\u626b\u63cf\u200b\uff1a - Analyse your HTTP response headers (securityheaders.com)</p>"},{"location":"Linux/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98/","title":"\u5185\u6838\u200b\u53c2\u6570\u200b\u8c03\u4f18","text":""},{"location":"Linux/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98/#_1","title":"\u5185\u6838\u200b\u53c2\u6570\u200b\u8c03\u4f18","text":"<p>```shell net.ipv4.tcp_timestamps = 1</p>"},{"location":"Linux/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98/#-nginxtime_wait","title":"\u5ba2\u6237\u7aef\u200b -&gt; nginx\u200b\u8fde\u63a5\u200b\u590d\u7528\u200b\uff0c\u200b\u4e3b\u52a8\u200b\u5173\u95ed\u200b\u4e86\u200bTIME_WAIT","text":"<p>net.ipv4.tcp_tw_reuse = 1</p>"},{"location":"Linux/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98/#nginx-","title":"nginx -&gt; \u200b\u7ba1\u7406\u7a0b\u5e8f\u200b\u8fde\u63a5\u200b\u590d\u7528","text":"<p>net.ipv4.tcp_tw_recycle=1</p>"},{"location":"Linux/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98/#fin-wait-2","title":"\u51cf\u5c11\u200b\u5904\u4e8e\u200bFIN-WAIT-2\u200b\u8fde\u63a5\u200b\u72b6\u6001\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u4f7f\u200b\u7cfb\u7edf\u200b\u53ef\u4ee5\u200b\u5904\u7406\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u8fde\u63a5","text":"<p>net.ipv4.tcp_fin_timeout = 30</p>"},{"location":"Linux/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98/#tcp-syn-cookiesyncflood","title":"\u6253\u5f00\u200bTCP SYN cookie\u200b\u9009\u9879\u200b\uff0c\u200b\u6709\u52a9\u4e8e\u200b\u4fdd\u62a4\u200b\u670d\u52a1\u5668\u200b\u514d\u53d7\u200bSyncFlood\u200b\u653b\u51fb\u200b\u3002","text":"<p>net.ipv4.tcp_syncookies=1</p>"},{"location":"Linux/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98/#tcp-keepalived180330","title":"\u51cf\u5c11\u200bTCP Keepalived\u200b\u8fde\u63a5\u200b\u63a2\u6d4b\u200b\uff0c\u200b\u8fde\u63a5\u200b\u95f2\u7f6e\u200b180\u200b\u79d2\u200b\u540e\u200b\uff0c\u200b\u53d1\u6b21\u200b3\u200b\u6b21\u200b\u63a2\u6d4b\u200b\uff0c\u200b\u6bcf\u6b21\u200b30\u200b\u79d2","text":"<p>net.ipv4.tcp_keepalive_time = 180 net.ipv4.tcp_keepalive_probes = 3 net.ipv4.tcp_keepalive_intvl = 30</p> <p>net.ipv4.tcp_timestamps = 1 net.ipv4.tcp_tw_reuse = 1 net.ipv4.tcp_tw_recycle=1 net.ipv4.tcp_fin_timeout = 30 net.ipv4.tcp_syncookies=1 net.ipv4.tcp_keepalive_time = 180 net.ipv4.tcp_keepalive_probes = 3 net.ipv4.tcp_keepalive_intvl = 30</p>"},{"location":"Linux/%E5%90%AF%E7%94%A8sudo%E6%9D%83%E9%99%90/","title":"\u542f\u7528\u200bsudo\u200b\u6743\u9650","text":""},{"location":"Linux/%E5%90%AF%E7%94%A8sudo%E6%9D%83%E9%99%90/#sudo","title":"\u542f\u7528\u200bsudo\u200b\u6743\u9650","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u5982\u4f55\u200b\u5c06\u200b\u7528\u6237\u200b\u6dfb\u52a0\u200b\u5230\u200b\u8d85\u7ea7\u200b\u7528\u6237\u7ec4\u200b\u3002</p> <p>\u200b\u6253\u5f00\u200b\u7ec8\u7aef\u200b\u5e76\u200b\u4f7f\u7528\u200b root \u200b\u5bc6\u7801\u200b\u8fdb\u5165\u200b root \u200b\u8d26\u6237\u200b\u3002</p> <pre><code>su\n</code></pre> <p>\u200b\u7136\u540e\u200b\u8fd0\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff0c\u200b\u5c06\u200b\u4f60\u200b\u7684\u200b\u7528\u6237\u200b\u8d26\u6237\u200b\u6dfb\u52a0\u200b\u5230\u200b\u00a0<code>sudo</code>\u00a0\u200b\u7ec4\u200b\u3002\u200b\u8bf7\u200b\u5c06\u200b\u4e0b\u9762\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u66f4\u200b\u6539\u4e3a\u200b\u4f60\u200b\u7684\u200b\u8d26\u6237\u200b\u3002</p> <p><pre><code>/sbin/addgroup \u200b\u7528\u6237\u540d\u200b sudo\n</code></pre> \u200b\u73b0\u5728\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u6ce8\u9500\u200b\u5e76\u200b\u518d\u6b21\u200b\u767b\u5f55\u200b\u8be5\u200b\u8d26\u6237\u200b\u3002</p>"},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/","title":"\u6d4b\u8bd5\u200b\u7aef\u53e3\u200b\u8fde\u901a\u6027\u200b\u7684\u200b\u51e0\u79cd\u200b\u547d\u4ee4","text":""},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#windows","title":"windows \u200b\u5e73\u53f0","text":"<p>windows\u200b\u5e73\u53f0\u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u5b89\u88c5\u200btelnet\uff0c\u200b\u6240\u4ee5\u200b\u63a8\u8350\u200b\u5148\u200b\u4f7f\u7528\u200bcurl\uff0ccurl\u200b\u6bd4\u200btelnet\u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\u5feb\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u8d85\u65f6\u200b\u65f6\u95f4\u200b\u3002</p>"},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#curl","title":"\u7b2c\u4e00\u79cd\u200b Curl","text":"<pre><code>echo | curl --connect-timeout 3 telnet://www.baidu.com:443 || echo Exit Code is %errorlevel%\n</code></pre>"},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#telnet","title":"\u7b2c\u4e8c\u79cd\u200btelnet","text":"<pre><code>echo |  telnet www.baidu.com 443\n</code></pre>"},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#linux","title":"Linux \u200b\u5e73\u53f0","text":""},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#curl_1","title":"\u7b2c\u4e00\u79cd\u200b curl","text":"<pre><code>echo  | curl --connect-timeout 3 -m 3 telnet://www.baidu.com:443\n</code></pre>"},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#telnet_1","title":"\u7b2c\u4e8c\u79cd\u200b Telnet","text":"<pre><code>echo | telnet www.baidu.com 443\n</code></pre>"},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#socket","title":"\u7b2c\u4e09\u79cd\u200b \u200b\u6253\u5f00\u200b\u4e00\u4e2a\u200bsocket\u200b\u8fde\u63a5","text":"<p>\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u4f7f\u7528\u200b\u57df\u540d\u200b\u4f1a\u200b\u963b\u585e\u4f4f\u200b\uff0c\u200b\u6240\u4ee5\u200b\u53ea\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200bip\u200b\u63a2\u6d4b\u200b <pre><code>echo -n &gt; /dev/tcp/127.0.0.1/80\n</code></pre></p>"},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#nc","title":"\u7b2c\u56db\u79cd\u200b \u200b\u4f7f\u7528\u200b nc","text":"<p>\u200b\u6709\u4e9b\u200b\u7cfb\u7edf\u200b\u8981\u200b\u5b89\u88c5\u200b\uff0c\u200b\u5148\u7565\u200b</p>"},{"location":"Linux/%E6%B5%8B%E8%AF%95%E7%AB%AF%E5%8F%A3%E8%BF%9E%E9%80%9A%E6%80%A7%E7%9A%84%E5%87%A0%E7%A7%8D%E5%91%BD%E4%BB%A4/#shell","title":"\u4f7f\u7528\u200bshell\u200b\u811a\u672c","text":"<p>vishnubob/wait-for-it: Pure bash script to test and wait on the availability of a TCP host and port (github.com)</p>"},{"location":"Linux/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85ansible/","title":"\u79bb\u7ebf\u200b\u5b89\u88c5\u200bansible","text":"","tags":["ansible","\u670d\u52a1\u642d\u5efa"]},{"location":"Linux/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85ansible/#_1","title":"\u4e0b\u8f7d\u200b\u79bb\u7ebf\u200b\u5305","text":"<p>\u200b\u9996\u5148\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200bpython3.9\u200b\u7684\u200b\u865a\u62df\u73af\u5883\u200b\uff0c\u200b\u6211\u200b\u8fd9\u91cc\u200b\u5728\u200bwsl2\u200b\u91cc\u9762\u200b\u8fdb\u884c\u200b\u521b\u5efa\u200b\u7684\u200b\uff0c\u200b\u9700\u8981\u200b\u5b89\u88c5\u200bminiconda\uff0c \u200b\u5b89\u88c5\u200bminicoda\u200b\u811a\u672c\u200b\uff0c\u200b\u811a\u672c\u200bgitlab\u200b\u94fe\u63a5\u200b\uff1a <pre><code>#!/usr/bin/bash\nset -e\nwget \"https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda3-latest-Linux-x86_64.sh\" -O ~/miniconda.sh\nbash ~/miniconda.sh -b -p $HOME/miniconda\nrm ~/miniconda.sh\n~/miniconda/bin/conda init $(echo $SHELL | awk -F '/' '{print $NF}')\necho 'Successfully installed miniconda...'\necho -n 'Conda version: '\n~/miniconda/bin/conda --version\necho -e '\\n'\nexec bash\n</code></pre>  \u200b\u5b89\u88c5\u200b\u865a\u62df\u73af\u5883\u200b <pre><code>conda create -n pyton3.9 python=3.9\nconda env list\n# \u200b\u5207\u6362\u200b\u865a\u62df\u73af\u5883\u200b\nconda activate pyton3.9\n</code></pre> \u200b\u4e0b\u8f7d\u200b\u79bb\u7ebf\u200b\u5305\u200b <pre><code>mkdir ansible\npip download ansible -d ansible/ -i https://pypi.douban.com/simple\n</code></pre></p>","tags":["ansible","\u670d\u52a1\u642d\u5efa"]},{"location":"Linux/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85ansible/#_2","title":"\u5b89\u88c5\u200b\u79bb\u7ebf\u200b\u5305","text":"<p>\u200b\u5148\u200b\u628a\u200b\u79bb\u7ebf\u200b\u5305\u200b\u4e0a\u200b\u4f20\u5230\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b <pre><code>cd ansible\npip3 install --no-index --find-links=. *\n</code></pre></p>","tags":["ansible","\u670d\u52a1\u642d\u5efa"]},{"location":"Linux/%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85ansible/#_3","title":"\u5b89\u88c5\u200b\u62a5\u9519","text":"<ul> <li>ERROR: cryptography-38.0.3-cp39-abi3-manylinux_2_28_x86_64.whl is not a supported wheel on this platform. \u200b\u4fee\u6539\u200b\u5b89\u88c5\u5305\u200b\u540d\u79f0\u200b\uff0c\u200b\u9996\u5148\u200b\u67e5\u770b\u200b\u6240\u6709\u200bpip\u200b\u652f\u6301\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u200b\u7684\u200b\u67b6\u6784\u200b\uff1a <pre><code>pip3 debug --verbose\nWARNING: This command is only meant for debugging. Do not use this with automation for parsing and getting these details, since the output and options of this command may change without notice.\npip version: pip 22.0.4 from /usr/local/lib/python3.9/site-packages/pip (python 3.9)\nsys.version: 3.9.15 (main, Nov  8 2022, 10:43:19) \n[GCC 4.8.5 20150623 (Red Hat 4.8.5-44)]\nsys.executable: /usr/local/bin/python3.9\nsys.getdefaultencoding: utf-8\nsys.getfilesystemencoding: utf-8\nlocale.getpreferredencoding: UTF-8\nsys.platform: linux\nsys.implementation:\n  name: cpython\n'cert' config value: Not specified\nREQUESTS_CA_BUNDLE: None\nCURL_CA_BUNDLE: None\npip._vendor.certifi.where(): /usr/local/lib/python3.9/site-packages/pip/_vendor/certifi/cacert.pem\npip._vendor.DEBUNDLED: False\nvendored library versions:\n  CacheControl==0.12.10\n  colorama==0.4.4\n  distlib==0.3.3\n  distro==1.6.0\n  html5lib==1.1\n  msgpack==1.0.3 (Unable to locate actual module version, using vendor.txt specified version)\n  packaging==21.3\n  pep517==0.12.0\n  platformdirs==2.4.1\n  progress==1.6\n  pyparsing==3.0.7\n  requests==2.27.1\n  certifi==2021.10.08\n  chardet==4.0.0\n  idna==3.3\n  urllib3==1.26.8\n  rich==11.0.0 (Unable to locate actual module version, using vendor.txt specified version)\n  pygments==2.11.2\n  typing_extensions==4.0.1 (Unable to locate actual module version, using vendor.txt specified version)\n  resolvelib==0.8.1\n  setuptools==44.0.0 (Unable to locate actual module version, using vendor.txt specified version)\n  six==1.16.0\n  tenacity==8.0.1 (Unable to locate actual module version, using vendor.txt specified version)\n  tomli==1.0.3\n  webencodings==0.5.1 (Unable to locate actual module version, using vendor.txt specified version)\nCompatible tags: 369\n  cp39-cp39-manylinux_2_17_x86_64\n  cp39-cp39-manylinux2014_x86_64\n  cp39-cp39-manylinux_2_16_x86_64\n  cp39-cp39-manylinux_2_15_x86_64\n  cp39-cp39-manylinux_2_14_x86_64\n  cp39-cp39-manylinux_2_13_x86_64\n  cp39-cp39-manylinux_2_12_x86_64\n  cp39-cp39-manylinux2010_x86_64\n  cp39-cp39-manylinux_2_11_x86_64\n  cp39-cp39-manylinux_2_10_x86_64\n  cp39-cp39-manylinux_2_9_x86_64\n  cp39-cp39-manylinux_2_8_x86_64\n  cp39-cp39-manylinux_2_7_x86_64\n  cp39-cp39-manylinux_2_6_x86_64\n.........\n</code></pre> \u200b\u5bf9\u200b\u4e0d\u200b\u652f\u6301\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u200b\u540d\u79f0\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\uff0c\u200b\u518d\u6b21\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b <pre><code>mv cryptography-38.0.3-cp39-abi3-manylinux_2_28_x86_64.whl cryptography-38.0.3-py38-none-manylinux_2_17_x86_64.whl\n</code></pre></li> </ul>","tags":["ansible","\u670d\u52a1\u642d\u5efa"]},{"location":"Linux/%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/","title":"\u8c03\u6574\u200bLinux\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\u6570","text":""},{"location":"Linux/%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/#linux","title":"\u8c03\u6574\u200bLinux\u200b\u7cfb\u7edf\u200b\u8fde\u63a5\u6570","text":"<p>\u200b\u67e5\u770b\u200b\u7528\u6237\u200b\u6253\u5f00\u200b\u6700\u5927\u200b\u6587\u4ef6\u200b\u6570\u200b</p> <pre><code>ulimit -n\n</code></pre> <p>\u200b\u67e5\u770b\u200b\u7cfb\u7edf\u200b\u7ea7\u200b\u7684\u200b\u6700\u5927\u200b\u9650\u5236\u200b</p> <pre><code>cat /proc/sys/fs/file-max\n</code></pre> <p>linux \u200b\u4e2d\u200b, \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u00a0<code>cat /proc/pid/limits</code>\u00a0\u200b\u7684\u200b\u65b9\u5f0f\u200b\u67e5\u770b\u200b\u4e00\u4e2a\u200b\u8fdb\u7a0b\u200b\u7684\u200b ulimit \u200b\u9650\u5236\u200b\u60c5\u51b5\u200b, \u200b\u5982\u4e0b\u200b\u6240\u793a\u200b:</p> <pre><code># cat /proc/31519/limits\nLimit                     Soft Limit           Hard Limit           Units\nMax cpu time              unlimited            unlimited            seconds\nMax file size             unlimited            unlimited            bytes\nMax data size             unlimited            unlimited            bytes\nMax stack size            8388608              unlimited            bytes\nMax core file size        0                    unlimited            bytes\nMax resident set          unlimited            unlimited            bytes\nMax processes             65535                65535                processes\nMax open files            65535                65535                files\nMax locked memory         65536                65536                bytes\nMax address space         unlimited            unlimited            bytes\nMax file locks            unlimited            unlimited            locks\nMax pending signals       14052                14052                signals\nMax msgqueue size         819200               819200               bytes\nMax nice priority         0                    0\nMax realtime priority     0                    0\nMax realtime timeout      unlimited            unlimited            us\n</code></pre>"},{"location":"Linux/%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/#_1","title":"\u4e34\u65f6\u200b\u8c03\u6574","text":""},{"location":"Linux/%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/#1-prlimitcentos7","title":"\u65b9\u5f0f\u200b1. prlimit(Centos7\u200b\u4ee5\u4e0a\u200b)","text":"<p>Centos/RedHat 7 \u200b\u53ca\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u7cfb\u7edf\u200b\u4f7f\u7528\u200b\u00a0<code>prlimit</code>\u00a0\u200b\u5de5\u5177\u200b(&gt;= util-linux-2.21 \u200b\u63d0\u4f9b\u200b)\u200b\u4fee\u6539\u200b:</p> <pre><code># \u200b\u4e0d\u200b\u9650\u5236\u200b\u662f\u200b unlimited:unlimited\nprlimit --pid xxxx --nofile=65535:65535\n</code></pre>"},{"location":"Linux/%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/#2-centos6","title":"\u65b9\u5f0f\u200b2. (Centos6\u200b\u4ee5\u4e0b\u200b)","text":"<p>\u200b\u65e9\u671f\u200b\u7cfb\u7edf\u200b(\u200b\u6bd4\u5982\u200b Centos/RedHat 6 - 2.6.32+), \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u4ee5\u4e0b\u200b\u65b9\u5f0f\u200b\u76f4\u63a5\u200b\u4fee\u6539\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u9650\u5236\u200b:</p> <pre><code>echo -n \u201cMax processes=SOFT_LIMIT:HARD_LIMIT\u201d &gt; /proc/pid/limits\necho -n \u201cMax open files=SOFT_LIMIT:HARD_LIMIT\u201d &gt; /proc/pid/limits\n</code></pre>"},{"location":"Linux/%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/#3-centos6","title":"\u65b9\u5f0f\u200b3. Centos6\u200b\u4ee5\u4e0a","text":"<p>\u200b\u8bb0\u5f55\u200b\u4e0b\u200b\u53e6\u5916\u200b\u4e00\u79cd\u200b\u65b9\u5f0f\u200b\u8c03\u6574\u200b\u8fde\u63a5\u6570\u200b\uff0c\u200b\u5728\u200b\u542f\u52a8\u200b\u7684\u200b\u7684\u200b\u65f6\u5019\u200b\u8fdb\u884c\u200b\u8c03\u6574\u200b\uff0c\u200b\u540c\u65f6\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u7528\u6237\u200b\u8fd0\u884c\u200b\u6b21\u200b\u7a0b\u5e8f\u200b\uff1a</p> <pre><code>ulimit -n 65535\nsu -s /bin/sh -c 'java -Dlog.dir=logs -Dlog.days=7 -jar logger-1.0.5.jar &gt;/dev/null 2&gt;&amp;1 &amp;' sunrise\n</code></pre>"},{"location":"Linux/%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/#todo","title":"\u6c38\u4e45\u200b\u4fee\u6539\u200b(TODO)","text":"<p>(137\u200b\u6761\u200b\u6d88\u606f\u200b) RedHat\u3001centos 7.0\u200b\u4ee5\u4e0a\u200b\u8bbe\u7f6e\u200b\u7cfb\u7edf\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\u6570\u7b49\u200b\u8bbe\u7f6e\u200b\u95ee\u9898\u200b_hzgj77\u200b\u7684\u200b\u535a\u5ba2\u200b-CSDN\u200b\u535a\u5ba2\u200b</p>"},{"location":"Linux/%E9%9D%99%E6%80%81%E7%BC%96%E8%AF%91procps-ng/","title":"\u9759\u6001\u200b\u7f16\u8bd1\u200bprocps-ng","text":"<p>\u200b\u5148\u200b\u4e0b\u8f7d\u200b\u6700\u65b0\u200b\u7684\u200b\uff1a procps-ng\uff0c\u200b\u7136\u540e\u200b\u4e0a\u200b\u4f20\u5230\u200b\u670d\u52a1\u5668\u200b\uff0c\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\uff1a <pre><code>tar xfv procps-ngxxx.xz \ncd procps-ng-xxx\n# prefix\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\u8981\u200b\u6539\u4e0b\u200b\n./configure --prefix=/procps --disable-shared --without-ncurses LDFLAGS=--static\nmake -j$((`grep -c ^processor /proc/cpuinfo` - 1))\nmake install\n</code></pre></p> <p>\u200b\u5207\u6362\u200b\u5230\u200b\u5b89\u88c5\u200b\u8def\u5f84\u200b\u4e0b\u200b\u7684\u200bbin\u200b\u6587\u4ef6\u5939\u200b\u4e0b\u200b\uff1a <pre><code>ldd *\nfree:\n    \u200b\u4e0d\u662f\u200b\u52a8\u6001\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\nkill:\n    \u200b\u4e0d\u662f\u200b\u52a8\u6001\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\npgrep:\n    \u200b\u4e0d\u662f\u200b\u52a8\u6001\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\npidof:\n</code></pre></p> <p>\u200b\u5173\u4e8e\u200bpgrep\u200b\u95ee\u9898\u200b: <pre><code>pgrep\u00a0-af\u00a0\"process[\u00a0]+$\"\n</code></pre></p> <p>\u200b\u4f7f\u7528\u200b procps-ng \u200b\u76d1\u63a7\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u7684\u200b Linux \u200b\u7cfb\u7edf\u200b |Opensource.com</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/","title":"10\u200b\u4e2a\u200bLinux\u200b\u547d\u4ee4\u884c\u200b\u8fd0\u7b97\u7b26","text":"","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#_1","title":"\u4e00\u200b\u3001 \u200b\u540e\u53f0\u200b\u8fd0\u884c\u200b\u201c&amp;\u201d","text":"<pre><code>gedit &amp;\n</code></pre>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#_2","title":"\u4e8c\u200b\u3001\u200b\u5206\u200b\u53f7\u200b\u8fd0\u7b97\u7b26\u200b\u201c;\u201d","text":"<pre><code>pwd; mkdir test; cd test; touch file\n</code></pre>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#or","title":"\u4e09\u200b\u3001OR \u200b\u8fd0\u7b97\u7b26\u200b\u201c||\u201d","text":"<pre><code>bad_command || ls\n</code></pre>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#_3","title":"\u56db\u200b\u3001\u200b\u7ba1\u9053\u200b\u201c|\u201d","text":"<pre><code>cat test | grep -i \"makeuseof\"\n</code></pre>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#and","title":"\u4e94\u200b\u3001AND \u200b\u8fd0\u7b97\u7b26\u200b\u201c&amp;&amp;\u201d","text":"<pre><code>cd /tmp &amp;&amp; ls\n</code></pre>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#not","title":"\u516d\u200b\u3001NOT \u200b\u8fd0\u7b97\u7b26\u200b\u201c!\u201d","text":"<pre><code>rm -r !(*.txt)\n</code></pre> <p>\u200b\u9ed8\u8ba4\u200b\u4e0d\u4f1a\u200b\u6267\u884c\u200b\u6210\u529f\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5f00\u542f\u200b<code>extglob</code>\u200b\u624d\u200b\u4f1a\u200b\u6210\u529f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u4e0d\u200b\u5f00\u542f\u200b\u8fd9\u4e2a\u200b\u9009\u9879\u200b\u7684\u200b\uff0c\u200b\u5982\u679c\u200b\u5f00\u542f\u200b <code>extglob</code>\u200b\u9009\u9879\u200b\uff0c shell \u200b\u5c06\u200b\u542f\u7528\u200b\u6a21\u5f0f\u5339\u914d\u200b\uff0c</p> <pre><code>shopt | grep extglob\nshopt -s extglob # \u200b\u5f00\u542f\u200b\nshopt -u extglob # \u200b\u5173\u95ed\u200b\n</code></pre>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#_4","title":"\u4e03\u200b\u3001\u200b\u8fd0\u7b97\u7b26\u200b\u201c()\u201d","text":"<pre><code>(ls *.txt &gt; txt-files.list &amp;&amp; cp *.tx ~) &amp;&amp; (ls *.deb &gt; deb-packages.list &amp;&amp; cp *.deb ~) || echo \"Precedence Test!\"\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u628a\u200b\u62ec\u53f7\u200b\u91cc\u9762\u200b\u7684\u200b\u547d\u4ee4\u200b\u770b\u6210\u200b\u4e00\u7ec4\u200b\uff0c\u200b\u90fd\u200b\u662f\u200b\u7528\u200b<code>&amp;&amp;</code>\u200b\u8fd0\u7b97\u7b26\u200b\u6765\u200b\u8fde\u63a5\u8d77\u6765\u200b\uff0c\u200b\u524d\u8fb9\u200b\u4e00\u7ec4\u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\u6210\u529f\u200b\uff0c\u200b\u624d\u200b\u6267\u884c\u200b\u4e0b\u200b\u4e00\u7ec4\u200b\u547d\u4ee4\u200b\u3002\u200b\u62ec\u53f7\u200b\u91cc\u9762\u200b\u5c31\u662f\u200b\u5f00\u8f9f\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5b50\u200b Shell\u3002</p>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#_5","title":"\u516b\u200b\u3001\u200b\u8fd0\u7b97\u7b26\u200b\u201c{}\u201d","text":"<pre><code>{ bad_command; pwd } &amp;&amp; echo ok\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u5c31\u662f\u200b\u5728\u200b\u5f53\u524d\u200b shell \u200b\u8fd0\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4e0d\u200b\u5f00\u8f9f\u200b\u5b50\u200b shell\uff0c\u200b\u5206\u53f7\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u4e0a\u200b\u4e2a\u200b\u547d\u4ee4\u200b\u6267\u884c\u200b\u5931\u8d25\u200b\uff0c\u200b\u4e5f\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u8fd0\u884c\u200b\u3002</p>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#_6","title":"\u4e5d\u200b\u3001\u200b\u4e32\u8054\u200b\u6216\u200b\u8f6c\u79fb\u200b\u201c\\\u201d","text":"<p>\u200b\u4e0d\u200b\u4ecb\u7ecd\u200b\u4e86\u200b</p>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/10%E4%B8%AALinux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%BF%90%E7%AE%97%E7%AC%A6/#_7","title":"\u5341\u200b\u3001\u201c&gt;\u3001&lt;&lt;\u3001&lt;\u201d","text":"<p>\u200b\u4e0d\u200b\u4ecb\u7ecd\u200b\uff0c\u200b\u7528\u200b\u7684\u200b\u5f88\u591a\u200b</p> <p>\u200b\u53c2\u8003\u200b\uff1a https://www.makeuseof.com/linux-command-line-chaining-operators/</p>","tags":["Linux","Shell"]},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/systemd/","title":"Systemd","text":"<pre><code># \u200b\u542f\u52a8\u200b\u3001\u200b\u505c\u6b62\u200b\u670d\u52a1\u200b\nsystemctl start service_name1 service_name2\nsystemctl stop service_name\n# \u200b\u91cd\u8f7d\u200b\u670d\u52a1\u200b\uff1a\u200b\u670d\u52a1\u200b\u672a\u200b\u8fd0\u884c\u200b\u4e0d\u200b\u505a\u200b\u4efb\u4f55\u200b\u4e8b\u200b\nsystemctl reload Service_Name\n# \u200b\u91cd\u542f\u200b\u670d\u52a1\u200b\uff1a\u200b\u670d\u52a1\u200b\u8fd0\u884c\u200b\u5219\u200b\u91cd\u542f\u200b\uff0c\u200b\u672a\u200b\u542f\u52a8\u200b\u5219\u200b\u542f\u52a8\u200b\nsystemctl restart Service_Name\n# \u200b\u670d\u52a1\u200b\u5df2\u7ecf\u200b\u8fd0\u884c\u200b\u91cd\u542f\u200b\uff0c\u200b\u672a\u200b\u8fd0\u884c\u200b\u4e0d\u200b\u542f\u52a8\u200b\nsystemctl try-restart Service_Name\n# \u200b\u670d\u52a1\u200b\u5df2\u200b\u8fd0\u884c\u200b\u65f6\u200b\uff0c\u200b\u652f\u6301\u200breload\uff0c\u200b\u5219\u200breload\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u652f\u6301\u200breload\u200b\u5219\u200brestart\n# \u200b\u670d\u52a1\u200b\u672a\u200b\u8fd0\u884c\u200b\u65f6\u200b\uff0c\u200b\u542f\u52a8\u200b\u4e4b\u200b\nsystemctl reload-or-restart Service_Name\n# \u200b\u670d\u52a1\u200b\u5df2\u7ecf\u200b\u8fd0\u884c\u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u652f\u6301\u200breload\uff0c\u200b\u5219\u200breload\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u652f\u6301\u200breload\u200b\u5219\u200brestart\n# \u200b\u670d\u52a1\u200b\u672a\u200b\u8fd0\u884c\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u200b\u505a\u200b\u4efb\u4f55\u200b\u4e8b\u200b\nsystemctl relaod-or-try-restart Service_Name\n# \u200b\u67e5\u770b\u200b\u670d\u52a1\u200b\u72b6\u6001\u200b\nsystemctl status Service_Name\n# \u200b\u68c0\u67e5\u200b\u670d\u52a1\u200b\u65f6\u5426\u200bactive\uff1a \u200b\u670d\u52a1\u200b\u662f\u5426\u200b\u5df2\u7ecf\u200b\u542f\u52a8\u200b\n# \u200b\u81f3\u5c11\u200b\u4e00\u4e2a\u200bactive\u200b\u65f6\u200b\uff0c\u200b\u8fd4\u56de\u200b0\uff0c\u200b\u5426\u5219\u200b\u8fd4\u56de\u200b\u975e\u200b0\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u7801\u200b\nsystemctl is-active Service_Name1 Service_name2\nsystemctl --quiet is-active Service_Name # \u200b\u9759\u9ed8\u200b\u6a21\u5f0f\u200b\n# \u200b\u68c0\u67e5\u200b\u670d\u52a1\u200b\u662f\u5426\u200bfailed\uff1a\u200b\u670d\u52a1\u200b\u542f\u52a8\u200b\u547d\u4ee4\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u7801\u975e\u200b0\u200b\u6216\u8005\u200b\u542f\u52a8\u200b\u8d85\u65f6\u200b\nsystemctl is-failed Service_Name\n# \u200b\u5217\u51fa\u200b\u6240\u6709\u200bService Unit\u200b\u7684\u200b\u72b6\u6001\u200b\u4fe1\u606f\u200b\nsystemctl list-units --type=service\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/systemd/#_1","title":"\u670d\u52a1\u200b\u72b6\u6001\u503c","text":"<pre><code>active # \u200b\u542f\u52a8\u200b\u6210\u529f\u200b\ninactive # \u200b\u670d\u52a1\u200b\u672a\u200b\u542f\u52a8\u200b\u6216\u8005\u200b\u5df2\u7ecf\u200b\u505c\u6b62\u200b\nactivating\u200b\u6216\u8005\u200bdeactivating # \u200b\u670d\u52a1\u200b\u542f\u52a8\u200b\u4e2d\u200b\u6216\u8005\u200b\u670d\u52a1\u200b\u505c\u6b62\u200b\u4e2d\u200b\nreloading # \u200b\u670d\u52a1\u200b\u91cd\u8f7d\u200b\u4e2d\u200b\nfailed # ExecStart \u200b\u6307\u4ee4\u200b\u975e\u200b0\u200b\u9000\u51fa\u200b\u3001\u200b\u542f\u52a8\u200b\u8d85\u65f6\u200b\u3001\u200b\u8fdb\u7a0b\u200b\u81a8\u200b\u8770\u200b\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/systemd/#_2","title":"\u5f00\u673a\u200b\u65f6\u200b\u957f","text":"<p>\u200b\u4f7f\u7528\u200b<code>systemctl-analyze blame</code>\u200b\u5206\u6790\u200b\u5f00\u673a\u200b\u542f\u52a8\u200b\u670d\u52a1\u200b\u5360\u7528\u200b\u7684\u200b\u65f6\u957f\u200b \u200b\u4f7f\u7528\u200b<code>systemctl-analyze time</code>\u200b\u4ece\u200b\u5185\u6838\u200b\u542f\u52a8\u200b\u5f00\u59cb\u200b\u81f3\u200b\u5f00\u673a\u200b\u7ed3\u675f\u200b\u6240\u82b1\u200b\u7684\u200b\u65f6\u95f4\u200b</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/systemd/#systemd","title":"systemd\u200b\u670d\u52a1\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u5b58\u653e\u200b\u8def\u5f84","text":"<p>Systemd Service\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u5747\u200b\u4ee5\u200b<code>.service</code>\u200b\u4e3a\u200b\u540e\u7f00\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u670d\u52a1\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u5b58\u653e\u200b\u8def\u5f84\u200b\u4f9d\u7136\u200b\u9075\u5faa\u200bSystemd\u200b\u7ba1\u7406\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u98ce\u683c\u200b\uff0c**\u200b\u5c06\u200b\u670d\u52a1\u200b\u7ba1\u7406\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7edf\u4e00\u200b\u201c\u200b\u9690\u85cf\u200b\u201d\u200b\u5728\u200b<code>/usr/lib/systemd/system</code>\u200b\u8def\u5f84\u200b\u4e0b\u200b\uff0c\u200b\u540c\u65f6\u200b\u66b4\u9732\u200b\u4e00\u4e2a\u200b\u53ef\u200b\u4f9b\u200b\u7528\u6237\u200b\u5b58\u653e\u200b\u670d\u52a1\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u76ee\u5f55\u200b<code>/etc/systemd/system</code>\u3002</p> <p>[Unit]\u200b\u548c\u200b[Install]\u200b\u6bb5\u200b\u7684\u200b\u914d\u7f6e\u200b\u6307\u4ee4\u200b\u90fd\u200b\u6765\u81ea\u200b\u4e8e\u200bman systemd.unit\uff0c\u200b\u8fd9\u4e9b\u200b\u6307\u4ee4\u200b\u90fd\u200b\u7528\u4e8e\u200b\u63cf\u8ff0\u200b\u4f5c\u4e3a\u200bUnit\u200b\u65f6\u200b\u7684\u200b\u5c5e\u6027\u200b\uff0c[Service]\u200b\u6bb5\u200b\u5219\u200b\u4e13\u200b\u5c5e\u4e8e\u200b.Service\u200b\u670d\u52a1\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u3002</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/systemd/#systemd_1","title":"systemd\u200b\u4e2d\u200b\u670d\u52a1\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8","text":"<pre><code># \u200b\u5c06\u200b\u670d\u52a1\u200b\u52a0\u5165\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8\u200b\nsystemctl enable Service_Name\n\n# \u200b\u7981\u6b62\u200b\u670d\u52a1\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8\u200b\nsystemctl disable Service_Name\n\n# \u200b\u67e5\u770b\u200b\u670d\u52a1\u200b\u662f\u5426\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8\u200b\nsystemctl is-enable Service_Name\n\n# \u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8\u200b\u670d\u52a1\u200b\nsystemctl list-unit-files --type service | grep enable\\\n\n# \u200b\u5982\u679c\u200b\u670d\u52a1\u200b\u5df2\u7ecf\u200b\u52a0\u5165\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8\u200b\uff0c\u200b\u4f46\u662f\u200b\u60f3\u8981\u200b\u518d\u6b21\u200b\u52a0\u5165\u200b\n#\uff08\u200b\u6bd4\u5982\u200b\u66f4\u65b0\u200b\u4e86\u200b/usr/lib/systemd/system\u200b\u4e0b\u200b\u7684\u200b\u670d\u52a1\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff09\nsystemctl --force enable Service_Name\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/systemd/#_3","title":"\u811a\u672c\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200brc.local\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bsystemd\u200b\u5f00\u673a\u200b\u81ea\u542f\u200b <pre><code>[Unit]\nDescription = some shell script\n# \u200b\u8981\u6c42\u200b\u811a\u672c\u200b\u5177\u6709\u200b\u53ef\u200b\u6267\u884c\u200b\u6743\u9650\u200b\nConditionFileIsExecutable = /usr/bin/some.sh\n\n# \u200b\u6307\u5b9a\u200b\u8981\u200b\u8fd0\u884c\u200b\u7684\u200b\u547d\u4ee4\u200b\u3001\u200b\u811a\u672c\u200b\n[Service]\nExecStart = /usr/bin/some.sh\n\n# \u200b\u4e0d\u80fd\u200b\u5c11\u200b\n[Install]\nWantedBy = multi-user.target\n</code></pre> \u200b\u7136\u540e\u200b\uff1a <pre><code>systemctl daemon-reload\nsystemctl enable mycmd.service\n</code></pre></p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/systemd/#systemd_2","title":"systemd \u200b\u8fd0\u884c\u200b\u7ea7\u522b","text":"<pre><code>$ ls -l /usr/lib/systemd/system/*.target | grep -o '/.*' \n\n# /usr/lib/systemd/system/\u200b\u4e0b\u5b9a\u4e49\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u8fd0\u884c\u200b\u7ea7\u522b\u200b\uff1agraphical\n/usr/lib/systemd/system/default.target -&gt; graphical.target\n\n# \u200b\u8fd0\u884c\u200b\u7ea7\u522b\u200b0-6\uff0c\u200b\u6ce8\u610f\u200b\u591a\u7528\u6237\u200b\u6a21\u5f0f\u200b\u4e3a\u200bmulti-user.target\n/usr/lib/systemd/system/runlevel0.target -&gt; poweroff.target\n/usr/lib/systemd/system/runlevel1.target -&gt; rescue.target\n/usr/lib/systemd/system/runlevel2.target -&gt; multi-user.target\n/usr/lib/systemd/system/runlevel3.target -&gt; multi-user.target\n/usr/lib/systemd/system/runlevel4.target -&gt; multi-user.target\n/usr/lib/systemd/system/runlevel5.target -&gt; graphical.target\n/usr/lib/systemd/system/runlevel6.target -&gt; reboot.target\n\n# \u200b\u7d27\u6025\u200b\u6a21\u5f0f\u200b\u3001\u200b\u6551\u63f4\u200b\u6a21\u5f0f\u200b\u3001\u200b\u591a\u7528\u6237\u200b\u6a21\u5f0f\u200b\u548c\u200b\u56fe\u5f62\u754c\u9762\u200b\u6a21\u5f0f\u200b\n/usr/lib/systemd/system/emergency.target\n/usr/lib/systemd/system/rescue.target\n/usr/lib/systemd/system/multi-user.target\n/usr/lib/systemd/system/graphical.target\n\n# \u200b\u5173\u673a\u200b\u548c\u200b\u91cd\u542f\u200b\u76f8\u5173\u200b\u64cd\u4f5c\u200b\n/usr/lib/systemd/system/halt.target\n/usr/lib/systemd/system/poweroff.target\n/usr/lib/systemd/system/shutdown.target\n/usr/lib/systemd/system/reboot.target\n/usr/lib/systemd/system/ctrl-alt-del.target -&gt; reboot.target\n\n\n# \u200b\u67e5\u770b\u200b\u5df2\u7ecf\u200b\u52a0\u8f7d\u200b\u7684\u200btarget\nsystemctl list-units --type target\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/systemd/#systemd-timesyncd","title":"systemd timesyncd \u200b\u505a\u200b\u65f6\u95f4\u200b\u540c\u6b65","text":"<p>CentOS8\u200b\u5df2\u7ecf\u200b\u79fb\u9664\u200bntp\u200b\u548c\u200bntpdate\uff0c\u200b\u6ca1\u6709\u200b\u96c6\u6210\u200b\u57fa\u7840\u200b\u5305\u4e2d\u200b CentOS8\u200b\u4f7f\u7528\u200bchronyd\u200b\u4f5c\u4e3a\u200b\u65f6\u95f4\u200b\u670d\u52a1\u5668\u200b <pre><code>vim /etc/systemd/timesyncd.conf\n[TIME]\nNTP=ntp1.aliyun.com ntp2.aliyun.com\n# \u200b\u4ee5\u4e0b\u200b\u56db\u9879\u200b\u5747\u200b\u53ef\u200b\u7701\u7565\u200b\nFallbackNTP=1.cn.pool.ntp.org 2.cn.pool.ntp.org\nRootDistanceMaxSec=5\nPollIntervalMinSec=32\nPollIntervalMaxSec=2048\n</code></pre></p> <p>\u200b\u5e38\u7528\u200b\u7684\u200b\u65f6\u95f4\u200b\u670d\u52a1\u5668\u200b\uff1a <pre><code>cn.pool.ntp.org\n1.cn.pool.ntp.org\n2.cn.pool.ntp.org\n3.cn.pool.ntp.org\n0.cn.pool.ntp.org\n\nntp1.aliyun.com\nntp2.aliyun.com\nntp3.aliyun.com\nntp4.aliyun.com\nntp5.aliyun.com\nntp6.aliyun.com\nntp7.aliyun.com\n</code></pre></p> <p>\u200b\u914d\u7f6e\u200b\u597d\u200btimesyncd.conf\u200b\u540e\u200b\uff0c\u200b\u542f\u52a8\u200bsystemd timesyncd\u200b\u65f6\u95f4\u200b\u540c\u6b65\u200b\u670d\u52a1\u200b <pre><code>timedatectl set-ntp true\n</code></pre> \u200b\u67e5\u770b\u200b\u540c\u6b65\u200b\u72b6\u6001\u200b\uff1a <pre><code>timedatectl status\n\u200b\u6216\u8005\u200b\ntimedatectl show\n</code></pre></p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/","title":"\u6211\u200b\u7684\u200bLinux\u200b\u547d\u4ee4\u200b\u5e2e\u52a9\u200b\u624b\u518c","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#top","title":"top","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#cpu","title":"\u5b9e\u65f6\u200b\u964d\u5e8f\u200bCPU\u200b\u6216\u200b\u5185\u5b58\u200b\u5360\u7528","text":"<p>top\u200b\u547d\u4ee4\u200b\uff1a\u200b\u5728\u200b\u7ec8\u7aef\u200b\u4e2d\u200b\u8fd0\u884c\u200btop\u200b\u547d\u4ee4\u200b\uff0c\u200b\u7136\u540e\u200b\u6309\u4e0b\u200b\"Shift + M\"\u200b\u952e\u200b\uff0c\u200b\u6309\u200b\u5185\u5b58\u200b\u4f7f\u7528\u91cf\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\u3002\u200b\u8fd9\u200b\u5c06\u200b\u663e\u793a\u200b\u5f53\u524d\u200b\u8fd0\u884c\u200b\u7684\u200b\u6240\u6709\u200b\u8fdb\u7a0b\u200b\u6309\u7167\u200b\u5185\u5b58\u200b\u4f7f\u7528\u91cf\u200b\u4ece\u200b\u9ad8\u5230\u200b\u4f4e\u200b\u7684\u200b\u5217\u8868\u200b\u3002\u200b\u60a8\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200bRES\uff08Resident Set Size\uff09\u200b\u5217\u200b\uff0c\u200b\u5b83\u200b\u8868\u793a\u200b\u8fdb\u7a0b\u200b\u5b9e\u9645\u200b\u5360\u7528\u200b\u7684\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u3002 <pre><code>Shift + M \u200b\u6309\u200bmem\u200b\u964d\u5e8f\u200b\nShift + C \u200b\u6309\u200bCPU\u200b\u964d\u5e8f\u200b\n</code></pre></p> <p>\u200b\u663e\u793a\u200b\u5185\u5b58\u200b\u3001swap\u200b\u5360\u7528\u200b\u767e\u5206\u6bd4\u200b\u5e76\u200b\u663e\u793a\u200b\u8fdb\u5ea6\u6761\u200b <pre><code>top \u200b\u6309\u4e0b\u200b\u7136\u540e\u200b\u6309\u200bm\n</code></pre></p> <p>\u200b\u663e\u793a\u200bcpu\u200b\u5360\u7528\u200b\u767e\u5206\u6bd4\u200b\u5e76\u200b\u663e\u793a\u200b\u8fdb\u5ea6\u6761\u200b <pre><code>top \u200b\u6309\u4e0b\u200b\u7136\u540e\u200b\u6309\u200bt\n</code></pre></p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_1","title":"\u53c2\u8003","text":"<ul> <li>https://qiita.com/Kernel_OGSun/items/55afb7e93b445f1be019</li> </ul>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#ps","title":"ps","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#cpu_1","title":"\u67e5\u770b\u200b\u5360\u7528\u200bCPU\u200b\u6700\u591a\u200b\u7684\u200b\u8fdb\u7a0b","text":"<pre><code>ps aux --sort=-%cpu | head\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_2","title":"\u67e5\u770b\u200b\u5360\u7528\u200b\u5185\u5b58\u200b\u6700\u591a\u200b\u7684\u200b\u8fdb\u7a0b","text":"<pre><code>ps aux --sort=-%mem | head\nps aux --sort -rss\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_3","title":"\u8fc7\u6ee4\u200b\u6307\u5b9a\u200b\u7a0b\u5e8f\u200b\u5bfc\u81f4\u200b\u6807\u9898\u200b\u9057\u6f0f\u200b\u95ee\u9898","text":"<p>\u200b\u4f7f\u7528\u200b\u591a\u91cd\u200b\u5339\u914d\u200b\uff0c\u200b\u591a\u200b\u5339\u914d\u200b\u4e00\u6b21\u200b<code>PID</code>\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u89e3\u51b3\u200b</p> <pre><code>ps axw -o pid,ppid,user,%cpu,vsz,wchan,command | egrep '(nginx|PID)'\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#cpumem","title":"\u67e5\u770b\u200b\u6307\u5b9a\u200b\u8fdb\u7a0b\u200b\u7684\u200bCPU&amp;MEM\u200b\u4f7f\u7528\u7387","text":"<pre><code>ps -p $(pgrep -f nginx -o) -o pid,user,%cpu,%mem,cmd\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a Linux ps \u200b\u547d\u4ee4\u200b | \u200b\u83dc\u9e1f\u200b\u6559\u7a0b\u200b (runoob.com)</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#pidstat","title":"pidstat","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#cpu_2","title":"\u67e5\u770b\u200b\u6307\u5b9a\u200b\u8fdb\u7a0b\u200bCPU\u200b\u5185\u5b58\u200b\u5360\u7528","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f18\u5148\u200b\u4f7f\u7528\u200bps</p> <pre><code>./pidstat -ru -p $(pgrep -o nginx) -h --human 1 -l\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#io","title":"\u67e5\u770b\u200b\u6307\u5b9a\u200b\u8fdb\u7a0b\u200bIO\u200b\u5360\u7528","text":"<pre><code>./pidstat -d -p $(pgrep -o nginx) -h --human 1 -l\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#systemd","title":"systemd\u200b\u76f8\u5173\u200b\u547d\u4ee4","text":"<pre><code># \u200b\u5217\u51fa\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\u7684\u200b Unit\n$ systemctl list-units\n# \u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u4e00\u4e2a\u200b\u670d\u52a1\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b\n$ sudo systemctl reload apache.service\n# \u200b\u91cd\u8f7d\u200b\u6240\u6709\u200b\u4fee\u6539\u200b\u8fc7\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b\n$ sudo systemctl daemon-reload\n# \u200b\u663e\u793a\u200b\u67d0\u4e2a\u200b Unit \u200b\u7684\u200b\u6240\u6709\u200b\u5e95\u5c42\u200b\u53c2\u200ba\u200b\u6570\u200b\n$ systemctl show httpd.service\n\n# \u200b\u67e5\u770b\u200b\u6307\u5b9a\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u65e5\u5fd7\u200b\n$ sudo journalctl _PID=1\n# \u200b\u67e5\u770b\u200b\u67d0\u4e2a\u200b\u8def\u5f84\u200b\u7684\u200b\u811a\u672c\u200b\u7684\u200b\u65e5\u5fd7\u200b\n$ sudo journalctl /usr/bin/bash\n# \u200b\u67e5\u770b\u200b\u6307\u5b9a\u200b\u7528\u6237\u200b\u7684\u200b\u65e5\u5fd7\u200b\n$ sudo journalctl _UID=33 --since today\n# \u200b\u67e5\u770b\u200b\u67d0\u4e2a\u200b Unit \u200b\u7684\u200b\u65e5\u5fd7\u200b\n$ sudo journalctl -u nginx.service\n$ sudo journalctl -u nginx.service --since today\n# \u200b\u5b9e\u65f6\u200b\u6eda\u52a8\u200b\u663e\u793a\u200b\u67d0\u4e2a\u200b Unit \u200b\u7684\u200b\u6700\u65b0\u200b\u65e5\u5fd7\u200b\n$ sudo journalctl -u nginx.service -f\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#dasel","title":"dasel","text":"<pre><code>echo '{\"users\": [{\"name\": \"Tom\"}]}' | dasel put object -p json -t string '.users.[]' name=Frank\n./dasel_linux_amd64 delete -f  example.json -m '.(?:host=192.168.168.33)'\n\n./dasel_linux_amd64 -n -f  example.json -m '.(?:host=192.168.168.911)'\n\n ./dasel_linux_amd64 -n -f  example.json -m '[0].host' \n # \u200b\u5c06\u200b\u5220\u9664\u200b\u7684\u200b\u5185\u5bb9\u200b\u8f93\u51fa\u200b\u5230\u200bxxx.json\uff0c\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u5220\u9664\u200b\u6e90\u6587\u4ef6\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u6307\u5b9a\u200b-o \u200b\u5219\u200b\u4f1a\u200b\u5728\u200b\u6e90\u6587\u4ef6\u200b\u4e0a\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200b\n./dasel_linux_amd64 delete -f example.json '[0]'  -o xxx.json\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_4","title":"\u53c2\u8003","text":"<ul> <li>TomWright/dasel: Select, put and delete data from JSON, TOML, YAML, XML and CSV files with a single tool. Supports conversion between formats and can be used as a Go package. (github.com)</li> <li>jq\u200b\u8868\u8fbe\u5f0f\u200b\u5728\u7ebf\u200b\u9a8c\u8bc1\u200bjq play</li> </ul>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#iptables","title":"iptables","text":"<pre><code># \u200b\u6e05\u7a7a\u200b\u81ea\u5b9a\u4e49\u200b\u94fe\u200b\u3001\u200b\u6e05\u7a7a\u200b\u89c4\u5219\u200b\u3001\u200b\u6e05\u7a7a\u200b\u89c4\u5219\u200b\u8ba1\u6570\u5668\u200b\niptables -X\niptables -F\niptables -Z\n\n# \u200b\u6307\u5b9a\u200b\u591a\u4e2a\u200b\u7aef\u53e3\u200b\niptables -A INPUT -s 172.16.0.0/16 -d 172.16.100.10 -p tcp -m multiport --dports 20:22,80 -j ACCEPT\n\n\niptables -A INPUT -s 172.16.0.0/16 -d 172.16.100.10 -p tcp -m multiport --dports 20:22,80 -j ACCEPT\n\n\n# iprange\u200b\u6269\u5c55\u200b\n# [!] --src-range from[-to] \u200b\u6e90\u200bIP\u200b\u5730\u5740\u200b\u8303\u56f4\u200b\n# [!] --dst-range from[-to] \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\u8303\u56f4\u200b\niptabels -A INPUT -d 172.16.1.100 -p tcp --dport 80 -m iprange --src-range 172.16.1.5-192.16.1.10 -j DROP\n\n# mac \u200b\u6269\u5c55\u200b\n# mac \u200b\u6a21\u5757\u200b\u53ef\u4ee5\u200b\u6307\u660e\u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b,\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\uff1aPREROUTING, FORWARD\uff0cINPUT chains\n# [!] --mac-source xx:xx:xx:xx:xx\niptables -A INPUT -s 172.16.0.100 -m mac --mac-source \n00:50:56:12:34:56 -j ACCEPT\n\n\n# \u200b\u6301\u4e45\u200b\u4fdd\u5b58\u200b\n# centos6:\nservice iptables save\n# centos7\u30018\niptables-save &gt;/PATH/TO/SOME_RULES_FILE\n\n# \u200b\u52a0\u8f7d\u200b\u89c4\u5219\u200b centos7\uff1a\niptables-restore &lt; /PATH/FROM/SOME_RULES_FILE\n-n, -noflush: \u200b\u4e0d\u200b\u6e05\u9664\u200b\u539f\u6709\u200b\u89c4\u5219\u200b\n-t, -test: \u200b\u4ec5\u200b\u751f\u6210\u200b\u89c4\u5219\u200b\u96c6\u200b\uff0c\u200b\u4f46\u200b\u4e0d\u200b\u63d0\u4ea4\u200b\n\n# centos6\n#\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u4ece\u200b/etc/sysconfig/iptables \u200b\u91cd\u65b0\u200b\u8f7d\u5165\u200b\u89c4\u5219\u200b\nservice  iptables  restart\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_5","title":"\u9632\u706b\u5899\u200b\u89c4\u5219","text":"<pre><code># ssh \u200b\u7aef\u53e3\u200b\u91cd\u8981\u200b\niptables -A INPUT -p tcp -m state --state=NEW,ESTABLISHED --dport 5151 -j ACCEPT\n\n# \u200b\u670d\u52a1\u200b\u76f8\u5173\u200b\n# ng\u200b\u6ce8\u610f\u200b\u7aef\u53e3\u200b\niptables -A INPUT -p tcp -m state --state=NEW,ESTABLISHED --dport 6100 -j ACCEPT\n\n# \u200b\u5176\u5b83\u200b\u89c4\u5219\u200b\niptables -A INPUT -m state --state=INVALID -j DROP\niptables -A INPUT -i lo  -j ACCEPT\niptables -A INPUT -p icmp -j ACCEPT\niptables -A INPUT -m iprange --src-range 192.168.12.89-192.168.12.90 -j ACCEPT\niptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 10050 -j ACCEPT\n\n# END\niptables -A INPUT -p all -s any/0 -j DROP\n</code></pre> <pre><code># ssh \u200b\u7aef\u53e3\u200b\u91cd\u8981\u200b\niptables -A INPUT -p tcp -m state --state=NEW,ESTABLISHED --dport 5151 -j ACCEPT\n\n\n# \u200b\u670d\u52a1\u200b\u76f8\u5173\u200b\uff0c\u200b\u5c3d\u65e9\u200b\u5339\u914d\u200b\n# ng\u200b\u6ce8\u610f\u200b\u7aef\u53e3\u200b\niptables -A INPUT -p tcp  -m state state=NEW,ESTABLISHED,RELATED --dport 6000 -j ACCEPT\n\n\n# \u200b\u5176\u5b83\u200b\u89c4\u5219\u200b\niptables -A INPUT -m state INVALID -j DROP\niptables -A INPUT -i lo  -j ACCEPT\niptables -A INPUT -p icmp -j ACCEPT\niptables -A INPUT -m iprange --src-range 192.168.12.89-192.168.12.90 -j ACCEPT\n\n\n# END\niptables -A INPUT -p all -s any/0 -j DROP\n</code></pre> <pre><code># ssh \u200b\u7aef\u53e3\u200b\u91cd\u8981\u200b\niptables -A INPUT -p tcp -m state --state=NEW,ESTABLISHED --dport 5151 -j ACCEPT\n\n\n# \u200b\u670d\u52a1\u200b\u76f8\u5173\u200b\uff0c\u200b\u5c3d\u65e9\u200b\u5339\u914d\u200b\n# \u200b\u7ba1\u7406\u200b\u670d\u52a1\u200b\u5bf9\u200bng\u200b\u653e\u884c\u200b\niptables -A INPUT -p tcp -s 192.168.12.12/24 -m state state=NEW,ESTABLISHED,RELATED --dport 6200 -j ACCEPT\niptables -A INPUT -p tcp -s 192.168.12.13/24 -m state state=NEW,ESTABLISHED,RELATED --dport 6200 -j ACCEPT\niptables -A INPUT -p tcp -s 192.168.12.61/24 -m state state=NEW,ESTABLISHED,RELATED --dport 6200 -j ACCEPT\niptables -A INPUT -p tcp -s 192.168.12.62/24 -m state state=NEW,ESTABLISHED,RELATED --dport 6200 -j ACCEPT\n\n\n\n# \u200b\u5176\u5b83\u200b\u89c4\u5219\u200b\niptables -A INPUT -m state INVALID -j DROP\niptables -A INPUT -i lo  -j ACCEPT\niptables -A INPUT -p icmp -j ACCEPT\niptables -A INPUT -m iprange --src-range 192.168.12.89-192.168.12.90 -j ACCEPT\n\n# END\niptables -A INPUT -p all -s any/0 -j DROP\n</code></pre> <pre><code>sudo -i\n\nsystemctl stop firewalld\nsystemctl disable firewalld\n\n\niptables -X\niptables -F\niptables -Z\n\nnetstat -anpt | grep ssh | head\n\niptables -A INPUT -p tcp -m state --state=NEW,ESTABLISHED --dport 5151 -j ACCEPT\niptables -A INPUT -p tcp -s 192.168.12.12 -m state --state=NEW,ESTABLISHED,RELATED --dport 6200 -j ACCEPT\niptables -A INPUT -p tcp -s 192.168.12.13 -m state --state=NEW,ESTABLISHED,RELATED --dport 6200 -j ACCEPT\niptables -A INPUT -p tcp -s 192.168.12.61 -m state --state=NEW,ESTABLISHED,RELATED --dport 6200 -j ACCEPT\niptables -A INPUT -p tcp -s 192.168.12.62 -m state --state=NEW,ESTABLISHED,RELATED --dport 6200 -j ACCEPT\n\n\n# \u200b\u5176\u5b83\u200b\u89c4\u5219\u200b\niptables -A INPUT -m state --state=INVALID -j DROP\niptables -A INPUT -i lo  -j ACCEPT\niptables -A INPUT -p icmp -j ACCEPT\niptables -A INPUT -m iprange --src-range 192.168.12.89-192.168.12.90 -j ACCEPT\niptables -A INPUT -m iprange --src-range 192.168.12.14-192.168.12.17 -j ACCEPT\niptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 10050 -j ACCEPT\n\n#iptables -A INPUT -p all -s any/0 -j DROP\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#pgrep","title":"pgrep","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#grephelp","title":"grep\u200b\u8fc7\u6ee4\u200b\u547d\u4ee4\u200bhelp\u200b\u53c2\u6570","text":"<pre><code>pgrep --help1 |&amp; grep -wEc -- '-l|-f'\npgrep --help1 |&amp; grep -wEc -- '-a|-f'\n\npgrep --help1 | grep -wEc -- '-l|-f'\npgrep --help1 | grep -wEc -- '-a|-f'\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#yum-config-manager","title":"yum-config-manager","text":"<pre><code>yum -y install yum-utils\n</code></pre> <p>\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b\u963f\u91cc\u200b\u4e91\u200byum\u200b\u6e90\u200b\uff1a\uff08\u200b\u63a8\u8350\u200b\uff09</p> <pre><code>yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#coda","title":"coda","text":"<pre><code># \u200b\u67e5\u770b\u200bconda\u200b\u7248\u672c\u200b\uff0c\u200b\u9a8c\u8bc1\u200b\u662f\u5426\u200b\u5b89\u88c5\u200b \nconda -V \n\n# \u200b\u66f4\u65b0\u200bconda\u200b\u81f3\u200b\u6700\u65b0\u200b\u7248\u672c\u200b\nconda update conda \n\n# \u200b\u66f4\u65b0\u200b\u6240\u6709\u200b\u5305\u200b\nconda update --all \n\n# \u200b\u66f4\u65b0\u200b\u6307\u5b9a\u200b\u7684\u200b\u5305\u200b\nconda update package_name \n\n# \u200b\u521b\u5efa\u200b\u540d\u4e3a\u200benv_name\u200b\u7684\u200b\u65b0\u200b\u73af\u5883\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u8be5\u200b\u73af\u5883\u200b\u4e0b\u200b\u5b89\u88c5\u200b\u540d\u4e3a\u200bpackage_name \u200b\u7684\u200b\u5305\u200b\uff0c\n# \u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u65b0\u200b\u73af\u5883\u200b\u7684\u200b\u7248\u672c\u53f7\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1aconda create -n python3 python=python3.7 numpy pandas\uff0c\n# \u200b\u521b\u5efa\u200b\u4e86\u200bpython3\u200b\u73af\u5883\u200b\uff0cpython\u200b\u7248\u672c\u200b\u4e3a\u200b3.7\uff0c\u200b\u540c\u65f6\u200b\u8fd8\u200b\u5b89\u88c5\u200b\u4e86\u200bnumpy pandas\u200b\u5305\u200b\nconda create -n env_name package_name \n\n# \u200b\u5207\u6362\u200b\u81f3\u200benv_name\u200b\u73af\u5883\u200b\nconda activate env_name \n\n#\u200b\u9000\u51fa\u200b\u73af\u5883\u200b\nconda deactivate \n\n# \u200b\u663e\u793a\u200b\u6240\u6709\u200b\u5df2\u7ecf\u200b\u521b\u5efa\u200b\u7684\u200b\u73af\u5883\u200b\nconda info -e  \n# \u200b\u6216\u8005\u200b\u4f7f\u7528\u200b \nconda env list\n\n# \u200b\u590d\u5236\u200bold_env_name\u200b\u4e3a\u200bnew_env_name\nconda create --name new_env_name --clone old_env_name \n\n# \u200b\u5220\u9664\u200b\u73af\u5883\u200b\nconda remove --name env_name --all \n\n# \u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u7684\u200b\u5305\u200b\nconda list \n\n# \u200b\u5728\u200b\u5f53\u524d\u200b\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u5305\u200b\nconda install package_name \n\n# \u200b\u5728\u200b\u6307\u5b9a\u200b\u73af\u5883\u200b\u4e2d\u200b\u5b89\u88c5\u5305\u200b\nconda install --name env_name package_name \n\n# \u200b\u5220\u9664\u200b\u6307\u5b9a\u200b\u73af\u5883\u200b\u4e2d\u200b\u7684\u200b\u5305\u200b\nconda remove -- name env_name package \n\n# \u200b\u91c7\u7528\u200b\u4e0a\u200b\u4e00\u6b65\u200b\u65b9\u6cd5\u200b\u5220\u9664\u200b\u73af\u5883\u200b\u5931\u8d25\u200b\u65f6\u200b\uff0c\u200b\u53ef\u200b\u91c7\u7528\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\nconda env remove -n env_name \n\n\n# \u200b\u5220\u9664\u200b\u5f53\u524d\u200b\u73af\u5883\u200b\u4e2d\u200b\u7684\u200b\u5305\u200b\nconda remove package \n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#last","title":"last","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_6","title":"\u91cd\u542f\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u65f6\u95f4","text":"<pre><code>last -x reboot\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#nc","title":"nc","text":"<p>Ubuntu \u200b\u5207\u6362\u200b netcat \u200b\u4e3a\u200b traditional\u200b\u7248\u200b\u4ee5\u53ca\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b - adhzl - \u200b\u535a\u5ba2\u56ed\u200b (cnblogs.com)</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#numfmt","title":"numfmt","text":"<pre><code>yanghe@IkunOS:~/coreutils-9.3/src$ ./numfmt --help\n\u200b\u7528\u6cd5\u200b: ./numfmt [\u200b\u9009\u9879\u200b]... [\u200b\u6570\u5b57\u200b]...\n\u200b\u5bf9\u200b &lt;\u200b\u6570\u5b57\u200b&gt; \u200b\u8fdb\u884c\u200b\u91cd\u65b0\u200b\u683c\u5f0f\u5316\u200b\uff0c\u200b\u5982\u679c\u200b\u672a\u6307\u5b9a\u200b &lt;\u200b\u6570\u5b57\u200b&gt;\uff0c\u200b\u5219\u200b\u4ece\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b\u8bfb\u53d6\u200b\u6570\u5b57\u200b\u3002\n\n\u200b\u957f\u200b\u9009\u9879\u200b\u7684\u200b\u5fc5\u9009\u200b\u53c2\u6570\u200b\u5bf9\u4e8e\u200b\u77ed\u200b\u9009\u9879\u200b\u4e5f\u200b\u662f\u200b\u5fc5\u9009\u200b\u7684\u200b\u3002\n      --debug          \u200b\u5bf9\u200b\u65e0\u6548\u200b\u7684\u200b\u8f93\u5165\u200b\u5185\u5bb9\u200b\u6253\u5370\u200b\u8b66\u544a\u200b\u4fe1\u606f\u200b\n  -d, --delimiter=X    \u200b\u4f7f\u7528\u200b X \u200b\u800c\u200b\u4e0d\u662f\u200b\u7a7a\u683c\u200b\u4f5c\u4e3a\u200b\u5b57\u200b\u6bb5\u200b\u5206\u9694\u7b26\u200b\n      --field=FIELDS   replace the numbers in these input fields (default=1);\n                         see FIELDS below\n      --format=\u200b\u683c\u5f0f\u200b    \u200b\u4f7f\u7528\u200b printf \u200b\u98ce\u683c\u200b\u7684\u200b\u6d6e\u70b9\u200b &lt;\u200b\u683c\u5f0f\u200b&gt;\uff1b\n                         \u200b\u53c2\u89c1\u200b\u4e0b\u6587\u200b &lt;\u200b\u683c\u5f0f\u200b&gt; \u200b\u90e8\u5206\u200b\u4ee5\u200b\u4e86\u89e3\u200b\u7ec6\u8282\u200b\n      --from=\u200b\u5355\u4f4d\u200b      \u200b\u4f7f\u7528\u200b &lt;\u200b\u5355\u4f4d\u200b&gt; \u200b\u5bf9\u200b\u8f93\u5165\u200b\u6570\u5b57\u200b\u8fdb\u884c\u200b\u81ea\u52a8\u200b\u7f29\u653e\u200b\uff1b\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b \"none\"\uff1b\n                         \u200b\u53c2\u89c1\u200b\u4e0b\u6587\u200b &lt;\u200b\u5355\u4f4d\u200b&gt; \u200b\u90e8\u5206\u200b\n      --from-unit=N    \u200b\u6307\u5b9a\u200b\u8f93\u5165\u200b\u7684\u200b\u5355\u4f4d\u200b\u5927\u5c0f\u200b\uff08\u200b\u800c\u200b\u975e\u200b\u9ed8\u8ba4\u503c\u200b 1\uff09\n      --grouping       \u200b\u4f7f\u7528\u200b\u533a\u57df\u200b\u8bbe\u7f6e\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5bf9\u200b\u6570\u5b57\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\uff0c\u200b\u4f8b\u5982\u200b 1,000,000\n                         \uff08\u200b\u610f\u5473\u7740\u200b\u8be5\u200b\u9009\u9879\u200b\u5728\u200b C/POSIX \u200b\u533a\u57df\u200b\u8bbe\u7f6e\u200b\u4e0b\u200b\u65e0\u200b\u6548\u679c\u200b\uff09\n      --header[=N]     \u200b\u5c06\u200b\u524d\u200b N \u200b\u884c\u200b\u89c6\u4e3a\u200b\u5934\u90e8\u200b\uff0c\u200b\u539f\u6837\u200b\u8f93\u51fa\u200b\uff08\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u8f6c\u6362\u200b\uff09\uff1b\n                         \u200b\u5982\u200b\u672a\u6307\u5b9a\u200b N\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b 1\n      --invalid=\u200b\u6a21\u5f0f\u200b   \u200b\u9047\u5230\u200b\u65e0\u6548\u200b\u6570\u5b57\u200b\u65f6\u200b\u7684\u200b\u5904\u7406\u200b\u6a21\u5f0f\u200b\uff1a &lt;\u200b\u6a21\u5f0f\u200b&gt; \u200b\u53ef\u4ee5\u200b\u662f\u200b\uff1a\n                         abort\uff08\u200b\u9ed8\u8ba4\u200b\uff09\u3001fail\u3001warn\u3001ignore\n      --padding=N      \u200b\u5c06\u200b\u8f93\u51fa\u200b\u586b\u5145\u200b\u81f3\u200b N \u200b\u5b57\u7b26\u200b\u957f\u5ea6\u200b\uff1b\u200b\u82e5\u200b N \u200b\u503c\u4e3a\u200b\u6b63\u200b\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b\n                         \u200b\u53f3\u200b\u5bf9\u9f50\u200b\uff1b\u200b\u82e5\u200b N \u200b\u503c\u4e3a\u200b\u8d1f\u200b\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b\u5de6\u200b\u5bf9\u9f50\u200b\uff1b\n                         \u200b\u82e5\u200b\u8f93\u51fa\u200b\u5bbd\u5ea6\u200b\u5927\u4e8e\u200b N \u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u586b\u5145\u200b\uff1b\n                         \u200b\u9ed8\u8ba4\u200b\u884c\u4e3a\u200b\u662f\u200b\u5982\u679c\u200b\u8f93\u5165\u200b\u542b\u6709\u200b\u7a7a\u683c\u200b\uff0c\u200b\u5219\u200b\u81ea\u52a8\u200b\u586b\u5145\u200b\n      --round=\u200b\u65b9\u6cd5\u200b     \u200b\u7f29\u653e\u200b\u65f6\u200b\u4f7f\u7528\u200b\u6307\u5b9a\u200b &lt;\u200b\u65b9\u6cd5\u200b&gt; \u200b\u8fdb\u884c\u200b\u820d\u5165\u200b\uff1b&lt;\u200b\u65b9\u6cd5\u200b&gt; \u200b\u53ef\u4ee5\u200b\u662f\u200b\uff1a\n                         up\u3001down\u3001from-zero\uff08\u200b\u9ed8\u8ba4\u200b\uff09\u3001towards-zero\u3001nearest\n      --suffix=\u200b\u540e\u7f00\u200b    \u200b\u5c06\u200b &lt;\u200b\u540e\u7f00\u200b&gt; \u200b\u6dfb\u52a0\u200b\u5230\u200b\u8f93\u51fa\u200b\u6570\u5b57\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5e76\u200b\u5141\u8bb8\u200b\u8f93\u5165\u200b\u6570\u5b57\u200b\u4e2d\u200b\n                         \u200b\u542b\u6709\u200b\u8be5\u200b &lt;\u200b\u540e\u7f00\u200b&gt;\n      --to=\u200b\u5355\u4f4d\u200b        \u200b\u4f7f\u7528\u200b &lt;\u200b\u5355\u4f4d\u200b&gt; \u200b\u5bf9\u200b\u8f93\u51fa\u200b\u6570\u5b57\u200b\u8fdb\u884c\u200b\u81ea\u52a8\u200b\u7f29\u653e\u200b\uff1b\u200b\u53c2\u89c1\u200b\u4e0b\u6587\u200b &lt;\u200b\u5355\u4f4d\u200b&gt; \u200b\u90e8\u5206\u200b\n      --to-unit=N      \u200b\u6307\u5b9a\u200b\u8f93\u51fa\u200b\u7684\u200b\u5355\u4f4d\u200b\u5927\u5c0f\u200b\uff08\u200b\u800c\u200b\u975e\u200b\u9ed8\u8ba4\u503c\u200b 1\uff09\n  -z, --zero-terminated    \u200b\u4ee5\u200b NUL \u200b\u7a7a\u5b57\u7b26\u200b\u800c\u200b\u975e\u200b\u6362\u884c\u7b26\u200b\u4f5c\u4e3a\u200b\u884c\u200b\u5206\u9694\u7b26\u200b\n      --help        display this help and exit\n      --version     output version information and exit\n\n&lt;\u200b\u5355\u4f4d\u200b&gt; \u200b\u9009\u9879\u200b\uff1a\n  none       \u200b\u4e0d\u200b\u8fdb\u884c\u200b\u81ea\u52a8\u200b\u7f29\u653e\u200b\uff1b\u200b\u5e26\u200b\u540e\u7f00\u200b\u4f1a\u200b\u89e6\u53d1\u200b\u9519\u8bef\u200b\n  auto       \u200b\u63a5\u53d7\u200b\u53ef\u9009\u200b\u7684\u200b\u5355\u200b\u5b57\u7b26\u200b\u6216\u200b\u53cc\u200b\u5b57\u7b26\u200b\u540e\u7f00\u200b\uff1a\n               1K = 1000,\n               1Ki = 1024,\n               1M = 1000000,\n               1Mi = 1048576,\n  si         \u200b\u63a5\u53d7\u200b\u53ef\u9009\u200b\u7684\u200b\u5355\u200b\u5b57\u7b26\u200b\u540e\u7f00\u200b\uff1a\n               1K = 1000,\n               1M = 1000000,\n               ...\n  iec        \u200b\u63a5\u53d7\u200b\u53ef\u9009\u200b\u7684\u200b\u5355\u200b\u5b57\u7b26\u200b\u540e\u7f00\u200b\uff1a\n               1K = 1024,\n               1M = 1048576,\n               ...\n  iec-i      \u200b\u63a5\u53d7\u200b\u53ef\u9009\u200b\u7684\u200b\u53cc\u200b\u5b57\u7b26\u200b\u540e\u7f00\u200b\uff1a\n               1Ki = 1024,\n               1Mi = 1048576,\n               ...\n\n&lt;\u200b\u5b57\u200b\u6bb5\u200b&gt; \u200b\u652f\u6301\u200b cut(1) \u200b\u98ce\u683c\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u8303\u56f4\u200b\uff1a\n  N    \u200b\u7b2c\u200b N \u200b\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u4ece\u200b 1 \u200b\u5f00\u59cb\u200b\u8ba1\u6570\u200b\n  N-   \u200b\u4ece\u200b\u7b2c\u200b N \u200b\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5230\u200b\u884c\u5c3e\u200b\n  N-M  \u200b\u7b2c\u200b N \u200b\u4e2a\u200b\u5230\u200b\u7b2c\u200b M \u200b\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u542b\u200b\u7b2c\u200b N \u200b\u4e2a\u200b\u548c\u200b\u7b2c\u200b M \u200b\u4e2a\u200b\uff09\n  -M   \u200b\u7b2c\u200b 1 \u200b\u4e2a\u200b\u5230\u200b\u7b2c\u200b M \u200b\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u542b\u200b\u7b2c\u200b 1 \u200b\u4e2a\u200b\u548c\u200b\u7b2c\u200b M \u200b\u4e2a\u200b\uff09\n  -    \u200b\u6240\u6709\u200b\u5b57\u200b\u6bb5\u200b\n\u200b\u591a\u4e2a\u200b\u5b57\u6bb5\u200b\u6216\u200b\u5b57\u200b\u6bb5\u200b\u8303\u56f4\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u9017\u53f7\u200b\u5206\u9694\u200b\n\n&lt;\u200b\u683c\u5f0f\u200b&gt; \u200b\u5fc5\u987b\u200b\u9002\u5408\u200b\u6253\u5370\u200b\u4e00\u4e2a\u200b\u6d6e\u70b9\u200b\u53c2\u6570\u200b \"%f\"\u3002\n\u200b\u53ef\u9009\u200b\u7684\u200b\u5355\u5f15\u53f7\u200b (%'f) \u200b\u5c06\u200b\u542f\u7528\u200b --grouping\uff08\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u533a\u57df\u200b\u8bbe\u7f6e\u200b\u652f\u6301\u200b\uff09\u3002\n\u200b\u53ef\u9009\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u503c\u200b (%10f) \u200b\u4f1a\u200b\u586b\u5145\u200b\u8f93\u51fa\u200b\u3002\u200b\u53ef\u9009\u200b\u7684\u200b\u4ee5\u200b 0 \u200b\u5f00\u5934\u200b (%010f) \u200b\u7684\u200b\u5bbd\u5ea6\u200b\n\u200b\u4f1a\u200b\u4f7f\u7528\u200b 0 \u200b\u5bf9\u200b\u6570\u5b57\u200b\u8fdb\u884c\u200b\u586b\u5145\u200b\u3002\u200b\u53ef\u9009\u200b\u7684\u200b\u8d1f\u503c\u200b (%-10f) \u200b\u4f1a\u200b\u542f\u7528\u200b\u5de6\u200b\u5bf9\u9f50\u200b\u3002\n\u200b\u53ef\u9009\u200b\u7684\u200b\u7cbe\u5ea6\u200b (%.1f) \u200b\u4f1a\u200b\u8986\u76d6\u200b\u7531\u200b\u8f93\u5165\u200b\u6240\u200b\u786e\u5b9a\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u3002\n\n\u200b\u5982\u679c\u200b\u6240\u6709\u200b\u8f93\u5165\u200b\u6570\u5b57\u200b\u5747\u200b\u6210\u529f\u200b\u8f6c\u6362\u200b\uff0c\u200b\u9000\u51fa\u200b\u72b6\u6001\u503c\u200b\u5c06\u200b\u4e3a\u200b 0\u3002\n\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c./numfmt \u200b\u5c06\u4f1a\u200b\u5728\u200b\u7b2c\u4e00\u4e2a\u200b\u8f6c\u6362\u200b\u9519\u8bef\u200b\u51fa\u73b0\u200b\u65f6\u200b\u505c\u6b62\u200b\u5e76\u200b\u5c06\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u8bbe\u200b\u4e3a\u200b 2\u3002\n\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u4e86\u200b --invalid='fail'\uff0c\u200b\u7a0b\u5e8f\u200b\u6bcf\u6b21\u200b\u9047\u5230\u200b\u8f6c\u6362\u200b\u9519\u8bef\u200b\u65f6\u200b\u90fd\u200b\u5c06\u200b\u8f93\u51fa\u200b\u8b66\u544a\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\n\u200b\u6700\u540e\u200b\u5c06\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u8bbe\u200b\u4e3a\u200b 2\u3002\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u4e86\u200b --invalid='warn'\uff0c\u200b\u7a0b\u5e8f\u200b\u6bcf\u6b21\u200b\u9047\u5230\u200b\u8f6c\u6362\u200b\n\u200b\u9519\u8bef\u200b\u65f6\u200b\u90fd\u200b\u8f93\u51fa\u200b\u8bca\u65ad\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4f46\u200b\u6700\u540e\u200b\u7684\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u5c06\u200b\u4e3a\u200b 0\u3002\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b\u4e86\u200b\n--invalid='ignore'\uff0c\u200b\u7a0b\u5e8f\u200b\u5728\u200b\u9047\u5230\u200b\u8f6c\u6362\u200b\u9519\u8bef\u200b\u65f6\u200b\u5c06\u200b\u4e0d\u200b\u8f93\u51fa\u200b\u8bca\u65ad\u200b\u4fe1\u606f\u200b\uff0c\u200b\u6700\u540e\u200b\u7684\u200b\n\u200b\u9000\u51fa\u200b\u72b6\u6001\u200b\u4e5f\u200b\u5c06\u200b\u4e3a\u200b 0\u3002\n\n\u200b\u793a\u4f8b\u200b\uff1a\n  $ ./numfmt --to=si 1000\n            -&gt; \"1.0K\"\n  $ ./numfmt --to=iec 2048\n           -&gt; \"2.0K\"\n  $ ./numfmt --to=iec-i 4096\n           -&gt; \"4.0Ki\"\n  $ echo 1K | ./numfmt --from=si\n           -&gt; \"1000\"\n  $ echo 1K | ./numfmt --from=iec\n           -&gt; \"1024\"\n  $ df -B1 | ./numfmt --header --field 2-4 --to=si\n  $ ls -l  | ./numfmt --header --field 5 --to=iec\n  $ ls -lh | ./numfmt --header --field 5 --from=iec --padding=10\n  $ ls -lh | ./numfmt --header --field 5 --from=iec --format %10f\n\nGNU coreutils \u200b\u5728\u7ebf\u200b\u5e2e\u52a9\u200b\uff1a&lt;https://www.gnu.org/software/coreutils/&gt;\n\u200b\u8bf7\u200b\u5411\u200b &lt;http://translationproject.org/team/zh_CN.html&gt; \u200b\u62a5\u544a\u200b\u4efb\u4f55\u200b\u7ffb\u8bd1\u200b\u9519\u8bef\u200b\n\u200b\u5b8c\u6574\u200b\u6587\u6863\u200b &lt;https://www.gnu.org/software/coreutils/numfmt&gt;\n\u200b\u6216\u8005\u200b\u5728\u200b\u672c\u5730\u200b\u4f7f\u7528\u200b\uff1ainfo '(coreutils) numfmt invocation'\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#shuf","title":"shuf","text":"<p>\u200b\u5728\u200b\u4f7f\u7528\u200b<code>shuf</code>\u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u8bf7\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5b83\u200b\u53ef\u80fd\u200b\u65e0\u6cd5\u200b\u5904\u7406\u200b\u975e\u5e38\u200b\u5927\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u4f1a\u200b\u5c06\u200b\u6574\u4e2a\u200b\u6587\u4ef6\u200b\u52a0\u8f7d\u200b\u5230\u200b\u5185\u5b58\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u5927\u578b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u60a8\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u5bfb\u627e\u200b\u5176\u4ed6\u200b\u5de5\u5177\u200b\u6216\u200b\u65b9\u6cd5\u200b\u6765\u200b\u8fdb\u884c\u200b\u968f\u673a\u5316\u200b\u5904\u7406\u200b\u3002</p> <pre><code>shuf input.txt\n\n# \u200b\u8986\u76d6\u200b\nshuf input.txt -o output.txt\n\n# \u200b\u968f\u673a\u200b\u62bd\u53d6\u200b5\u200b\u884c\u200b\nshuf -n 5 input.txt\n\n# \u200b\u751f\u6210\u200b\u4e00\u4e2a\u200b\u968f\u673a\u6570\u200b\nshuf -i 1-100 -n 1\n\n# \u200b\u4ece\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b\u8bfb\u53d6\u200b\u5185\u5bb9\u200b\necho -e \"line1\\nline2\\nline3\" | shuf\n\n# \u200b\u751f\u6210\u200b\u6307\u5b9a\u200b\u8303\u56f4\u200b\u5c0f\u6570\u200b\nmin=0; max=1; scale=100; shuf -i \"$((min*scale))-$((max*scale))\" -n 1 | awk '{ print $1 / 100 }'\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#pmap","title":"pmap","text":"<p>~~writeable/private \u200b\u597d\u50cf\u200b\u662f\u200b\u5f53\u524d\u200b\u8fdb\u7a0b\u200b\u5360\u7528\u200b\u5185\u5b58\u200b\u7684\u200b\u603b\u91cf\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4e0d\u200b\u5bf9\u200b~~</p> <pre><code>(name=idreader; pmap -d $(pgrep -fn $name))\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#awk","title":"awk","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_7","title":"\u4f7f\u7528\u200b\u6b63\u5219\u200b\u8fdb\u884c\u200b\u5206\u7ec4","text":"<pre><code>echo -e \"Saturday\\ntoday\" | awk 'match($1, /S(.*)?t(.*)y/, groups) { print groups[1]; print groups[2]; }'\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#tar","title":"tar","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_8","title":"\u901a\u8fc7\u200b\u6807\u51c6\u200b\u8f93\u5165\u200b\u8fdb\u884c\u200b\u6253\u5305","text":"<p><code>ls -f</code>\u200b\u66ff\u6362\u200bfind\u200b\u6027\u80fd\u200b\u4f1a\u200b\u63d0\u9ad8\u200b\u5f88\u591a\u200b</p> <pre><code>find $max_dir -name *.json | head -$file_num | tar zcvf $tar_dir/$tar_name -T - --remove-file &gt;&gt;$tar_dir/tar.log\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#curl","title":"curl","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_9","title":"\u5b66\u4e60\u200b\u8d44\u6599","text":"<p>\u200b\u5377\u66f2\u200b\u98df\u8c31\u200b (catonmat.net)</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#https","title":"\u5ffd\u7565\u200bhttps\u200b\u8bc1\u4e66\u200b\u548c\u200b\u8fdb\u884c\u200b\u5bc6\u7801\u200b\u8ba4\u8bc1","text":"<pre><code>curl -k -u admin:123 https://xxx\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#rescurl","title":"\u5c06\u200bres\u200b\u7ed3\u679c\u200b\u4f5c\u4e3a\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200bcurl\u200b\u7684\u200b\u53c2\u6570","text":"<pre><code>curl -s --compressed --http2 -X GET \\\n        -H \"Host:smp-api.iyouke.com\" \\\n        -H \"authorization:bearer5378fb9bd91687516570322\" \\\n        -H \"charset:utf-8\" \\\n        -H \"xy-extra-frame.html\" \\\n        -H \"accept:*/*\" $url | \\\n        curl -s -u yanghe:8m. -d @- http://localhost:8081/moto\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#curl-debug","title":"curl debug","text":"<pre><code># -vvv\u200b\u4e5f\u200b\u884c\u200b\ncurl -s --trace - --dns-servers 1.1.1.1 https://www.baidu.com \n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_10","title":"\u968f\u673a\u200b\u751f\u6210\u200b\u5bc6\u7801","text":"<pre><code>tr\u00a0-dc\u00a0'A-Za-z0-9_!@#$%^&amp;*()-+='\u00a0&lt;\u00a0/dev/urandom\u00a0|\u00a0head\u00a0-c\u00a012\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#nginx","title":"NGINX","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#nginx_1","title":"\u901a\u8fc7\u200b\u4fe1\u53f7\u200b\u63a7\u5236\u200bNGINX","text":"<p>NGINX\u200b\u9ed8\u8ba4\u200bmaster\u200b\u8fdb\u7a0b\u200bpid\u200b\u6587\u4ef6\u200b\u5728\u200b~~/usr/local/nginx/logs/nginx.pid~~\uff0c\u200b\u6211\u200b\u7684\u200bMint\u200b\u5728\u200b<code>/var/run/nginx.pid</code> ![[Snipaste_2023-07-12_14-17-01.png]] \u200b\u4e3b\u200b\u8fdb\u7a0b\u200b\u652f\u6301\u200b\u4ee5\u4e0b\u200b\u4fe1\u53f7\u200b\uff1a</p> <ul> <li>TERM,INT \uff1a\u200b\u5feb\u901f\u200b\u5173\u95ed\u200b</li> <li>QUIT\uff1a \u200b\u4f18\u96c5\u200b\u7684\u200b\u5173\u95ed\u200b</li> <li>HUP \uff1a\u200b\u66f4\u6539\u200b\u914d\u7f6e\u200b\uff0c\u200b\u4f7f\u7528\u200b\u65b0\u200b\u914d\u7f6e\u200b\u542f\u52a8\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u5173\u95ed\u200b\u65e7\u200b\u8fdb\u7a0b\u200b</li> <li>USR1\uff1a\u200b\u91cd\u65b0\u200b\u6253\u5f00\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b</li> <li>USR2\uff1a\u200b\u5347\u7ea7\u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b</li> <li>WINCH\uff1a\u200b\u4f18\u96c5\u200b\u7684\u200b\u5173\u95ed\u200b\u5de5\u4f5c\u200b\u8fdb\u7a0b\u200b\uff0c\u200b\u5355\u4e2a\u200b\u5de5\u4f5c\u200b\u8fdb\u7a0b\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4fe1\u53f7\u200b\u63a7\u5236\u200b\uff0c\u200b\u4e0d\u662f\u200b\u5fc5\u987b\u200b\u7684\u200b</li> <li>TERM, INT\uff1a\u200b\u5feb\u901f\u200b\u5173\u95ed\u200b</li> <li>QUIT\uff1a\u200b\u4f18\u96c5\u200b\u7684\u200b\u5173\u95ed\u200b</li> <li>\u200b\u91cd\u65b0\u200b\u6253\u5f00\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b</li> <li>WINCH\uff1a\u200b\u7ec8\u6b62\u200b\u5f02\u5e38\u200b\u8c03\u8bd5\u200b\uff08\u200b\u9700\u8981\u200b\u542f\u7528\u200bdebug_points\uff09</li> </ul>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#nginx_2","title":"\u66f4\u6539\u200bnginx\u200b\u914d\u7f6e","text":"<pre><code>ps axw -o pid,ppid,user,%cpu,vxz,wchan,command | egrep '(nginx|PID)'\nkill -HUP 33126\n</code></pre> <p>PID\u200b\u4e3a\u200b33126\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u4ecd\u200b\u5728\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u540e\u200b\u5c31\u200b\u4f1a\u200b\u9000\u51fa\u200b</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_11","title":"\u65e5\u5fd7\u200b\u6587\u4ef6\u200b\u8f6e\u8be2","text":"<pre><code>mv access.log access_bak.log\nkill\u00a0-USR1\u00a011604\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_12","title":"\u52a8\u6001\u200b\u5347\u7ea7\u200b\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>\u200b\u901a\u8fc7\u200b\u4fe1\u53f7\u200b\u63a7\u5236\u200b nginx - Nginx \u200b\u6559\u7a0b\u200b (hxstrive.com) \u200b\u4e0d\u5982\u200bkill\u200b\u6389\u200b\uff0c\u200b\u66ff\u6362\u200b</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#shc-shell","title":"shc \u200b\u52a0\u5bc6\u200bshell\u200b\u811a\u672c","text":"<pre><code>shc -r -f filename.sh\n# \u200b\u5f00\u59cb\u200b\u9759\u6001\u200b\u7f16\u8bd1\u200b\uff0c\u200b\u8ba9\u200b\u53ef\u4ee5\u200b\u8de8\u5e73\u53f0\u200b\u8fd0\u884c\u200b\ncc -Wall -lutil -static -o filename filename.x.c\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#docker","title":"Docker","text":"<pre><code>docker save -o docker-elk-filebeat.tar docker-elk-filebeat:latest # \u200b\u5bfc\u51fa\u200b\u955c\u50cf\u200b\n docker load -i docker-elk-filebeat.tar # \u200b\u5bfc\u5165\u200b\u955c\u50cf\u200b\ndocker kill \u200b\u5bb9\u5668\u200bID\u200b\u6216\u200b\u955c\u50cf\u200b\u540d\u5b57\u200b # \u200b\u5220\u9664\u200b\u5bb9\u5668\u200b\ndocker rmi \u200b\u955c\u50cf\u200b\u540d\u79f0\u200b # \u200b\u5220\u9664\u200b\u955c\u50cf\u200b\n\n# \u200b\u4e00\u6b21\u6027\u200b\u5220\u9664\u200b\u591a\u4e2a\u200b\u5bb9\u5668\u200b\u5b9e\u4f8b\u200b\uff1a\ndocker rm -f $(docker ps -a -q)\ndocker rm -a -q | xargs docker rm\n\ndocker export \u200b\u5bb9\u5668\u200bID &gt; \u200b\u6587\u4ef6\u540d\u200b.tar # \u200b\u5bfc\u51fa\u200b\u5bb9\u5668\u200b\n# \u200b\u6062\u590d\u200b\u5230\u200b\u65b0\u200b\u7684\u200b\u955c\u50cf\u200b\uff0c\u200b\u7136\u540e\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u5bb9\u5668\u200b\ncat \u200b\u6587\u4ef6\u540d\u200b.tar | docker import - \ndocker run -it ...\n\n# \u200b\u5bb9\u5668\u200b\u6253\u5305\u200b\u6210\u200b\u955c\u50cf\u200b\ndocker commit -m \"\u200b\u63cf\u8ff0\u200b\" -a \"\u200b\u4f5c\u8005\u200b\" \u200b\u5bb9\u5668\u200bID:tag\n\n# \u200b\u5bb9\u5668\u200b\u5377\u200b\ndocker run -it --privileged=true -v /\u200b\u5bbf\u4e3b\u673a\u200b\u76ee\u5f55\u200b:/\u200b\u5bb9\u5668\u200b\u5185\u200b\u76ee\u5f55\u200b:rw \u200b\u955c\u50cf\u200b\u540d\u200b (\u200b\u9ed8\u8ba4\u200b\u662f\u200brw)\uff0c\u200b\u53ef\u4ee5\u200b\u6539\u4e3a\u200bro\uff08read only\uff09\uff0c\u200b\u5bb9\u5668\u200b\u5377\u200b\u53ea\u8bfb\u200b\uff0c\u200b\u4e0d\u53ef\u200b\u5199\u5165\u200b\u3002\u200b\u5bbf\u4e3b\u673a\u200b\u53ef\u4ee5\u200b\u5199\u5165\u200b\uff0c\u200b\u540c\u6b65\u200b\u7ed9\u200b\u5bb9\u5668\u200b\u3002\n\n# docker\u200b\u5377\u200b\u7ee7\u627f\u200b\ndocker run -it --privileged=true --volumes-from \u200b\u7236\u7c7b\u200b --name u2 ubuntu\n\n# \u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u865a\u7384\u200b\u955c\u50cf\u200b\ndocker image ls -f dangling=true\n# \u200b\u5220\u9664\u200b\u6240\u6709\u200b\u865a\u7384\u200b\u955c\u50cf\u200b\ndocker image prune\n</code></pre> <p>Docker\u200b\u6302\u200b\u5728\u200b\u4e3b\u673a\u200b\u76ee\u5f55\u200b\u8bbf\u95ee\u200b\u5982\u679c\u200b\u51fa\u73b0\u200bconnot open directory \uff1aPermission denied \u200b\u89e3\u51b3\u529e\u6cd5\u200b\uff1a\u200b\u5728\u200b\u6302\u8f7d\u200b\u76ee\u5f55\u200b\u540e\u591a\u52a0\u200b\u4e00\u4e2a\u200b--privileged=true</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#docker-compose","title":"docker-compose","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_13","title":"\u547d\u4ee4\u884c\u200b\u53c2\u6570","text":"<pre><code>docker-compose up # \u200b\u542f\u52a8\u200b\u6240\u6709\u200bdocker-compose\u200b\u670d\u52a1\u200b\ndocker-compose up -d # \u200b\u542f\u52a8\u200b\u6240\u6709\u200bdocker-compose\u200b\u670d\u52a1\u200b\u5728\u200b\u540e\u53f0\u200b\u8fd0\u884c\u200b\ndocker-compose down # \u200b\u505c\u6b62\u200b\u5e76\u200b\u5220\u9664\u200b\u5bb9\u5668\u200b\u3001\u200b\u7f51\u7edc\u200b\u3001\u200b\u5377\u200b\u3001\u200b\u955c\u50cf\u200b\ndocker-compose exec \u200b\u5bb9\u5668\u200bID /bin/bash # \u200b\u8fdb\u5165\u200b\u5bb9\u5668\u200b\u5185\u90e8\u200b\ndocker-compose ps # \u200b\u5c55\u793a\u200b\u5f53\u524d\u200bdocker-compose\u200b\u7f16\u6392\u200b\u8fc7\u200b\u7684\u200b\u8fd0\u884c\u200b\u7684\u200b\u6240\u6709\u200b\u5bb9\u5668\u200b\ndocker-compose top # \u200b\u5c55\u793a\u200b\u5f53\u524d\u200bdocker-compose\u200b\u7f16\u6392\u200b\u8fc7\u200b\u7684\u200b\u5bb9\u5668\u200b\u8fdb\u7a0b\u200b\ndocker-compose logs \u200b\u5bb9\u5668\u200bID # \u200b\u67e5\u770b\u200b\u5bb9\u5668\u200b\u8f93\u51fa\u200b\u65e5\u5fd7\u200b\ndocker-compose config # \u200b\u68c0\u67e5\u200b\u914d\u7f6e\u200b\ndocker-compose config -q # \u200b\u68c0\u67e5\u200b\u914d\u7f6e\u200b\uff0c\u200b\u6709\u200b\u95ee\u9898\u200b\u624d\u200b\u8f93\u51fa\u200b\ndocker-compose restart # \u200b\u91cd\u542f\u200b\u670d\u52a1\u200b\ndocker-compose start # \u200b\u542f\u52a8\u200b\u670d\u52a1\u200b\ndocker-compose stop # \u200b\u505c\u6b62\u200b\u670d\u52a1\u200b\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#yaml","title":"yaml \u200b\u6587\u4ef6\u200b\u7ea7","text":"<p>Docker Compose \u200b\u7684\u200b YAML \u200b\u6587\u4ef6\u200b\u5305\u542b\u200b4\u200b\u4e2a\u200b\u4e00\u7ea7\u200b key:version\u3001services\u3001networks\u3001volumes\u3002</p> <ul> <li>version \u200b\u662f\u200b\u5fc5\u987b\u200b\u6307\u5b9a\u200b\u7684\u200b\uff0c\u200b\u4f4d\u4e8e\u200b\u6587\u4ef6\u200b\u7684\u200b\u7b2c\u4e00\u884c\u200b\u3002\u200b\u5b83\u200b\u5b9a\u4e49\u200b\u4e86\u200b Compose \u200b\u6587\u4ef6\u683c\u5f0f\u200b\uff08\u200b\u4e3b\u8981\u200b\u662f\u200bAPI\uff09\u200b\u7684\u200b\u7248\u672c\u200b\u3002</li> <li>services \u200b\u7528\u4e8e\u200b\u5b9a\u4e49\u200b\u4e0d\u540c\u200b\u7684\u200b\u5e94\u7528\u670d\u52a1\u200b\u3002</li> <li>networks \u200b\u7528\u4e8e\u200b\u6307\u5f15\u200b Docker \u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u7f51\u7edc\u200b\u3002</li> <li>volumes \u200b\u7528\u4e8e\u200b\u6307\u5f15\u200b Docker \u200b\u6765\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u5377\u200b\u3002</li> </ul>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#strip","title":"strip \u2014 \u200b\u4e22\u5f03\u200b\u5bf9\u8c61\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u7b26\u53f7\u200b\u548c\u200b\u5176\u4ed6\u200b\u6570\u636e","text":"<p>\u200b\u5728\u200b\u5d4c\u5165\u5f0f\u200b\u7528\u200b\u7684\u200b\u6bd4\u8f83\u200b\u591a\u200b\uff0c\u200b\u5d4c\u5165\u5f0f\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u4e00\u822c\u200b\u975e\u5e38\u200b\u5c0f\u200b\uff0c\u200b\u4e00\u822c\u200b\u670d\u52a1\u5668\u200b\u65e0\u6240\u8c13\u200b</p> <pre><code>yanghe@IkunOS:/tmp$ file hello_world\nhello_world: ELF 64-bit LSB executable, x86-64, version 1 (GNU/Linux), statically linked, BuildID[sha1]=0266e8c8b510581d97cd75551682b839d8c8ba47, for GNU/Linux 3.2.0, not stripped\nyanghe@IkunOS:/tmp$ du hello_world\n1024 hello_world\nyanghe@IkunOS:/tmp$ strip -s hello_world\nyanghe@IkunOS:/tmp$ du hello_world\n940 hello_world\nyanghe@IkunOS:/tmp$ file hello_world\nhello_world: ELF 64-bit LSB executable, x86-64, version 1 (GNU/Linux), statically linked, BuildID[sha1]=0266e8c8b510581d97cd75551682b839d8c8ba47, for GNU/Linux 3.2.0, stripped\n</code></pre> <p>\u200b\u53c2\u8003\u200b\uff1a</p> <ul> <li>strip\u200b\u547d\u4ee4\u200b | CS\u200b\u7b14\u8bb0\u200b (pynote.net)</li> <li>Linux \u200b\u53ef\u6267\u884c\u6587\u4ef6\u200b\u7626\u8eab\u200b\u6307\u4ee4\u200b strip \u200b\u4f7f\u7528\u200b\u793a\u4f8b\u200b - ENG\u200b\u516b\u6212\u200b - \u200b\u535a\u5ba2\u56ed\u200b (cnblogs.com)</li> </ul>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#nmcli","title":"nmcli","text":"<pre><code>nmcli con show\n nmcli con mod enp0s8 ipv4.addresses 192.168.56.119/24 ipv4.gateway 192.168.56.1 ipv4.method manual\n nmcli con up enp0s8\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#wget","title":"wget","text":"<p>\u200b\u65ad\u70b9\u7eed\u4f20\u200b+\u200b\u540e\u53f0\u200b\u4e0b\u8f7d\u200b</p> <pre><code>wget -b -c https://xxx\n</code></pre> <p>\u200b\u4e0b\u8f7d\u200b\u8fd9\u4e2a\u200b\u7ad9\u70b9\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u5168\u90e8\u200brpm</p> <p><pre><code>wget -r -np -L -nv -x -N mirrors.cmecloud.cn/bclinux/el8.2/BaseOS/x86_64/os/Packages/\n</code></pre> - \u200b\u53c2\u8003\u200b   - https://www.cnblogs.com/librarookie/p/14660645.html</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#pcregrep-pcre2grep","title":"pcregrep &amp; pcre2grep","text":"<p>\u200b\u4e13\u95e8\u200b\u4f7f\u7528\u200bPCRE\u200b\u89c4\u8303\u200b\u6765\u200b\u5b9e\u73b0\u200b\u7684\u200bgrep \u200b\u4f7f\u7528\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200b\uff1a <pre><code>pcregrep  -o1 'echo(.*?)d' hello-world.sh\n</code></pre></p> <p>\u200b\u4e3b\u8981\u200b\u539f\u56e0\u200b\u662f\u200bgrep\u200b\u652f\u6301\u200b\u4e09\u79cd\u200b\u6b63\u5219\u8868\u8fbe\u5f0f\u200bBRE,ERE,PCRE\uff0c\u200b\u800c\u200b\u5176\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200bBRE\uff0c\u200b\u4f46\u200b\\d\u200b\u662f\u200b\u5b9a\u4e49\u200b\u5728\u200bPCRE\u200b\u4e2d\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200bgrep\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u4e0d\u200b\u652f\u6301\u200b\\d\u200b\u7684\u200b\u3002</p> <p>pcre2grep \u200b\u6709\u4e2a\u200b\u597d\u200b\u7528\u200b\u7684\u200b\u529f\u80fd\u200b\uff1a <pre><code>$ echo -e 'name:zhangsan,age:18 \\n name:lisi,age:20' | pcre2grep -O '$1 $2' 'name:(\\w+),age:(\\d+)'\nzhangsan 18\nlisi 20\n</code></pre> - \u200b\u53c2\u8003\u200b   - https://www.cnblogs.com/codelogs/p/16060372.html</p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#sudo","title":"sudo","text":"<p>\u200b\u5224\u65ad\u200b\u662f\u4e0d\u662f\u200b\u5177\u6709\u200bsudo\u200b\u6743\u9650\u200b\uff1a <pre><code>sudo -l -U zhangsan\n</code></pre></p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#netstat","title":"netstat","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#tcp","title":"\u7edf\u8ba1\u200bTCP\u200b\u8fde\u63a5\u200b\u72b6\u6001","text":"<pre><code>netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#ss","title":"ss","text":"<p>\u200b\u6307\u5b9a\u200b\u7aef\u53e3\u200b\u7edf\u8ba1\u200b\u8fde\u63a5\u6570\u200b</p> <pre><code>ss -ta src :6000\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#lsof","title":"lsof","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_14","title":"\u7a0b\u5e8f\u200b\u6253\u5f00\u200b\u6587\u4ef6\u200b\u6570","text":"<pre><code>lsof -c nginx  | wc -l\n</code></pre> <pre><code>lsof | grep java |grep IPv | wc -l\nlsof | grep java |grep :6379 | wc -l\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#tail","title":"tail","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#tail-fio","title":"tail -f\u200b\u52a0\u200b\u7ba1\u9053\u200b\u547d\u4ee4\u200b\u540e\u200b\u4e0d\u80fd\u200b\u53ca\u65f6\u200b\u8f93\u51fa\u200b\u7684\u200b\u95ee\u9898\u200b\uff08IO\u200b\u7f13\u51b2","text":"<ol> <li>\u200b\u4f7f\u7528\u200bstdbuf\u200b\u547d\u4ee4\u200b <code>tail -fn0 a.log | stdbuf -oL grep \"F3 00\" | grep SR</code></li> <li>\u200b\u628a\u200b\u6807\u51c6\u200b\u8f93\u51fa\u200b\u91cd\u5b9a\u5411\u200b\u5230\u200b\u6807\u51c6\u200b\u9519\u8bef\u200b\u4e0a\u200b\uff0c\u200b\u5e76\u200b\u628a\u200b\u9519\u8bef\u200b\u4e5f\u200b\u7ed9\u200b\u7ba1\u9053\u200b\uff08\u200b\u56e0\u4e3a\u200bstderr\u200b\u662f\u200b\u65e0\u200b\u7f13\u51b2\u200b\u7684\u200b\uff09 <code>tail -f &gt;&amp;2 |&amp; awk</code></li> </ol>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_15","title":"\u5176\u5b83","text":""},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#procpidstatus","title":"/proc/pid/status \u200b\u67e5\u770b\u200b\u5185\u5b58\u200b\u4f7f\u7528\u7387","text":"<p>/proc/[PID]/status\u200b\u6587\u4ef6\u200b\uff1a\u200b\u6bcf\u4e2a\u200b\u8fd0\u884c\u200b\u7684\u200b\u8fdb\u7a0b\u200b\u90fd\u200b\u5728\u200b/proc\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4ee5\u200b\u8fdb\u7a0b\u200bID\u200b\u547d\u540d\u200b\u7684\u200b\u76ee\u5f55\u200b\u3002\u200b\u8fdb\u5165\u200b\u7279\u5b9a\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u76ee\u5f55\u200b\uff08\u200b\u4f8b\u5982\u200b/proc/12345\uff09\uff0c\u200b\u7136\u540e\u200b\u67e5\u770b\u200bstatus\u200b\u6587\u4ef6\u200b\u3002\u200b\u5728\u200bstatus\u200b\u6587\u4ef6\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u627e\u5230\u200bVmRSS\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5b83\u200b\u8868\u793a\u200b\u8fdb\u7a0b\u200b\u5b9e\u9645\u200b\u5360\u7528\u200b\u7684\u200b\u7269\u7406\u200b\u5185\u5b58\u200b\u3002</p> <p><code>cat /proc/12345/status | grep VmRSS</code></p>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#shellstderrstdout","title":"shell\u200b\u5c06\u200bstderr\u200b\u8f93\u51fa\u200b\u5230\u200bstdout","text":"<pre><code># |&amp; == 2&gt;&amp;1\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#python3","title":"python3 \u200b\u5f00\u542f\u200b\u6587\u4ef6\u200b\u670d\u52a1\u5668","text":"<pre><code>python3 -m http.server\n</code></pre>"},{"location":"Linux/Linux%E5%91%BD%E4%BB%A4/%E6%88%91%E7%9A%84Linux%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_16","title":"\u67e5\u770b\u200b\u8fdb\u7a0b\u200b\u7ebf\u7a0b\u200b&amp;\u200b\u8fdb\u7a0b\u200b\u8be6\u7ec6\u4fe1\u606f","text":"<pre><code>cat /proc/102551/status | more\nName: java\nUmask: 0002\nState: S (sleeping)\nTgid: 102551\nNgid: 0\nPid: 102551\nPPid: 102344\nTracerPid: 0\nUid: 1002 1002 1002 1002\nGid: 1002 1002 1002 1002\nFDSize: 4096\nGroups: 1002 \nVmPeak: 23980072 kB\nVmSize: 23818032 kB\nVmLck:        0 kB\nVmPin:        0 kB\nVmHWM:  9205188 kB\nVmRSS:  9057300 kB\nRssAnon:  9049584 kB\nRssFile:     7716 kB\nRssShmem:        0 kB\nVmData: 23656776 kB\nVmStk:      132 kB\nVmExe:        4 kB\nVmLib:    17316 kB\nVmPTE:    18692 kB\nVmSwap:    25872 kB\nThreads: 213\nSigQ: 0/127861\nSigPnd: 0000000000000000\nShdPnd: 0000000000000000\nSigBlk: 0000000000000004\nSigIgn: 0000000000000002\nSigCgt: 2000000181005ccd\nCapInh: 0000000000000000\nCapPrm: 0000000000000000\nCapEff: 0000000000000000\nCapBnd: 0000001fffffffff\nCapAmb: 0000000000000000\nSeccomp: 0\nSpeculation_Store_Bypass: vulnerable\nCpus_allowed: ffffffff,ffffffff,ffffffff,ffffffff,ffffffff\nCpus_allowed_list: 0-159\nMems_allowed: 00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000\n000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000\n,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00\n000000,00000000,00000001\nMems_allowed_list: 0\nvoluntary_ctxt_switches: 478194\nnonvoluntary_ctxt_switches: 170\n</code></pre>"},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/emqx/","title":"Emqx","text":""},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/emqx/#emqx","title":"emqx \u200b\u9759\u6001\u200b\u96c6\u7fa4\u200b\u7684\u200b\u642d\u5efa","text":"IP \u200b\u8282\u70b9\u200b\u540d\u79f0\u200b 10.130.21.232 nginx 10.130.21.233 emqx01 10.130.21.234 emqx02 10.130.21.235 emqx03 <p>\u200b\u4e0b\u8f7d\u200b\u955c\u50cf\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u955c\u50cf\u200b\u662f\u200b4.x\u200b\u7248\u672c\u200b\uff0c\u200b\u4e0d\u662f\u200b\u6700\u65b0\u200b\u7684\u200b5.x\u200b\u7248\u672c\u200b\uff0c\u200b\u4e0d\u8981\u200b\u4e0b\u8f7d\u200b<code>emqx:latest</code>\u200b\u955c\u50cf\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u955c\u50cf\u200b\u4e5f\u200b\u662f\u200b4.x\u200b\u7248\u672c\u200b\u3002 <pre><code>docker pull emqx/emqx\n</code></pre> \u200b\u5728\u200bemqx\u200b\u4e09\u4e2a\u200b\u8282\u70b9\u200b\u5206\u522b\u200b\u8fd0\u884c\u200b\uff1a <pre><code>docker run -itd \\\n    # \u200b\u5bb9\u5668\u200b\u8282\u70b9\u200b\u540d\u79f0\u200b(\u200b\u4fee\u6539\u200b)\n    --name emqx01 \\\n    # EMQX\u200b\u540d\u79f0\u200b\u548c\u200b\u5bb9\u5668\u200b\u8282\u70b9\u200b\u540d\u79f0\u200b\u4fdd\u6301\u4e00\u81f4\u200b(\u200b\u4fee\u6539\u200b)\n    -e EMQX_NAME=emqx01 \\\n    # \u200b\u672c\u200b\u673a\u200bIP \u200b\u5730\u5740\u200b(\u200b\u4fee\u6539\u200b)\n    -e EMQX_HOST=10.130.21.233 \\\n    # \u200b\u524d\u7aef\u200b\u9762\u677f\u200b\u767b\u5f55\u200b\u7528\u6237\u540d\u200b(\u200b\u4fee\u6539\u200b)\n    -e EMQX_DASHBOARD__DEFAULT_USER__LOGIN=admin \\\n    # \u200b\u524d\u7aef\u200b\u9762\u677f\u200b\u767b\u5f55\u200b\u7528\u6237\u200b\u5bc6\u7801\u200b(\u200b\u4fee\u6539\u200b)\n        -e EMQX_DASHBOARD__DEFAULT_USER__PASSWORD=admin123456 \\\n    -e EMQX_CLUSTER__DISCOVERY=static \\\n    -e EMQX_LOADED_PLUGINS=\"emqx_management,emqx_auth_mnesia,emqx_recon,emqx_retainer,emqx_dashboard\" \\\n    -e EMQX_ALLOW_ANONYMOUS=false \\\n    # \u200b\u96c6\u7fa4\u200b\u8282\u70b9\u200b(\u200b\u4fee\u6539\u200b)\n        -e EMQX_CLUSTER__STATIC__SEEDS=[emqx01@10.130.21.233,emqx02@10.130.21.234,emqx03@10.130.21.235] \\\n         # \u200b\u6388\u6743\u200b\u8bbf\u95ee\u200bmqtt 1883\u200b\u7aef\u53e3\u200b\u7528\u6237\u540d\u200b(\u200b\u4fee\u6539\u200b)\n    -e EMQX_AUTH__USER__1__USERNAME=admin \\\n        # \u200b\u6388\u6743\u200b\u8bbf\u95ee\u200bmqtt 1883\u200b\u7aef\u53e3\u200b\u7528\u6237\u200b\u5bc6\u7801\u200b(\u200b\u4fee\u6539\u200b)\n    -e EMQX_AUTH__USER__1__PASSWORD=admin123 \\\n        -v /etc/localtime:/etc/localtime:ro \\\n        --network=host \\\n    emqx/emqx\n\ndocker run -itd \\\n    --name emqx02 \\\n    -e EMQX_NAME=emqx02 \\\n    -e EMQX_HOST=10.130.21.234 \\\n    -e EMQX_DASHBOARD__DEFAULT_USER__LOGIN=admin \\\n        -e EMQX_DASHBOARD__DEFAULT_USER__PASSWORD=admin123456 \\\n    -e EMQX_CLUSTER__DISCOVERY=static \\\n    -e EMQX_LOADED_PLUGINS=\"emqx_management,emqx_auth_mnesia,emqx_recon,emqx_retainer,emqx_dashboard\" \\\n    -e EMQX_ALLOW_ANONYMOUS=false \\\n        -e EMQX_CLUSTER__STATIC__SEEDS=[emqx01@10.130.21.233,emqx02@10.130.21.234,emqx03@10.130.21.235] \\\n    -e EMQX_AUTH__USER__1__USERNAME=admin \\\n    -e EMQX_AUTH__USER__1__PASSWORD=admin123 \\\n        -v /etc/localtime:/etc/localtime:ro \\\n        --network=host \\\n    emqx/emqx\n\ndocker run -itd \\\n    --name emqx03 \\\n    -e EMQX_NAME=emqx03 \\\n    -e EMQX_HOST=10.130.21.235 \\\n    -e EMQX_DASHBOARD__DEFAULT_USER__LOGIN=admin \\\n        -e EMQX_DASHBOARD__DEFAULT_USER__PASSWORD=admin123456 \\\n    -e EMQX_CLUSTER__DISCOVERY=static \\\n    -e EMQX_LOADED_PLUGINS=\"emqx_management,emqx_auth_mnesia,emqx_recon,emqx_retainer,emqx_dashboard\" \\\n    -e EMQX_ALLOW_ANONYMOUS=false \\\n        -e EMQX_CLUSTER__STATIC__SEEDS=[emqx01@10.130.21.233,emqx02@10.130.21.234,emqx03@10.130.21.235] \\\n    -e EMQX_AUTH__USER__1__USERNAME=admin \\\n    -e EMQX_AUTH__USER__1__PASSWORD=admin123 \\\n        -v /etc/localtime:/etc/localtime:ro \\\n        --network=host \\\n    emqx/emqx\n</code></pre> nginx\u200b\u914d\u7f6e\u200b: <pre><code>docker pull nginx:latest\n</code></pre> \u200b\u4ece\u200bnginx\u200b\u5bb9\u5668\u200b\u590d\u5236\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u5230\u200b\u672c\u5730\u200b\u6765\u200b\u6302\u8f7d\u200b\uff0c\u200b\u5e76\u200b\u521b\u5efa\u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u200b <pre><code>docker run -itd --name nginx nginx:latest\ndocker cp nginx:/etc/nginx /opt/docker-nginx-emqx/conf\ndocker rm -f nginx\nmkdir -p /opt/docker-nginx-emqx/logs\ntouch /opt/docker-nginx-emqx/logs/{access,error}.log\n</code></pre> \u200b\u590d\u5236\u200b\u4e0b\u9762\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u5230\u200b<code>/opt/docker-nginx-emqx/conf/nginx.conf</code>\uff0c\u200b\u8fdb\u884c\u200b\u4fee\u6539\u200bIP\u200b\u5730\u5740\u200b\u548c\u200b\u5177\u4f53\u200b\u66b4\u9732\u200b\u7684\u200b\u7aef\u53e3\u200b <pre><code>user  root;\nworker_processes  auto;\n\nerror_log  /var/log/nginx/error.log warn;\npid        /var/run/nginx.pid;\nworker_rlimit_nofile 655350;\n\nevents {\n    worker_connections  65535;\n}\n\n\nstream{\n        log_format proxy '$time_iso8601 '\n        '$remote_addr -&gt; :$server_port -&gt; $upstream_addr'\n        ' \"$protocol\" \"$status\"'\n        ' \"$upstream_connect_time\"';\n\n        upstream emqx_servers {\n                server 10.130.21.233:1883  max_fails=3 fail_timeout=30s;\n                server 10.130.21.234:1883  max_fails=3 fail_timeout=30s;\n                server 10.130.21.235:1883  max_fails=3 fail_timeout=30s;\n        }\n\n        server {\n                 listen 1883;\n                 proxy_pass emqx_servers;\n                 access_log /var/log/nginx/access.log proxy;\n                 error_log /var/log/nginx/error.log;\n        }\n}\n</code></pre> \u200b\u8fd0\u884c\u200b\u65b0\u200b\u7684\u200bnginx\u200b\u5bb9\u5668\u200b <pre><code>docker run -itd \\\n    --name nginx-emqx \\\n    -p 1883:1883 \\\n    -v /opt/docker-nginx-emqx/conf/:/etc/nginx/ \\\n    -v /opt/docker-nginx-emqx/logs/:/var/log/nginx \\\n    nginx:latest\n</code></pre> \u200b\u7136\u540e\u200b\u8bbf\u95ee\u200bemqx\u200b\u7684\u200bweb\u200b\u754c\u9762\u200b\u67e5\u770b\u200b\u96c6\u7fa4\u200b\u7684\u200b\u72b6\u6001\u200b\uff0chttp://10.130.21.233:18083\uff0c\u200b\u6216\u8005\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b\u67e5\u770b\u200b\u96c6\u7fa4\u200b\u72b6\u6001\u200b\uff1a <pre><code>docker exec -it emqx01 sh -c \"emqx_ctl cluster status\"\n</code></pre> \u200b\u7136\u540e\u200b\u4e0b\u8f7d\u200bMQTTX\u200b\u6216\u8005\u200bMQTTBox\u200b\u8f6f\u4ef6\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\u53d1\u5e03\u200b\u6d88\u606f\u200b\uff0cMQTTBox windows\u200b\u5546\u5e97\u200b\u5c31\u200b\u6709\u200b\uff0c\u200b\u8fde\u63a5\u200bnginx\u200b\u7684\u200b\u5730\u5740\u200b</p>"},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/emqx/#docker-compose","title":"docker compose \u200b\u90e8\u7f72","text":"<p>\u200b\u76f4\u63a5\u200b\u7528\u200bdocker\u200b\u547d\u4ee4\u200b\u751f\u6210\u200bdocker compose\u200b\u7684\u200b\u6267\u884c\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u7f51\u7ad9\u200b\u751f\u6210\u200bcomposerize</p>"},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/emqx/#docker-compose_1","title":"docker compose \u200b\u4f2a\u200b\u96c6\u7fa4","text":"<pre><code>version: '3'\n\nservices:\n  emqx1:\n    image: emqx/emqx\n    environment:\n      - EMQX_NAME=emqx\n      - EMQX_HOST=node1.emqx.io\n      - EMQX_CLUSTER__DISCOVERY=static\n      - EMQX_CLUSTER__STATIC__SEEDS=emqx@node1.emqx.io, emqx@node2.emqx.io,emqx@node3.emqx.io\n    ports:\n      - 22211:18083\n      - 22212:1883\n      - 22213:8083\n    restart: always\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n    networks:\n      emqx-bridge:\n        aliases:\n          - node1.emqx.io\n\n  emqx2:\n    image: emqx/emqx\n    environment:\n      - EMQX_NAME=emqx\n      - EMQX_HOST=node2.emqx.io\n      - EMQX_CLUSTER__DISCOVERY=static\n      - EMQX_CLUSTER__STATIC__SEEDS=emqx@node1.emqx.io, emqx@node2.emqx.io,emqx@node3.emqx.io\n    ports:\n      - 22221:18083\n      - 22222:1883\n      - 22223:8083\n    restart: always\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n    networks:\n      emqx-bridge:\n        aliases:\n          - node2.emqx.io\n\n  emqx3:\n    image: emqx/emqx\n    environment:\n      - EMQX_NAME=emqx\n      - EMQX_HOST=node3.emqx.io\n      - EMQX_CLUSTER__DISCOVERY=static\n      - EMQX_CLUSTER__STATIC__SEEDS=emqx@node1.emqx.io, emqx@node2.emqx.io,emqx@node3.emqx.io\n    ports:\n      - 22231:18083\n      - 22232:1883\n      - 22233:8083\n    restart: always\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n    networks:\n      emqx-bridge:\n        aliases:\n          - node3.emqx.io\n\nnetworks:\n  emqx-bridge:\n    driver: bridge\n</code></pre>"},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/haproxy/","title":"Haproxy","text":""},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/haproxy/#haproxy","title":"haproxy","text":""},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/haproxy/#_1","title":"\u5b89\u88c5","text":"<pre><code>apt install  liblua5.4-dev lua5.4\nmake TARGET=linux-glibc STATIC=1 LDFLAGS=-static USE_LUA=1 USE_OPENSSL=1 USE_PCRE=1 USE_ZLIB=1 USE_PROMEX=1 USE_CPU_AFFINITY=1 PREFIX=/data/haproxy\nmake install PREFIX=/apps/haproxy\n</code></pre>"},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/haproxy/#_2","title":"\u521b\u5efa\u200b\u8d26\u53f7","text":"<pre><code>useradd -r -M -s /sbin/nologin haproxy\n</code></pre>"},{"location":"Linux/%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA/haproxy/#haproxy_1","title":"\u5e73\u6ed1\u200b\u91cd\u542f\u200bhaproxy","text":"<p>\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u73b0\u6709\u200b\u94fe\u63a5\u200b</p> <pre><code>haproxy -f haproxy.cfg -sf $(pgrep haproxy)\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/","title":"Ansible","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_1","title":"\u76f8\u5173\u200b\u547d\u4ee4","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_2","title":"\u67e5\u770b\u200b\u4e3b\u673a\u200b\u6e05\u5355","text":"<p>\u200b\u6211\u200b\u89c9\u5f97\u200b\u53ef\u4ee5\u200b\u5b9a\u4e49\u200balias\uff0call\u200b\u90e8\u5206\u200b\u53ef\u4ee5\u200b\u66ff\u6362\u200b\u4e3a\u4e3b\u200b\u673a\u7ec4\u200b <pre><code> ansible-inventory all --graph --vars\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#ansible-console","title":"ansible-console","text":"<pre><code>ansible-console\n# \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u6240\u6709\u200b\u7684\u200b\u6267\u884c\u200b\u4e3b\u673a\u200b\nlist\n# \u200b\u5207\u6362\u200b\u5230\u200bwebservers\u200b\u7ec4\u200b\ncd webservers\nlist\n# \u200b\u6a21\u5757\u200b+\u200b\u53c2\u6570\u200b\u6267\u884c\u200b\u64cd\u4f5c\u200b\ncopy src=./test_file dest=/tmp\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_3","title":"\u4f7f\u7528\u200b\u524d\u63d0","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#todo","title":"\u6279\u91cf\u200b\u5206\u53d1\u200b\u516c\u94a5\u200btodo","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#sudo","title":"\u6279\u91cf\u200b\u6dfb\u52a0\u200b\u7528\u6237\u200b\u5230\u200bsudo","text":"<pre><code>ansible all -m lineinfile -a 'dest=/etc/sudoers line=\"ansible ALL=(ALL) NOPASSWD: ALL\" validate=\"visudo -cf %s\" state=present'\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_4","title":"\u6a21\u5757","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_5","title":"\u547d\u4ee4\u200b\u6267\u884c\u200b\u6a21\u5757","text":"<p><code>raw</code>\u200b\u6a21\u5757\u200b\u548c\u200b<code>command</code>\u3001<code>shell</code>\u200b\u6a21\u5757\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\u5b83\u200b\u6ca1\u6709\u200b<code>chdir</code>\u3001<code>creates</code>\u3001<code>removes</code>\u200b\u53c2\u6570\u200b\uff0c<code>chdir</code>\u200b\u53c2\u6570\u200b\u7684\u200b\u4f5c\u7528\u200b\u5c31\u662f\u200b\u5148\u200b\u5207\u6362\u200b\u5230\u200b\u6307\u5b9a\u200b\u76ee\u5f55\u200b\uff0c\u200b\u518d\u200b\u6267\u884c\u200b\u540e\u9762\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u540e\u9762\u200b\u5f88\u591a\u200b\u6a21\u5757\u200b\u90fd\u200b\u6709\u200b\u8be5\u200b\u53c2\u6570\u200b\u3002</p> <ul> <li><code>creates</code>\uff1a \u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u5f53\u8be5\u200b\u6587\u4ef6\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u8be5\u200b\u547d\u4ee4\u200b\u4e0d\u200b\u6267\u884c\u200b\uff0craw\u200b\u6ca1\u6709\u200b</li> <li><code>free_from</code>\uff1a\u200b\u8981\u200b\u6267\u884c\u200b\u7684\u200blinux\u200b\u547d\u4ee4\u200b</li> <li><code>chdir</code>: \u200b\u6267\u884c\u200b\u6307\u4ee4\u200b\u4e4b\u524d\u200b\uff0c\u200b\u5148\u200b\u5207\u6362\u200b\u5230\u200b\u6307\u5b9a\u200b\u7684\u200b\u76ee\u5f55\u200b\uff0craw\u200b\u6ca1\u6709\u200b</li> <li><code>remotes</code>: \u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u5f53\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u547d\u4ee4\u200b\u4e0d\u200b\u6267\u884c\u200b\uff0craw\u200b\u6ca1\u6709\u200b</li> <li><code>executale</code>: \u200b\u5207\u6362\u200bshell\u200b\u6765\u200b\u6267\u884c\u200b\u6307\u4ee4\u200b\uff0c\u200b\u8be5\u200b\u6267\u884c\u200b\u8def\u5f84\u200b\u5fc5\u987b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7edd\u5bf9\u8def\u5f84\u200b\uff0c</li> </ul> <pre><code>ansible webservers -m command -a 'chdir=/tmp touch test.file'\nansible webservers -m shell -a 'chdir=/tmp touch test1.file'\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u4f1a\u200b\u6267\u884c\u200b\u5931\u8d25\u200b\uff1a <pre><code>ansible webservers -m raw -a 'chdir=/tmp touch test2.file'\n192.168.56.105 | CHANGED | rc=0 &gt;&gt;\nShared connection to 192.168.56.105 closed.\n</code></pre></p> <p><code>creates</code>\u200b\u548c\u200b<code>removes</code>\u200b\u7684\u200b\u533a\u522b\u200b\uff1a <pre><code>(ansible-env) [root@localhost ~]# ansible webservers -m command -a 'creates=/tmp/test.file uptime'\n192.168.56.105 | SUCCESS | rc=0 &gt;&gt;\nskipped, since /tmp/test.file existsDid not run command since '/tmp/test.file' exists\n(ansible-env) [root@localhost ~]# ansible webservers -m command -a 'removes=/tmp/test.file uptime'\n192.168.56.105 | CHANGED | rc=0 &gt;&gt;\n 14:58:12 up  5:10,  0 users,  load average: 0.00, 0.01, 0.05\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#script","title":"script","text":"<pre><code>ansible all -m script -a '/tmp/script.sh'\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#file","title":"file","text":"<p>file \u200b\u6a21\u5757\u200b\u9009\u9879\u200b\uff1a - force: \u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5f3a\u5236\u200b\u521b\u5efa\u200b\u8f6f\u200b\u8fde\u63a5\u200b\uff1a     - \u200b\u6e90\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u4f46\u200b\u4e4b\u540e\u200b\u4f1a\u200b\u5efa\u7acb\u200b     - \u200b\u94fe\u63a5\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u53d6\u6d88\u200b\uff0c\u200b\u7136\u540e\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b     - \u200b\u9009\u9879\u200b: yes|no</p> <ul> <li>group\uff1a \u200b\u5b9a\u4e49\u200b\u6587\u4ef6\u200b\u5c5e\u7ec4\u200b</li> <li>mode\uff1a\u200b\u5b9a\u4e49\u200b\u6587\u4ef6\u200b\u7684\u200b\u6743\u9650\u200b</li> <li>owner\uff1a\u200b\u5b9a\u4e49\u200b\u6587\u4ef6\u200b\u7684\u200b\u5c5e\u4e3b\u200b</li> <li>path\uff1a\u200b\u5fc5\u200b\u9009\u9879\u200b\uff0c\u200b\u5b9a\u4e49\u200b\u6587\u4ef6\u200b/\u200b\u76ee\u5f55\u200b\u6240\u200b\u521b\u5efa\u200b\u7684\u200b\u8def\u5f84\u200b</li> <li>src\uff1a\u200b\u8981\u200b\u88ab\u200b\u521b\u5efa\u200b\u8f6f\u200b\u8fde\u63a5\u200b\u6e90\u6587\u4ef6\u200b\u8def\u5f84\u200b\uff0c\u200b\u53ea\u200b\u5e94\u7528\u200b\u4e8e\u200b<code>state=link</code>\u200b\u7684\u200b\u60c5\u51b5\u200b</li> <li>dest\uff1a\u200b\u88ab\u200b\u94fe\u63a5\u200b\u5230\u200b\u7684\u200b\u8def\u5f84\u200b\uff0c\u200b\u53ea\u200b\u5e94\u7528\u200b\u4e8e\u200b<code>state=link</code>\u200b\u7684\u200b\u60c5\u51b5\u200b</li> <li>state:<ul> <li>directory\uff1a\u200b\u76ee\u5f55\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u521b\u5efa\u200b\u76ee\u5f55\u200b</li> <li>file\uff1a\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u521b\u5efa\u200b</li> <li>link\uff1a\u200b\u521b\u5efa\u200b\u8f6f\u200b\u8fde\u63a5\u200b</li> <li>hard\uff1a\u200b\u521b\u5efa\u200b\u786c\u200b\u94fe\u63a5\u200b</li> <li>touch\uff1a\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u6216\u200b\u76ee\u5f55\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u66f4\u65b0\u200b\u5176\u200b\u6700\u540e\u200b\u7684\u200b\u4fee\u6539\u200b\u65f6\u95f4\u200b</li> <li>absent\uff1a\u200b\u5220\u9664\u200b\u76ee\u5f55\u200b\uff0c\u200b\u6587\u4ef6\u200b\u6216\u200b\u53d6\u6d88\u200b\u94fe\u63a5\u200b</li> </ul> </li> </ul> <p>\u200b\u793a\u4f8b\u200b\uff1a <pre><code># \u200b\u6587\u4ef6\u200b\u6ca1\u200b\u5b58\u5728\u200b\u5219\u200b\u521b\u5efa\u200b\uff0c\u200b\u786e\u4fdd\u200b\u6587\u4ef6\u200b\u5b58\u5728\u200b\nansible all -m file -a 'path=/tmp/test.txt state=touch owner=root group=root mode=644'\n# \u200b\u521b\u5efa\u200b\u8f6f\u200b\u8fde\u63a5\u200b\nansible all -m file -a 'path=/tmp/test.txt dest=/tmp/test.txt.link state=link'\n# \u200b\u6587\u4ef6\u200b\u5982\u679c\u200b\u6ca1\u200b\u5b58\u5728\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u200b\u521b\u5efa\u200b\nansible all -m file -a 'path=/tmp/test.txt state=file'\n# \u200b\u76ee\u5f55\u200b\u6ca1\u200b\u5b58\u5728\u200b\u521b\u5efa\u200b\u76ee\u5f55\u200b\nansible all -m file -a 'path=/tmp/test_dir state=directory'\n# \u200b\u9012\u5f52\u200b\u521b\u5efa\u200b\u76ee\u5f55\u200b\nansible all -m file -a 'path=/tmp/test_dir/dir1/dir2/dir3 state=directory'\n# \u200b\u5220\u9664\u200b\u6587\u4ef6\u200b\nansible all -m file -a 'path=/tmp/test_dir state=absent'\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#copy","title":"copy","text":"<p>copy\u200b\u6a21\u5757\u200b\u7684\u200b\u9009\u9879\u200b\uff1a - backup\uff1a\u200b\u518d\u200b\u8986\u76d6\u200b\u4e4b\u524d\u200b\u5c06\u200b\u6587\u4ef6\u200b\u5907\u4efd\u200b - content\uff1a\u200b\u7528\u4e8e\u200b\u4ee3\u66ff\u200b\u201csrc\u201d\uff0c\u200b\u76f4\u63a5\u200b\u6307\u5b9a\u200b\u5b57\u7b26\u200b\u5411\u200b\u6587\u4ef6\u200b\u5199\u5165\u200b\u5185\u5bb9\u200b - dest\uff1a\u200b\u5fc5\u200b\u9009\u9879\u200b\uff0c\u200b\u590d\u5236\u5230\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u7684\u200b\u76ee\u6807\u76ee\u5f55\u200b - force\uff1a\u200b\u5982\u679c\u200b\u76ee\u6807\u200b\u4e3b\u673a\u200b\u5305\u542b\u200b\u8be5\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4f46\u200b\u5185\u5bb9\u200b\u4e0d\u540c\u200b\uff0c\u200b\u4e3a\u200byes\uff0c\u200b\u5219\u200b\u5f3a\u5236\u200b\u8986\u76d6\u200b\u3002\u200b\u5219\u200b\u76ee\u6807\u200b\u4e3b\u673a\u200b\u6ca1\u6709\u200b\u8be5\u200b\u6587\u4ef6\u200b\uff0c\u200b\u624d\u200b\u590d\u5236\u200b\uff0c\u200b\u4e3a\u200bno\u3002\u200b\u9ed8\u8ba4\u200b\u4e3a\u200byes - other\uff1a\u200b\u6240\u6709\u200bfile\u200b\u6a21\u5757\u200b\u91cc\u200b\u7684\u200b\u76f8\u5173\u200b\u6587\u4ef6\u5c5e\u6027\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8fd9\u7528\u200b - src\uff1a\u200b\u672c\u5730\u200b\u76ee\u6807\u200b\u6587\u4ef6\u200b/\u200b\u76ee\u5f55\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u7edd\u5bf9\u200b\u76f8\u5bf9\u200b\u3002\u200b\u590d\u5236\u200b\u76ee\u5f55\u200b\u65f6\u200b\u672c\u5730\u200b\u76ee\u5f55\u200b\u540e\u5e26\u200b\u201d/\u201c\u200b\u662f\u200b\u590d\u5236\u200b\u672c\u5730\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u5230\u200b\u76ee\u6807\u76ee\u5f55\u200b\u3002 <pre><code># \u200b\u590d\u5236\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5982\u679c\u200b\u6587\u4ef6\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u4e14\u200b\u6ca1\u6709\u200b\u6539\u52a8\u200b\uff0c\u200b\u5219\u200b\u4e0d\u4f1a\u200b\u590d\u5236\u200b\nansible all -m copy -a 'src=.ansible.cfg dest=/tmp/ owner=ansible group=ansible mode=755'\n# \u200b\u5982\u679c\u200b\u590d\u5236\u200b\u7684\u200b\u6587\u4ef6\u200b\u5df2\u200b\u5b58\u5728\u200b\u4e14\u200b\u6ca1\u6709\u200b\u6539\u52a8\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c06\u200b\u4e0d\u4f1a\u200b\u590d\u5236\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u5907\u4efd\u200b\u4e86\u200b\uff0c\u200b\u9664\u975e\u200b\u6587\u4ef6\u200b\u5df2\u7ecf\u200b\u6539\u53d8\u200b\nansible all -m copy -a 'backup=yes src=.ansible.cfg dest=/tmp/'\n# \u200b\u6587\u4ef6\u200b\u5b58\u5728\u200b\u5219\u200b\u8986\u76d6\u200b\u5199\u5165\u200b\uff0c\u200b\u6587\u4ef6\u200b\u6ca1\u6709\u200b\u5b58\u5728\u200b\u521b\u5efa\u200b\u5e76\u200b\u5199\u5165\u200b\nansible all -m copy -a 'content=\"just a test!\" dest=/tmp/test.txt'\n# \u200b\u590d\u5236\u200b\u6574\u4e2a\u200b\u76ee\u5f55\u200b\u5230\u200b\u76ee\u6807\u200b\u4e3b\u673a\u200b\nansible all -m copy -a 'src=/tmp/test_dir dest=/tmp'\n# \u200b\u590d\u5236\u200b\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200b\u6240\u6709\u200b\u6587\u4ef6\u200b\u5230\u200b\u76ee\u6807\u200b\u4e3b\u673a\u200b\nansible all -m copy -a 'src=/tmp/test_dir/ test=/tmp'\n# \u200b\u590d\u5236\u200b\u4e4b\u524d\u200b\u5148\u200b\u9a8c\u8bc1\u200b\uff1f\nansible 192.168.8.120 -m copy -a \"src=/mine/sudoers dest=/etc/sudoers validate='visudo -cf %s'\"\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#yum","title":"yum","text":"<p>yum\u200b\u6a21\u5757\u200b\u9009\u9879\u200b\uff1a - name\uff1a\u200b\u5b89\u88c5\u200b\u8f6f\u4ef6\u5305\u200b\u540d\u79f0\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f20\u9012\u200burl\u200b\u6216\u8005\u200b\u672c\u5730\u200b\u7684\u200brpm\u200b\u5305\u200b\u8def\u5f84\u200b - state\uff1a\u200b\u72b6\u6001\u200b\uff08present\uff0cabsent\uff0clatest\uff09 <pre><code># \u200b\u5347\u7ea7\u200b\nansible all -m yum -a 'name=httpd state=latest'\n# \u200b\u5b89\u88c5\u200b\nansible all -m yum -a 'name=httpd state=precent'\n# \u200b\u5b89\u88c5\u200b\nansible test -m yum -a 'name=http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm state=present'\n# \u200b\u5378\u8f7d\u200b\nansible all -m yum -a 'name=httpd state=absent'\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#service","title":"service","text":"<p>service\u200b\u6a21\u5757\u200b\u9009\u9879\u200b\uff1a - argument\uff1a\u200b\u7ed9\u200b\u547d\u4ee4\u884c\u200b\u63d0\u4f9b\u200b\u9009\u9879\u200b - enable\uff1a\u200b\u662f\u5426\u200b\u5f00\u673a\u200b\u542f\u52a8\u200b yes|no - name\uff1a\u200b\u5fc5\u200b\u9009\u9879\u200b\uff0c\u200b\u670d\u52a1\u200b\u540d\u79f0\u200b - pattern\uff1a\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5982\u679c\u200b\u901a\u8fc7\u200bstatus\u200b\u6307\u4ee4\u200b\u72b6\u6001\u200b\u65f6\u200b\uff0c\u200b\u6ca1\u6709\u54cd\u5e94\u200b\uff0c\u200b\u5c31\u200b\u901a\u8fc7\u200bps\u200b\u6307\u4ee4\u200b\u5728\u200b\u8fdb\u7a0b\u200b\u4e2d\u200b\u6839\u636e\u200b\u8be5\u200b\u6a21\u5f0f\u200b\u8fdb\u884c\u200b\u67e5\u627e\u200b\uff0c\u200b\u5982\u679c\u200b\u5339\u914d\u200b\u5230\u200b\uff0c\u200b\u5219\u200b\u8ba4\u4e3a\u200b\u8be5\u200b\u670d\u52a1\u200b\u4ecd\u200b\u5728\u200b\u8fd0\u884c\u200b - runlevel\uff1a\u200b\u8fd0\u884c\u200b\u7ea7\u522b\u200b - sleep\uff1a\u200b\u5982\u679c\u200b\u6267\u884c\u200b\u4e86\u200brestarted\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5728\u200bstop\u200b\u548c\u200bstart\u200b\u4e4b\u95f4\u200bsleep\u200b\u51e0\u79d2\u200b - state\uff1a\u200b\u5bf9\u200b\u8fdb\u7a0b\u200b\u7684\u200b\u64cd\u4f5c\u200b\uff0cstarted\uff0cstopped\uff0crestarted\uff0creloaded - daemon_reload\uff1a\u200b\u9488\u5bf9\u200bsystemd\u200b\u7684\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u91cd\u8f7d\u200bsystemd\u200b\u914d\u7f6e\u200b\uff0cyes|no <pre><code>ansible all -m service -a 'name=httpd state=started enable=yes'\nansible all -m service -a 'name=network state=restarted args=eth0'\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#yum_1","title":"yum","text":"<p>yum\u200b\u6a21\u5757\u200b\u9009\u9879\u200b\uff1a - backup\uff1a\u200b\u5bf9\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u539f\u5148\u200b\u7684\u200bcron\u200b\u4fee\u6539\u200b\u4e4b\u524d\u200b\u505a\u200b\u5907\u4efd\u200b - cron_file: \u200b\u7528\u8be5\u200b\u6587\u4ef6\u200b\u66ff\u6362\u200b\u76ee\u6807\u200b\u4e3b\u673a\u200b\u7684\u200bcron\u200b\u5217\u8868\u200b - day\uff1a\u200b\u65e5\u200b\uff081-31\uff09 - hour\uff1a\u200b\u5c0f\u65f6\u200b\uff080-23\uff09 - minute\uff1a\u200b\u5206\u949f\u200b\uff080-59\uff09 - month: \u200b\u6708\u200b(1-12) - weekday\uff1a\u200b\u5468\u200b\uff080-7, *) - job\uff1a\u200b\u8981\u200b\u6267\u884c\u200b\u7684\u200b\u4efb\u52a1\u200b\uff0c\u200b\u4f9d\u8d56\u4e8e\u200b<code>state=precent</code> - name\uff1a\u200b\u5bf9\u200b\u4efb\u52a1\u200b\u7684\u200b\u63cf\u8ff0\u200b - special_time\uff1a\u200b\u6307\u5b9a\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u8fd0\u884c\u200b\uff0c\u200b\u53c2\u6570\u200b\uff1areboot/yearly/annually/monthly/weekly/daily/hourly - state\uff1a\u200b\u521b\u5efa\u200b\u8fd8\u662f\u200b\u5220\u9664\u200b\u4efb\u52a1\u200b - user\uff1a\u200b\u4ee5\u200b\u54ea\u4e2a\u200b\u7528\u6237\u200b\u8eab\u4efd\u200b\u6267\u884c\u200b</p> <pre><code># \u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u91cd\u542f\u200b\u65f6\u5019\u200b\u6267\u884c\u200b\u7684\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\nansible all -m cron -a 'name=\"a job for reboot\" special_time=reboot job=\"/home/ansible/hello-world.sh\"'\n# \u200b\u5220\u9664\u200b\u4e0a\u9762\u200b\u7684\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\nansible all -m cron -a 'name=\"a job for reboot\" special_time=reboot state=absent'\n# \u200b\u6bcf\u4e2a\u200b\u661f\u671f\u4e8c\u200b\u7684\u200b12\u200b\u70b9\u200b\u6267\u884c\u200byum autoupdate\nansible all -m cron -a 'name=\"yum autoupdate\" weekday=\"2\" minute=0 hour=12 user=root'\nansible all -m cron -a 'backup=True name=test minute=0 hour=\"5,2\" job=\"ls -alsh &gt;/dev/null\"'\nansible all -m cron -a 'cron_file=ansible_yum_autoupdate state=absent'\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#user-group","title":"user &amp; group","text":"<p>user\u200b\u6a21\u5757\u200b\u8c03\u7528\u200b\u7684\u200b\u662f\u200b<code>useradd</code>\u3001<code>userdel</code>\u3001<code>usermod</code>\u200b\u547d\u4ee4\u200b\uff0cgroup\u200b\u6a21\u5757\u200b\u8c03\u7528\u200b\u7684\u200b\u662f\u200b<code>gropadd</code>\u3001<code>groupdel</code>\u3001<code>groupmod</code>\u200b\u547d\u4ee4\u200b</p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#user","title":"user","text":"<pre><code># \u200b\u521b\u5efa\u200b\u6309\u200b\u4e00\u4e2a\u200b\u7528\u6237\u200b\uff0c\u200b\u5e76\u200b\u76f4\u63a5\u200b\u6dfb\u52a0\u200b\u5230\u200broot\u200b\u7ec4\u200b\u91cc\u9762\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6307\u5b9a\u200bUID\nansible all -m user -a 'name=\"yanghe\" comment=\"yanghe user\" uid=1002 group=root'\n# \u200b\u5220\u9664\u200b\u4e0a\u9762\u200b\u521b\u5efa\u200b\u7684\u200b\u7528\u6237\u200b\nansible all -m user -a 'name=\"yanghe\" remove=yes state=absent'\n# \u200b\u751f\u6210\u200b\u516c\u94a5\u200b\u548c\u200b\u79c1\u94a5\u200b\u6587\u4ef6\u200b\nansible all -m user -a 'generate_ssh_key=yes ssh_key_bits=2048 ssh_key_file=.ssh/id_rsa'\n</code></pre> <p>\u200b\u6307\u5b9a\u200b<code>password</code>\u200b\u7684\u200b\u9009\u9879\u200b\u65f6\u5019\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\u660e\u6587\u200b\u5bc6\u7801\u200b\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u8fdb\u884c\u200b\u52a0\u5bc6\u200b\uff0c\u200b\u7136\u540e\u200b\u628a\u200b\u52a0\u5bc6\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u653e\u5230\u200b<code>password</code>\u200b\u53c2\u6570\u200b\u3002 <pre><code>echo \"123456\" | openssl passwd -1 -salt $(&lt; /dev/urandom tr -dc '[:alnum:]' | head -c 32) -stdin\n\n# \u200b\u7528\u200b\u4e0a\u9762\u200b\u7684\u200b\u52a0\u5bc6\u200b\u5b57\u7b26\u200b\u6765\u200b\u521b\u5efa\u200b\u7528\u6237\u200b\nansible all -m user -a 'name=foo password=\"afadfafa\"'\n</code></pre></p> <p>\u200b\u4e0d\u540c\u200b\u7684\u200b\u53d1\u884c\u7248\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u7684\u200b\u52a0\u5bc6\u200b\u65b9\u5f0f\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u6709\u200b\u533a\u522b\u200b\uff0c\u200b\u5177\u4f53\u200b\u53ef\u4ee5\u200b\u67e5\u770b\u200b/etc/login.defs\u200b\u6587\u4ef6\u200b\u786e\u8ba4\u200b\uff0ccentos 6.5\u200b\u7248\u672c\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200bSHA512\u200b\u52a0\u5bc6\u7b97\u6cd5\u200b</p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#group","title":"group","text":"<pre><code>group\uff1a name=somegroup state=precent\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#synchronize","title":"synchronize","text":"<p>sysnc\u200b\u540c\u6b65\u200b\u6a21\u5757\u200b</p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#filesystem","title":"filesystem\u200b\u6a21\u5757","text":"<p>\u200b\u5728\u200b\u5757\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u521b\u5efa\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\uff0c\u200b\u9009\u9879\u200b\uff1a - dev\uff1a\u200b\u76ee\u6807\u200b\u5757\u200b\u8bbe\u5907\u200b - force\uff1a\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5df2\u6709\u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u7684\u200b\u8bbe\u5907\u200b\u4e0a\u200b\u5f3a\u5236\u200b\u521b\u5efa\u200b - fstype: \u200b\u6587\u4ef6\u7cfb\u7edf\u200b\u7684\u200b\u7c7b\u578b\u200b - opts\uff1a\u200b\u4f20\u9012\u200b\u7ed9\u200bmkfs\u200b\u547d\u4ee4\u200b\u7684\u200b\u9009\u9879\u200b</p> <pre><code>ansible all -m filesystem -a 'fstype=ext2 dev=/dev/sdb1 force=yes'\nansible all -m filesystem -a 'fstype=ext4 dev=/dev/sdb1 opts=\"-cc\"'\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#mount","title":"mount \u200b\u6a21\u5757","text":"<p>\u200b\u6302\u8f7d\u200b\u8bbe\u5907\u200b\u6a21\u5757\u200b\uff0c\u200b\u76f8\u5173\u200b\u9009\u9879\u200b\uff1a - dump - fstype: \u200b\u5fc5\u200b\u9009\u9879\u200b\uff0c\u200b\u6302\u8f7d\u200b\u6587\u4ef6\u200b\u7684\u200b\u7c7b\u578b\u200b - name\uff1a\u200b\u5fc5\u200b\u9009\u9879\u200b\uff0c\u200b\u6302\u8f7d\u200b\u70b9\u200b - opts\uff1a\u200b\u4f20\u9012\u200b\u7ed9\u200bmount\u200b\u547d\u4ee4\u200b\u7684\u200b\u53c2\u6570\u200b - src\uff1a\u200b\u5fc5\u200b\u9009\u9879\u200b\uff0c\u200b\u8981\u200b\u6302\u8f7d\u200b\u7684\u200b\u6587\u4ef6\u200b - state\uff1a\u200b\u5fc5\u200b\u9009\u9879\u200b     - present\uff1a\u200b\u53ea\u200b\u5904\u7406\u200bfstab\u200b\u4e2d\u200b\u7684\u200b\u914d\u7f6e\u200b     - absent: \u200b\u5220\u9664\u200b\u6302\u8f7d\u200b\u70b9\u200b     - mounted\uff1a\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u6302\u8f7d\u200b\u70b9\u200b\u8fdb\u884c\u200b\u6302\u8f7d\u200b     - umounted\uff1a\u200b\u5378\u8f7d\u200b <pre><code>name=/mnt/dvd src=/dev/sr0 fstype=iso9660 opts=ro state=present\nname=/srv/disk src='LABEL=SOME_LABEL' state=present\nname=/home src='UUID=b3e48f45-f933-4c8e-a700-22a159ec9077' opts=noatime state=present\n\nansible test -a 'dd if=/dev/zero of=/disk.img bs=4k count=1024'\nansible test -a 'losetup /dev/loop0 /disk.img'\nansible test -m filesystem 'fstype=ext4 force=yes opts=-F dev=/dev/loop0'\nansible test -m mount 'name=/mnt src=/dev/loop0 fstype=ext4 state=mounted opts=rw'\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#get_url","title":"get_url","text":"<p>\u200b\u8be5\u200b\u6a21\u5757\u200b\u4e3b\u8981\u200b\u4ece\u200bhttp\u3001ftp\u3001https\u200b\u670d\u52a1\u5668\u200b\u4e0a\u200b\u4e0b\u8f7d\u200b\u6587\u4ef6\u200b\uff0c\u200b\u9009\u9879\u200b\u5982\u4e0b\u200b\uff1a - sha256sum\uff1a\u200b\u4e0b\u8f7d\u200b\u5b8c\u6210\u200b\u540e\u200b\u8fdb\u884c\u200bsha256\u200b\u6821\u9a8c\u200b - timeout\uff1a\u200b\u4e0b\u8f7d\u200b\u8d85\u65f6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b10\u200b\u79d2\u200b - url\uff1a\u200b\u4e0b\u8f7d\u200b\u7684\u200burl - url_password\u3001url_username\uff1a\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u6821\u9a8c\u200b\u7528\u6237\u540d\u200b\u5bc6\u7801\u200b\u6821\u9a8c\u200b - user_proxy\uff1a\u200b\u662f\u5426\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\uff0c\u200b\u4ee3\u7406\u200b\u9700\u8981\u200b\u5728\u200b\u73af\u5883\u200b\u4e2d\u200b\u5b9a\u4e49\u200b</p> <p>\u200b\u793a\u4f8b\u200b\uff1a <pre><code>ansible all -m get_url -a 'url=https://repo.huaweicloud.com/python/3.10.12/Python-3.10.12.tar.xz dest=/home/ansible'\nget_url: url=http://example.com/path/file.conf dest=/etc/foo.conf mode=0440\nget_url: url=http://example.com/path/file.conf dest=/etc/foo.conf sha256sum=b5bb9d8014a0f9b1d61e21e796d78dccdf1352f23cd32812f4850b878ae4944c\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#unarchive","title":"unarchive","text":"<p>\u200b\u7528\u4e8e\u200b\u89e3\u538b\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6a21\u5757\u200b\u9009\u9879\u200b\u5982\u4e0b\u200b\uff1a - copy\uff1a\u200b\u5728\u200b\u89e3\u538b\u200b\u6587\u4ef6\u200b\u4e4b\u524d\u200b\uff0c\u200b\u662f\u5426\u200b\u5148\u200b\u5c06\u200b\u6587\u4ef6\u200b\u590d\u5236\u5230\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\uff0cyes/no\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200byes\uff0c\u200b\u82e5\u200b\u4e3a\u200bno\uff0c\u200b\u5219\u200b\u8981\u6c42\u200b\u76ee\u6807\u200b\u4e3b\u673a\u200b\u5fc5\u987b\u200b\u6709\u200b\u8be5\u200b\u538b\u7f29\u6587\u4ef6\u200b - creates\uff1a\u200b\u6307\u5b9a\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u540d\u200b\uff0c\u200b\u5f53\u8be5\u200b\u6587\u4ef6\u200b\u5b58\u5728\u200b\u65f6\u200b\uff0c\u200b\u5219\u200b\u89e3\u538b\u200b\u6307\u4ee4\u200b\u4e0d\u200b\u6267\u884c\u200b - dest\uff1a\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u4e0a\u200b\u89e3\u538b\u200b\u8def\u5f84\u200b - group\uff1a\u200b\u89e3\u538b\u200b\u5b8c\u540e\u200b\u6587\u4ef6\u76ee\u5f55\u200b\u7684\u200b\u5c5e\u4e3b\u200b - list_files\uff1a\u200b\u82e5\u200b\u4e3a\u200byes\uff0c\u200b\u5219\u200b\u4f1a\u200b\u5217\u51fa\u200b\u538b\u7f29\u5305\u200b\u91cc\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bno - mode\uff1a\u200b\u6307\u5b9a\u200b\u8d4b\u4e88\u200b\u6587\u4ef6\u200b\u6743\u9650\u200b\u7801\u200b - owner\uff1a\u200b\u89e3\u538b\u200b\u540e\u200b\u6587\u4ef6\u200b\u7684\u200b\u76ee\u5f55\u200b\u5c5e\u4e3b\u200b <pre><code># \u200b\u4ece\u200burl\u200b\u4e0b\u8f7d\u200b\u5e76\u200b\u89e3\u538b\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u200bremote_src\u200b\u4e3a\u200byes\u200b\u9009\u9879\u200b\nansible all -m unarchive -a 'src=https://repo.huaweicloud.com/python/3.10.12/Python-3.10.12.tar.xz dest=/home/ansible list_files=yes remote_src=yes'\n# \u200b\u4ece\u200b\u672c\u5730\u200b\u590d\u5236\u5230\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u89e3\u538b\u200b\nansible all -m unarchive -a 'src=foo.tgz dest=/var/lib/foo'\n# \u200b\u4ece\u200b\u8fdc\u7a0b\u200b\u4e3b\u673a\u200b\u89e3\u538b\u200b\u5230\u200b\u6307\u5b9a\u200b\u76ee\u5f55\u200b\nansible all -m unarchive -a 'src=/tmp/foo.zip dest=/usr/local/bin copy=no'\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#debug","title":"debug","text":"<p>\u200b\u7528\u4e8e\u200b\u8c03\u8bd5\u200b\uff0c\u200b\u6a21\u5757\u200b\u9009\u9879\u200b\u5982\u4e0b\u200b\uff1a - msg\uff1a\u200b\u53ef\u4ee5\u200b\u8f93\u51fa\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8f93\u51fa\u200b\u53d8\u91cf\u503c\u200b\uff0c\u200b\u53d8\u91cf\u200b\u8c03\u7528\u200b\u9700\u8981\u200b\u52a0\u200b\u201c\u201d - var\uff1a\u200b\u53ea\u80fd\u200b\u8f93\u51fa\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u53d8\u91cf\u200b\u8c03\u7528\u200b\u4e0d\u7528\u200b\u52a0\u200b\u4efb\u4f55\u200b\u4e1c\u897f\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u53d8\u91cf\u200b\u540d\u79f0\u200b</p> <pre><code>ansible localhost -e 'str=world' -m debug -a 'msg=\"hello {{str}}\"'\n\nansible localhost -e 'str=\"hello world\"' -m debug -a 'var=str'\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#lineinfile","title":"lineinfile","text":"<p>\u200b\u5bf9\u200b\u6587\u4ef6\u200b\u884c\u505a\u200b\u5404\u79cd\u200b\u64cd\u4f5c\u200b</p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_6","title":"\u4fee\u6539\u200b\u5339\u914d\u200b\u884c","text":"<pre><code> ansible all -m lineinfile -a 'path=/etc/selinux/config regex=\"^SELINUX=\" line=\"SELINUX=disabled\"'\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_7","title":"\u5728\u200b\u5339\u914d\u200b\u884c\u524d\u200b&amp;\u200b\u540e\u200b\u6dfb\u52a0\u200b\u5185\u5bb9","text":"<pre><code># \u200b\u5339\u914d\u200b\u524d\u200b\nlineinfile dest=/home/ansible/node-conn-network.sh insertbefore=\"^ansible\" line=\"Test1\"\n# \u200b\u5339\u914d\u200b\u540e\u200b\nlineinfile dest=/home/ansible/node-conn-network.sh insertafter=\"^ansible\" line=\"Test2\"\n</code></pre> <p>result: <pre><code>192.168.56.105 | CHANGED | rc=0 &gt;&gt;\nTest1\nansible all -m shell -a 'dhclient enp0s3'\nTest2\n192.168.56.106 | CHANGED | rc=0 &gt;&gt;\nTest1\nansible all -m shell -a 'dhclient enp0s3'\nTest2\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_8","title":"\u4fee\u6539\u200b\u6587\u4ef6\u200b\u5185\u5bb9\u200b\u53ca\u200b\u6743\u9650","text":"<p><pre><code>lineinfile dest=/home/ansible/hosts regex='^127\\.0\\.0\\.1' line='127.0.0.1 localhost' owner=ansible group=ansible mode=0644\n</code></pre> result: <pre><code>192.168.56.106 | CHANGED | rc=0 &gt;&gt;\n127.0.0.1 localhost\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n192.168.56.105 | CHANGED | rc=0 &gt;&gt;\n127.0.0.1 localhost\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_9","title":"\u5220\u9664\u200b\u884c\u200b\u5185\u5bb9","text":"<p><code>regexp</code>\u200b\u7ed3\u5408\u200b<code>state=absent</code>\uff0c\u200b\u4ee3\u8868\u200b\u5220\u9664\u200b\u884c\u200b\u3002</p> <pre><code>lineinfile dest=/home/ansible/hosts regex='^1\\.1\\.1\\.1' state=absent\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_10","title":"\u6587\u4ef6\u200b\u5b58\u5728\u200b\u5219\u200b\u6dfb\u52a0\u200b\u4e00\u884c","text":"<p>\u200b\u518d\u6b21\u200b\u6267\u884c\u200b\u4e0d\u4f1a\u200b\u518d\u6b21\u200b\u8ffd\u52a0\u200b\u6b64\u884c\u200b\uff0c\u200b\u56e0\u4e3a\u200blineinfile\u200b\u6a21\u5757\u200b\u7684\u200bstate\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\u4e3a\u200bprecent\uff0c\u200b\u4f1a\u200b\u4fdd\u8bc1\u200b\u5e42\u200b\u7b49\u200b\u6027\u200b\uff0c\u200b\u5f53\u8981\u200b\u63d2\u5165\u200b\u7684\u200b\u884c\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u5219\u200b\u4e0d\u4f1a\u200b\u518d\u200b\u63d2\u5165\u200b\u3002 <pre><code>lineinfile dest=/home/ansible/hosts line='1.1.1.1 www.google.com'\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_11","title":"\u6709\u200b\u5339\u914d\u200b\u5219\u200b\u4fee\u6539\u200b\uff0c\u200b\u4e0d\u200b\u5339\u914d\u200b\u5219\u200b\u6dfb\u52a0","text":"<p>\u200b\u7528\u200b\u4ee5\u4e0b\u200b\u6307\u4ee4\u200b\u5c06\u200b\u4ee5\u200b127\u200b\u5f00\u5934\u200b\u7684\u200b\u884c\u200b\u8fdb\u884c\u200b\u6ce8\u91ca\u200b: <pre><code>lineinfile dest=/home/ansible/hosts regex='^127' line='#127.0.0.1 localhost'\n</code></pre></p> <pre><code>ansible@all (2)[f:5]# cat hosts\n192.168.56.105 | CHANGED | rc=0 &gt;&gt;\n#127.0.0.1 localhost\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n127.0.0.1 localhost\n192.168.56.106 | CHANGED | rc=0 &gt;&gt;\n#127.0.0.1 localhost\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n127.0.0.1 localhost\n</code></pre> <p>\u200b\u518d\u200b\u8fdb\u884c\u200b\u6dfb\u52a0\u200b\uff0c\u200b\u5339\u914d\u200b\u672a\u200b\u6210\u529f\u200b\uff0c\u200b\u5c06\u200b\u6307\u5b9a\u200b\u7684\u200b\u884c\u200b\u6dfb\u52a0\u200b\u5230\u200b\u672b\u5c3e\u200b\u3002 <pre><code>lineinfile dest=/home/ansible/hosts regex='^127' line='127.0.0.1 localhost'\n</code></pre></p> <pre><code>ansible@all (2)[f:5]# cat hosts\n192.168.56.105 | CHANGED | rc=0 &gt;&gt;\n#127.0.0.1 localhost\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n127.0.0.1 localhost\n192.168.56.106 | CHANGED | rc=0 &gt;&gt;\n#127.0.0.1 localhost\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n127.0.0.1 localhost\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#backrefsbackups","title":"\u53c2\u6570\u200bbackrefs\uff0cbackups","text":"<ul> <li>backup\uff1a\u200b\u662f\u5426\u200b\u5907\u4efd\u200b\u539f\u6587\u4ef6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u672a\u200bno</li> <li>backrefs\uff1a<ul> <li>no\uff1a\u200b\u5982\u679c\u200bregex\u200b\u6ca1\u6709\u200b\u5339\u914d\u200b\u5230\u200b\uff0c\u200b\u5219\u200b\u6dfb\u52a0\u200b\uff0c\u200b\u5339\u914d\u200b\u5230\u200b\uff0c\u200b\u5219\u200b\u4fee\u6539\u200b\uff08\u200b\u9ed8\u8ba4\u200b\uff09</li> <li>yes\uff1a\u200b\u5982\u679c\u200bregex\u200b\u6ca1\u6709\u200b\u5339\u914d\u200b\u5230\u200b\uff0c\u200b\u4fdd\u6301\u200b\u539f\u6587\u4ef6\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u5982\u679c\u200bregex\u200b\u5339\u914d\u200b\u5230\u200b\uff0c\u200b\u5219\u200b\u4fee\u6539\u200b</li> </ul> </li> </ul> <pre><code>lineinfile dest=/home/ansible/hosts regex='^127' line='foo' backrefs=no\n192.168.56.105 | SUCCESS =&gt; {\n    \"backup\": \"\",\n    \"changed\": false,\n    \"msg\": \"\"\n}\n192.168.56.106 | SUCCESS =&gt; {\n    \"backup\": \"\",\n    \"changed\": false,\n    \"msg\": \"\"\n}\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#validate","title":"\u4f7f\u7528\u200bvalidate\u200b\u9a8c\u8bc1\u200b\u6587\u4ef6\u200b\u662f\u5426\u200b\u88ab\u200b\u6b63\u786e\u200b\u4fee\u6539","text":"<p>\u200b\u9a8c\u8bc1\u200b\u6587\u4ef6\u200b\u662f\u5426\u200b\u6b63\u5e38\u200b\u4fee\u6539\u200b\u662f\u200b\u4e3a\u4e86\u200b\u4fdd\u969c\u200b\u670d\u52a1\u200b\u6b63\u5e38\u200b\u8fd0\u884c\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u52a0\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u670d\u52a1\u200b\u5c31\u200b\u4f1a\u200b\u542f\u52a8\u200b\u5931\u8d25\u200b <pre><code>ansible all -m lineinfile -a 'dest=/etc/sudoers line=\"ansible ALL=(ALL) NOPASSWD: ALL\" validate=\"visudo -cf %s\" state=present\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#regexpinsertxxx","title":"regexp\u200b\u548c\u200binsertxxx\u200b\u7ed3\u5408","text":"<p>\u200b\u7528\u200bregexp\u200b\u6765\u200b\u8fdb\u884c\u200b\u5339\u914d\u200b\uff0c\u200b\u5339\u914d\u200b\u5931\u8d25\u200b\u624d\u200b\u8fdb\u884c\u200b\u63d2\u5165\u200b\uff0c\u200b\u5339\u914d\u200b\u6210\u529f\u200b\u4e0d\u200b\u8fdb\u884c\u200b\u63d2\u5165\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5b9e\u73b0\u200b\u5e42\u200b\u7b49\u200b\u6027\u200b <pre><code>lineinfile dest=/home/ansible/hosts regex='^hello' line='hello line' insertbefore=\"foo\"\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#playbook","title":"playbook","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#when","title":"when \u200b\u5173\u952e\u5b57","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_12","title":"\u6bd4\u8f83\u200b\u8fd0\u7b97\u7b26","text":"<ul> <li><code>==</code>: \u200b\u6bd4\u8f83\u200b\u4e24\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b\uff0c\u200b\u76f8\u7b49\u200b\u8fd4\u56de\u200btrue</li> <li><code>!=</code>\uff1a\u200b\u6bd4\u8f83\u200b\u4e24\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u4e0d\u200b\u7b49\u200b\uff0c\u200b\u4e0d\u200b\u7b49\u200b\u8fd4\u56de\u200btrue</li> <li><code>&gt;</code>\uff1a\u200b\u5de6\u8fb9\u200b\u5927\u4e8e\u200b\u53f3\u8fb9\u200b\uff0c\u200b\u5927\u4e8e\u200b\u8fd4\u56de\u200btrue</li> <li><code>&lt;</code> \uff1a\u200b\u5de6\u8fb9\u200b\u5c0f\u4e8e\u200b\u53f3\u8fb9\u200b\uff0c\u200b\u5c0f\u4e8e\u200b\u8fd4\u56de\u200btrue</li> <li><code>&gt;=</code>\uff1a\u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b\u7b26\u53f7\u200b\uff0c\u200b\u8fd4\u56de\u200btrue</li> <li><code>&lt;=</code>\uff1a\u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b\u7b26\u53f7\u200b\uff0c\u200b\u8fd4\u56de\u200btrue</li> </ul> <pre><code>---\n- name: Install vim\n  hosts: all\n  gather_facts: yes\n  tasks:\n    - name: Install vim via yum\n      yum:\n        name: vim-enhanced\n        state: installed\n      when: ansible_os_family == \"RedHat\"\n    - name: Install vim via apt\n      apt:\n        name: vim\n        state: installed\n      when: ansible_os_family == \"Debian\"\n    - name: Unexpect OS family\n      debug: msg=\"OS family {{ ansible_os_family }} is not supported\"\n      when: not ansible_os_family in (\"RedHat\", \"Debian\")\n</code></pre> <pre><code>- name: restart httpd is postfix is running\n  hosts: all\n  gather_facts: no\n  tasks:\n    - name: get postfix server status\n      command: /usr/bin/systemctl is-active postfix\n      ignore_errors: yes\n      register: result\n    - name: restart apache httpd based on postfix status\n      service:\n        name: httpd\n        state: restarted\n      when: result.rc == 0\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_13","title":"\u903b\u8f91\u200b\u8fd0\u7b97\u7b26","text":"<ul> <li><code>and</code>\uff1a\u200b\u903b\u8f91\u200b\u4e0e\u200b</li> <li><code>or</code>\uff1a\u200b\u903b\u8f91\u200b\u6216\u200b</li> <li><code>not</code>\uff1a\u200b\u903b\u8f91\u200b\u6216\u200b</li> <li><code>()</code>\uff1a\u200b\u591a\u4e2a\u200b\u8868\u8fbe\u5f0f\u200b\u7ec4\u5408\u200b\u5728\u200b\u4e00\u8d77\u200b <pre><code># \u200b\u7ec4\u5408\u200b\nwhen: =&gt;\n  ( ansible_distribution == \"RedHat\" and ansible_distribution_major_version == \"7\" )\n  or\n  ( ansible_distribution == \"Fedora\" and ansible_distribution_major_version == \"28\")\n</code></pre></li> </ul>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#tests","title":"\u6761\u4ef6\u200b\u5224\u65ad\u200b\u4e0e\u200btests","text":"<p>\u200b\u5728\u200bshell\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200btest\u200b\u547d\u4ee4\u200b\u8fdb\u884c\u200b\u4e00\u4e9b\u200b\u5e38\u7528\u200b\u7684\u200b\u5224\u65ad\u200b\u64cd\u4f5c\u200b\uff1a <pre><code>test -e /test\ntest -d /testdir\n</code></pre></p> <p>ansible\u200b\u4e5f\u200b\u6709\u200b\u7c7b\u4f3c\u200b\u7684\u200b\u8bed\u6cd5\u200b\uff0cansible\u200b\u6ca1\u6709\u200blinux test\u200b\u547d\u4ee4\u200b\uff0c\u200b\u7528\u200b\u7684\u200b\u662f\u200bjinja2\u200b\u6a21\u677f\u200b\u7684\u200btests</p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_14","title":"\u5224\u65ad\u200b\u53d8\u91cf","text":"<ul> <li><code>defined</code>\uff1a\u200b\u5224\u65ad\u200b\u53d8\u91cf\u200b\u662f\u5426\u200b\u5df2\u7ecf\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u8fd4\u56de\u200btrue</li> <li><code>undefined</code>\uff1a\u200b\u5224\u65ad\u200b\u53d8\u91cf\u200b\u662f\u5426\u200b\u672a\u5b9a\u4e49\u200b\uff0c\u200b\u8fd4\u56de\u200btrue</li> <li><code>none</code>\uff1a\u200b\u5224\u65ad\u200b\u53d8\u91cf\u200b\u7684\u200b\u503c\u200b\u662f\u5426\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u8fd4\u56de\u200btrue</li> </ul> <pre><code>- name: \u200b\u5224\u65ad\u200b\u53d8\u91cf\u200b\n  hosts: localhost\n  gather_facts: no\n  vars:\n    testvar: \"\"\n    testvar1:\n  tasks:\n    - debug:\n        msg: \"testvar is defined\" \n      when: testdir is defined\n    - debug:\n        msg: \"testvar2 is undefined\"\n      when: testvar2 is undefined\n    - debug:\n        msg: \"testvar1 is none\"\n      when: testvar1 is none\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_15","title":"\u5224\u65ad\u200b\u6267\u884c\u200b\u7ed3\u679c","text":"<p>\u200b\u901a\u8fc7\u200b\u4efb\u52a1\u200b\u8fd4\u56de\u200b\u7684\u200b\u7ed3\u679c\u200b\u4fe1\u606f\u200b\u6765\u200b\u5224\u65ad\u200b\u8be5\u200b\u4efb\u52a1\u200b\u7684\u200b\u6267\u884c\u200b\u72b6\u6001\u200b - <code>success</code> <code>successed</code>\uff1a\u200b\u4efb\u52a1\u200b\u6267\u884c\u200b\u6210\u529f\u200b - <code>failure</code> <code>failed</code>\uff1a \u200b\u4efb\u52a1\u200b\u6267\u884c\u200b\u5931\u8d25\u200b - <code>change</code> <code>changed</code>\uff1a\u200b\u4efb\u52a1\u200b\u6267\u884c\u200bchagne\u200b\u72b6\u6001\u200b - <code>skip</code> <code>skipped</code>\uff1a\u200b\u4efb\u52a1\u200b\u88ab\u200b\u8df3\u200b\u8fc7\u200b <pre><code>- name: \u200b\u5224\u65ad\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\n  hosts: localhost\n  gather_facts: no\n  vars:\n    doshell: true\n  tasks:\n    - shell: 'cat /testdir/aaa'\n      when: doshell\n      register: result\n      ignore_errors: true\n\n    - debug:\n        msg: \"success\"\n      when: result is success\n\n    - debug:\n        msg: \"failed\"\n      when: result is failure\n\n    - debug:\n        msg: \"changed\"\n      when: result is change\n\n    - debug:\n        msg: \"skip\"\n      when: result is skip\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_16","title":"\u5224\u65ad\u200b\u4e3b\u63a7\u200b\u7aef\u200b\u8def\u5f84","text":"<ul> <li><code>file</code>\uff1a\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b\u6587\u4ef6\u200b</li> <li><code>directory</code>\uff1a\u200b\u5224\u65ad\u200b\u8def\u5f84\u200b\u662f\u5426\u200b\u4e3a\u200b\u76ee\u5f55\u200b</li> <li><code>link</code>\uff1a\u200b\u5224\u65ad\u200b\u8def\u5f84\u200b\u662f\u5426\u200b\u4e3a\u200b\u6302\u8f7d\u200b\u70b9\u200b</li> <li><code>exists</code>\uff1a\u200b\u5224\u65ad\u200b\u8def\u5f84\u200b\u662f\u5426\u200b\u5b58\u5728\u200b</li> </ul> <pre><code>- name: \u200b\u5224\u65ad\u200b\u4e3b\u63a7\u200b\u7aef\u200b\u8def\u5f84\u200b\n  hosts: localhost\n  gather_facts: no\n  vars:\n    testpath1: /root/ansible_data/play_books/loop.yml\n    testpath2: /tmp/facts_cache\n  tasks:\n    - debug:\n        msg: \"{{ testpath1 }} is file\"\n      when: testpath1 is file\n    - debug:\n        msg: \"{{ testpath2 }} is directory\"\n      when: testpath2 is directory\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_17","title":"\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u5927\u5c0f\u5199","text":"<ul> <li><code>lower</code>\uff1a \u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u90fd\u200b\u662f\u200b\u5c0f\u5199\u200b</li> <li><code>upper</code>\uff1a\u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u662f\u5426\u200b\u90fd\u200b\u662f\u200b\u5927\u5199\u200b</li> </ul> <pre><code>- name: \u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u5927\u5c0f\u5199\u200b\n  hosts: localhost\n  gather_facts: no\n  vars:\n    str1: \"abc\"\n    str2: \"ABC\"\n  tasks:\n    - debug:\n        msg: \"str1 is all lowercase\"\n      when: str1 is lower\n    - debug:\n        msg: \"str2 is all uppercase\"\n      when: str2 is upper\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_18","title":"\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b\u5076\u6570\u200b\u5947\u6570\u200b\uff0c\u200b\u80fd\u5426\u200b\u6574\u9664","text":"<ul> <li><code>even</code>: \u200b\u5224\u65ad\u200b\u6570\u503c\u200b\u662f\u5426\u200b\u4e3a\u200b\u5076\u6570\u200b</li> <li><code>odd</code>\uff1a\u200b\u5224\u65ad\u200b\u6570\u503c\u200b\u662f\u5426\u200b\u4e3a\u200b\u5947\u6570\u200b</li> <li><code>divisibleby(num)</code>\uff1a\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u6574\u9664\u200b\u6307\u5b9a\u200b\u7684\u200b\u6570\u503c\u200b</li> </ul> <pre><code>- name: \u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b\u5076\u6570\u200b\u5947\u6570\u200b\uff0c\u200b\u80fd\u5426\u200b\u6574\u9664\u200b\n  hosts: localhost\n  gather_facts: no\n  vars:\n    num1: 6\n    num2: 3\n    num3: 15\n  tasks:\n    - debug:\n        msg: \"num1 is an even number\"\n      when: num1 is even\n    - debug:\n        msg: \"num2 is an odd number\"\n      when: num2 is odd\n    - debug:\n        msg: \"num3 can be divided exactly by\"\n      when: num3 is divisibleby(3)  \n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#version","title":"\u6bd4\u8f83\u200bversion","text":"<pre><code>- name: \u200b\u6bd4\u8f83\u200bversion\n  hosts: localhost\n  gather_facts: no\n  vars:\n    ver1: 1.2\n    ver2: 1.3\n  tasks:\n    - debug: \n        msg: \"{{ ver1 }} is greater than {{ ver2 }}\"\n      when: ver1 is version(ver2,\"&gt;\")\n    - debug:\n        msg: \"system version {{ ansible_distribution_version }} greater then 7.1\"\n      when: ansible_distribution_version is version(\"7.1\",\"gt\")\n</code></pre> <p>version\u200b\u53ef\u200b\u4f7f\u7528\u200b\u7684\u200b\u6bd4\u8f83\u200b\u8fd0\u7b97\u7b26\u200b\uff1a - \u200b\u5927\u4e8e\u200b\uff1a &gt; , gt - \u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b\uff1a&gt;=\uff0cge - \u200b\u5c0f\u4e8e\u200b\uff1a&lt;, lt - \u200b\u5c0f\u4e8e\u200b\u7b49\u4e8e\u200b\uff1a&lt;=, le - \u200b\u7b49\u4e8e\u200b\uff1a=\uff0c\\=\\=, eq - \u200b\u4e0d\u200b\u7b49\u4e8e\u200b\uff1a!=\uff0c&lt;&gt;, ne</p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_19","title":"\u5224\u65ad\u200b\u7236\u5b50\u200b\u96c6","text":"<pre><code>- name:\u200b\u5224\u65ad\u200b\u7236\u5b50\u200b\u96c6\u200b\n  hosts: localhost\n  gather_facts: no\n  vars:\n    a:\n      - 2\n      - 5\n    b: [1,2,3,4,5]\n  tasks:\n    - debug:\n        msg: \"A is a subset of B\"\n      when: a is subset(b)\n    - debug:\n        msg: \"B is a parent set of A\"\n      when: b is superset(a)\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_20","title":"\u5224\u65ad\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b\u5bf9\u8c61\u200b\u4e2d","text":"<pre><code>- name: \u200b\u5224\u65ad\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u5728\u200b\u6307\u5b9a\u200b\u7684\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\n  hosts: localhost\n  gather_facts: no\n  vars:\n    supported_distros:\n      - RedHat\n      - CentOS\n    tasks:\n      - debug:\n          msg: \"{{ ansible_distribution }} is supported_distros\"\n        when: ansible_distribution in supported_distros\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_21","title":"\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u548c\u200b\u6570\u5b57","text":"<pre><code>- name: \u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u548c\u200b\u6570\u5b57\u200b\n  hosts: localhost\n  gather_facts: no\n    vars:\n      var1: 1\n      var2: \"1\"\n      var3: a\n  tasks:\n    - debug:\n        msg: var1 is a number\n      when: var1 is number\n    - debug:\n        msg: var2 is string\n      when: var2 is string\n    - debug:\n        msg: var3 is string\n      when: var3 is string\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#block","title":"\u6761\u4ef6\u200b\u5224\u65ad\u200b\u4e0e\u200bblock","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#block_1","title":"block","text":"<pre><code>- name: test block\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - debug:\n        msg: task1 not in block\n    - block:\n        - debug:\n            msg: test2 in block1\n            msg: test3 in block1\n      when: 2 &gt; 1\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#rescue","title":"rescue","text":"<p>\u200b\u53ea\u6709\u200b\u4efb\u52a1\u200b\u6267\u884c\u200b\u5931\u8d25\u200b\u624d\u200b\u4f1a\u200b\u6267\u884c\u200b<code>rescue</code>\u200b\u5173\u952e\u5b57\u200b\u7684\u200b\u4efb\u52a1\u200b <pre><code>- name: rescue\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - block:\n        - shell: 'ls /testdir'\n      rescue:\n        - debug:\n            msg: '/testdir not exists'\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#always","title":"always","text":"<p>\u200b\u4e0d\u7ba1\u200b\u4efb\u52a1\u200b\u6267\u884c\u200b\u5931\u8d25\u200b\u8fd8\u662f\u200b\u6210\u529f\u200b\u90fd\u200b\u4f1a\u200b\u6267\u884c\u200b<code>always</code>\u200b\u5173\u952e\u5b57\u200b\u7684\u200b\u4efb\u52a1\u200b <pre><code>- name: always test\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - block:\n        - shell: 'ls /testdir'\n      rescue:\n        - debug:\n            msg: '/testdir is not exists'\n      always:\n        - debug:\n            msg: 'This task always executes'\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#_22","title":"\u6761\u4ef6\u200b\u5224\u65ad\u200b\u4e0e\u200b\u9519\u8bef\u5904\u7406","text":""},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#fail","title":"fail","text":"<p>fail\u200b\u6a21\u5757\u200b\u7528\u4e8e\u200b\u7ec8\u6b62\u200bplaybook\u200b\u7684\u200b\u6267\u884c\u200b\uff0c\u200b\u901a\u5e38\u200b\u4e0e\u200b\u6761\u4ef6\u200b\u8bed\u53e5\u200b\u7ec4\u5408\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5f53\u200b\u6761\u4ef6\u200b\u6ee1\u8db3\u200b\u65f6\u200b\uff0c\u200b\u7ec8\u6b62\u200b\u5f53\u524d\u200bplaybook\u200b\u8fd0\u884c\u200b <pre><code>- name: fail test\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - shell: echo \"Just a test--error\"\n      register: result\n    - fail:\n        msg: \"Conditions established, Interrupt running playbook\"\n      when: 'error' in result.stdout\n    - debug:\n        msg: \"Inever execute, Because the playbook has stopped\"\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#failed_when","title":"failed_when","text":"<p>fail\u200b\u548c\u200bwhen\u200b\u7ed3\u5408\u200b\u4f7f\u7528\u200b\u65f6\u5019\u200b\uff0cfailed_when\u200b\u662f\u200b\u4e00\u79cd\u200b\u66f4\u200b\u7b80\u5355\u200b\u7684\u200b\u5199\u6cd5\u200b\uff0c\u200b\u5f53\u200b\u6ee1\u8db3\u200b\u67d0\u4e2a\u200b\u6761\u4ef6\u200b\u81ea\u52a8\u200b\u89e6\u53d1\u200b\u5931\u8d25\u200b\u9000\u51fa\u200b <pre><code>- name: failed_when test\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - name: this command prints FAILED when it fails\n      command: /usr/bin/example-command -x -y -z\n      register: command_result\n      failed_when: 'FAILED' in command_result.stderr\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#changed_when","title":"changed_when","text":"<pre><code>- name: changed_when test\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - shell: echo hello world\n      register: cmd_result\n      changed_when: cmd_result.rc != 2\n    - debug:\n        var: cmd_result.rc\n    - shell: wall beep\n      register: cmd_result\n      changed_when: False\n    - debug:\n        var: cmd_result.rc\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#assert","title":"assert","text":"<pre><code>- name: assert test\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - assert:\n        that:\n          - 100 &gt; 200\n          - 200 &gt; 200\n        fail_msg: \"oh, not me\"\n        success_msg: \"oh, it's me\"\n</code></pre>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#any_errors_fatal","title":"any_errors_fatal","text":"<p>\u200b\u5c06\u200b<code>any_error_fatal</code>\u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue\u200b\u540e\u200b\uff0c\u200b\u7b2c\u4e00\u4e2a\u200b\u8282\u70b9\u200b\u5f00\u59cb\u200b\u6267\u884c\u200bfail\u200b\u4efb\u52a1\u200b\uff0c\u200b\u6574\u4e2a\u200bplaybook\u200b\u540e\u7eed\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u6267\u884c\u200b\uff0c\u200b\u5176\u5b83\u200bplay\u200b\u4e5f\u200b\u662f\u200b\u4e00\u6837\u200b\u4e0d\u200b\u6267\u884c\u200b <pre><code>- name: any_errors_fatal test\n  gather_facts: no\n  any_errors_fatal: yes\n  hosts: localhost\n  tasks:\n    - fail:\n        msg: oh, not me\n      when: inventory_hostname == group['nginx'][ ]\n    - debug:\n        msg: \"hello\"\n- name: next play\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - debug:\n        msg: HELLO WORLD\n</code></pre></p>"},{"location":"Linux/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/ansible/#when_1","title":"\u5728\u200b\u5faa\u73af\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200bwhen","text":"<pre><code>- name: \u200b\u53ea\u200b\u6253\u5370\u200b\u5927\u4e8e\u200b5\u200b\u7684\u200b\u503c\u200b\n  hosts: localhost\n  gather_facts: no\n  tasks:\n    - command: echo {{ item }}\n      loop: [0,2,4,6,8,10]\n      when: item &gt; 5\n</code></pre>"},{"location":"Win/%E6%88%91%E7%9A%84Win%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/","title":"\u6211\u200b\u7684\u200bWin\u200b\u547d\u4ee4\u200b\u5e2e\u52a9\u200b\u624b\u518c","text":""},{"location":"Win/%E6%88%91%E7%9A%84Win%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#bvssh","title":"Bvssh","text":"<pre><code>BvSsh.exe -profile=\"D:\\\u200b\u5907\u4efd\u200b\u8d44\u6599\u200b\\bitvise profile\\192.168.12.12.tlp\" -start=login -openTerm -exitOnLogout -noRegistry=y -autoLogout -hide=main -term=xterm-256color\n</code></pre>"},{"location":"Win/%E6%88%91%E7%9A%84Win%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#vboxmanage","title":"VBoxManage","text":""},{"location":"Win/%E6%88%91%E7%9A%84Win%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_1","title":"\u5217\u51fa\u200b\u5168\u90e8\u200b\u865a\u62df\u673a","text":"<pre><code>VBoxManage.exe host vms\n</code></pre>"},{"location":"Win/%E6%88%91%E7%9A%84Win%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/#_2","title":"\u5f00\u542f\u200b\u865a\u62df\u673a\u200b\u865a\u62df\u5316","text":"<pre><code>\"D:\\Program Files\\Oracle\\VirtualBox\\VBoxManage.exe\" modifyvm \"centos7\" --nested-hw-virt on\n</code></pre>"},{"location":"mkdocs/mkdocs%E5%8F%82%E8%80%83%E7%AB%99/","title":"Mkdocs\u200b\u53c2\u8003\u200b\u7ad9","text":"<ul> <li>https://wcowin.work/index.html</li> <li>https://oneko.zone/</li> <li>https://www.jinhuaiyao.com/posts/personal-wiki-setup/</li> <li>https://herointene.github.io/tech/mkdocsbuild/#_1</li> <li>\u200b\u642d\u5efa\u200b</li> <li>https://shafish.cn/blog/mkdocs/</li> <li>ci https://github.com/squidfunk/mkdocs-material/blob/master/docs/publishing-your-site.md</li> </ul>"},{"location":"%E6%90%9E%E6%9C%BA/%E5%85%B3%E4%BA%8E%E5%88%B7%E6%9C%BA%E7%9A%84%E6%80%BB%E7%BB%93/","title":"\u5173\u4e8e\u200b\u5237\u673a\u200b\u7684\u200b\u603b\u7ed3","text":""},{"location":"%E6%90%9E%E6%9C%BA/%E5%85%B3%E4%BA%8E%E5%88%B7%E6%9C%BA%E7%9A%84%E6%80%BB%E7%BB%93/#todo","title":"TODO","text":"<p>[2019.05.13]\u200b\u8054\u60f3\u200b_Z5S(L78071)_ZUI_10.5.331_\u200b\u5361\u5237\u7ebf\u200b\u5237\u200b\u4e8c\u5408\u4e00\u200b_Magisk_Xposed_\u200b\u53ef\u6551\u200b\u7816\u200b_Lenovo Z5s-\u200b\u8054\u60f3\u200b\u793e\u533a\u200b \u200b\u8054\u60f3\u200bZ5 BL\u3001ROO\u200b\u6559\u7a0b\u200b \u3010\u200b\u6574\u5408\u200b\u7f51\u4e0a\u200b\u7684\u200b\u5404\u79cd\u200b\u6559\u7a0b\u200b\u5f97\u51fa\u200b\u7684\u200b-\u200b\u603b\u7ed3\u200b\u3011_Lenovo Z5 \u200b\u7cfb\u5217\u200b-\u200b\u8054\u60f3\u200b\u793e\u533a\u200b Android \u200b\u73a9\u5bb6\u200b\u5fc5\u5907\u200b\u795e\u5668\u200b\u5165\u95e8\u200b\uff1a\u200b\u4ece\u96f6\u5f00\u59cb\u200b\u5b89\u88c5\u200b Magisk - \u200b\u5c11\u6570\u6d3e\u200b (sspai.com) \u200b\u5237\u200b Magisk \u200b\u6a21\u5757\u200b\u624b\u673a\u200b\u300c\u200b\u53d8\u7816\u200b\u300d\u200b\u4e86\u200b\uff1f\u200b\u8fd9\u200b\u4e09\u6b3e\u200b\u5de5\u5177\u200b\u80fd\u200b\u5e2e\u200b\u4f60\u200b\u6551\u6025\u200b - \u200b\u5c11\u6570\u6d3e\u200b (sspai.com)</p> <p>\u200b\u56e0\u4e3a\u200b\u624b\u4e0a\u200b\u7684\u200bmoto\u200b\u624b\u673a\u200b\u6ca1\u6709\u200broot\uff0c\u200b\u6240\u4ee5\u200b\u6293\u200b\u4e0d\u4e86\u200b\u5305\u200b\uff0c\u200b\u5c31\u200b\u5bfb\u601d\u200b\u628a\u200b\u95f2\u7f6e\u200b\u7684\u200bLenovo z5s\u200b\u5237\u673a\u200broot\u200b\u4e86\u200b\uff0c\u200b\u6211\u60f3\u200b\u5237\u7c7b\u200b\u539f\u751f\u200b\u7684\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u6d41\u7545\u200b\u3001\u200b\u7701\u200b\u7535\u200b\u3001\u200b\u6ca1\u6709\u200b\u5e7f\u544a\u200b\u3002</p> <p>\u200b\u6211\u200b\u5148\u200b\u5728\u200bZ5s ROMs download | SourceForge.net\u200b\u4e0b\u8f7d\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5b89\u5353\u200b12\u200b\u7684\u200b\u5237\u200b\u673a\u5305\u200b\uff0c\u200b\u60f3\u7740\u200b\u76f4\u63a5\u200b\u5c31\u200b\u80fd\u200b\u5237\u200b\u8fdb\u53bb\u200b\uff0c\u200b\u5f00\u59cb\u200b\u4e00\u987f\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u7533\u8bf7\u200b\u89e3\u9501\u200b\u6587\u4ef6\u200b -&gt; \u200b\u89e3\u9501\u200b -&gt; \u200b\u5237\u200btwrp -&gt; \u200b\u5361\u5237\u200b\uff0c\u200b\u7ed3\u679c\u200b\u5237\u200b\u8fdb\u53bb\u200b\uff0c\u200b\u5f00\u200b\u4e0d\u4e86\u200b\u673a\u200b\uff01\u200b\u5c31\u200b\u4e0b\u8f7d\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5b89\u5353\u200b10\u200b\u7684\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u5f00\u200b\u4e0d\u4e86\u200b\u673a\u200b\uff0c\u200b\u6211\u200b\u5c31\u200b\u5bfb\u601d\u200b\u54ea\u91cc\u200b\u6709\u200b\u95ee\u9898\u200b\uff0c\u200b\u4ee5\u524d\u200b\u6309\u200b\u522b\u4eba\u200b\u7684\u200b\u6559\u7a0b\u200b\u662f\u200b\u8981\u200b\u5237\u5e95\u200b\u5305\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u200b\u60f3\u200b\u662f\u4e0d\u662f\u200b\u8fd9\u4e2a\u200b\u5e95\u5305\u200b\u7684\u200b\u539f\u56e0\u200b\uff0c\u200b\u5c31\u200b\u767e\u5ea6\u200b\u641c\u7d22\u200b\u5237\u200b\u673a\u5361\u200bfastboot\uff0c\u200b\u56de\u7b54\u200b\u662f\u200b\u8981\u200b\u627e\u5230\u200b\u8be5\u5b89\u5353\u200b\u7248\u672c\u200b\u7684\u200btwrp\uff0c\u200b\u5927\u6982\u200b\u539f\u56e0\u200b\u5c31\u200b\u6e05\u695a\u200b\u4e86\u200b\u3002</p>"},{"location":"%E6%90%9E%E6%9C%BA/%E5%85%B3%E4%BA%8E%E5%88%B7%E6%9C%BA%E7%9A%84%E6%80%BB%E7%BB%93/#twrp","title":"twrp \u200b\u7248\u672c\u200b\u95ee\u9898","text":"<p>\u200b\u5148\u200b\u627e\u5230\u200b\u652f\u6301\u200b\u8be5\u5237\u673a\u200b\u5305\u5b89\u5353\u200b\u7248\u672c\u200b\u7684\u200btwrp\uff0c\u200b\u4e00\u822c\u200b\u4e0b\u8f7d\u200b\u6700\u65b0\u200b\u7684\u200b\u5c31\u200b\u884c\u200b\uff0c\u200b\u5e94\u8be5\u200b\u5411\u200b\u540e\u200b\u517c\u5bb9\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53bb\u200btwrp\u200b\u5b98\u7f51\u200b\u8fdb\u884c\u200b\u4e0b\u8f7d\u200b\uff0c\u200b\u7136\u540e\u200b\u5c31\u662f\u200b\u5237\u5165\u200b\u6307\u4ee4\u200b\uff1a <pre><code>fastboot.exe flash recovery C:\\Users\\xiaoqing\\Downloads\\twrp-3.5.1_9-0-jd2019.img\nfastboot.exe reboot\n</code></pre> \u200b\u7f51\u4e0a\u200b\u8bf4\u200b\u91cd\u542f\u200b\u8fd9\u4e2a\u200b\u6307\u4ee4\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8fdb\u5165\u200brec\uff0c\u200b\u6211\u200b\u6267\u884c\u200b\u8be5\u200b\u547d\u4ee4\u200b\u9519\u8bef\u200b\uff1a <pre><code>fastboot reboot recovery\n</code></pre> \u200b\u5982\u679c\u200b\u624b\u673a\u200b\u6ca1\u6709\u200b\u91cd\u542f\u200b\u5230\u200brecovery\u200b\u6a21\u5f0f\u200b\u8bf7\u200b\u6309\u7167\u200b\u4ee5\u4e0b\u200b\u64cd\u4f5c\u200b\u5c1d\u8bd5\u200b:</p> <ul> <li>\u200b\u5c0f\u7c73\u200b\uff1a\u200b\u957f\u200b\u6309\u200b\u7535\u6e90\u200b\u52a0\u200b\u97f3\u91cf\u200b\u4e0a\u200b\u76f4\u5230\u200b\u770b\u5230\u200brecovery\u200b\u542f\u52a8\u200b\u753b\u9762\u200b\u518d\u200b\u677e\u624b\u200b  </li> <li>\u200b\u4e00\u52a0\u200b/OPPO/Realme\uff1a\u200b\u957f\u200b\u6309\u200b\u7535\u6e90\u200b\u52a0\u200b\u97f3\u91cf\u200b\u4e0b\u200b\u76f4\u5230\u200b\u770b\u5230\u200brecovery\u200b\u542f\u52a8\u200b\u753b\u9762\u200b\u518d\u200b\u677e\u624b\u200b</li> </ul> <p>\u200b\u6211\u200b\u662f\u200b\u76f4\u63a5\u200b\u8fdb\u200bfastboot\u200b\u7136\u540e\u200b\u9009\u62e9\u200b\u7684\u200brec mode\uff0c\u200b\u8fdb\u5165\u200brec\u3002\u3002\u3002</p>"},{"location":"%E6%90%9E%E6%9C%BA/%E5%85%B3%E4%BA%8E%E5%88%B7%E6%9C%BA%E7%9A%84%E6%80%BB%E7%BB%93/#_1","title":"\u5237\u5165\u200b\u89e3\u9501\u200b\u6587\u4ef6\u200b\u95ee\u9898","text":"<p>\u200b\u8fd8\u6709\u200b\u4e2a\u200b\u95ee\u9898\u200b\u5c31\u662f\u200b\u5237\u5165\u200b\u89e3\u9501\u200b\u6587\u4ef6\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u51fa\u73b0\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u9519\u8bef\u200b\uff1a <pre><code>D:\\&gt;fastboot flash unlock sn.img\n&lt; waiting for any device &gt;\n</code></pre>  \u200b\u7f51\u4e0a\u200b\u8bf4\u200b\u662f\u200bADB\u200b\u9a71\u52a8\u200b\u6ca1\u88c5\u200b\u597d\u200b\u8fd8\u662f\u200b\u5b89\u5353\u200b\u624b\u673a\u200b\u6ca1\u88c5\u200b\u597d\u200b\uff0c\u200b\u6211\u200b\u5c31\u200b\u5728\u200b\u7f51\u4e0a\u200b\u4e0b\u8f7d\u200b\u4e86\u200bADB\u200b\u9a71\u52a8\u200b\u5b89\u88c5\u7a0b\u5e8f\u200b\u8fdb\u884c\u200b\u5b89\u88c5\u200b\uff0c\u200b\u7ed3\u679c\u200b\u6f14\u793a\u200b\u662f\u200b\u5df2\u7ecf\u200b\u5b89\u88c5\u200b\u4e86\u200b\u7684\u200b\uff0c\u200b\u6700\u540e\u200b\u4e0b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5947\u5154\u200b\u5237\u673a\u200b\u81ea\u52a8\u200b\u5b89\u88c5\u200b\u4e86\u200b\u9a71\u52a8\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u5947\u5154\u200b\u5237\u673a\u200b\u771f\u68d2\u200b\uff01</p>"},{"location":"%E6%90%9E%E6%9C%BA/%E5%85%B3%E4%BA%8E%E5%88%B7%E6%9C%BA%E7%9A%84%E6%80%BB%E7%BB%93/#_2","title":"\u5e95\u5305\u200b\u95ee\u9898","text":"<p>\u200b\u5e95\u5305\u200b\u9700\u8981\u200b\u7b2c\u4e09\u65b9\u200b\u7248\u672c\u200b\u5e95\u5305\u200b\uff0c\u200b\u6bd4\u5982\u200b\u4f60\u200b\u5237\u200b\u539f\u751f\u200b\u5b89\u5353\u200b11\uff0c\u200b\u5c31\u200b\u9700\u8981\u200b\u4e0b\u5b89\u5353\u200b11\u200b\u7684\u200b\u7b2c\u4e09\u65b9\u200b\u5e95\u5305\u200b\uff0c\u200b\u5b89\u5353\u200b10\u200b\u4e0b\u5b89\u5353\u200b10\u200b\u7684\u200b\u5e95\u200b\u5305\u200b </p>"},{"location":"%E6%90%9E%E6%9C%BA/%E5%85%B3%E4%BA%8E%E5%88%B7%E6%9C%BA%E7%9A%84%E6%80%BB%E7%BB%93/#magisk","title":"\u5237\u5165\u200bmagisk","text":"<p>\u200b\u53bb\u200bmagisk\u200b\u4e2d\u6587\u7f51\u200b\uff0c\u200b\u4e0b\u8f7d\u200bmagsik\u200b\u5b89\u88c5\u5305\u200b\uff0c\u200b\u540e\u7f00\u540d\u200b\u6539\u4e3a\u200bzip\uff0c\u200b\u7136\u540e\u200b\u653e\u5165\u200bU\u200b\u76d8\u200b\u6216\u8005\u200bOTG\u200b\u79fb\u52a8\u786c\u76d8\u200b\u8fdb\u884c\u200brec\u200b\u5237\u5165\u200b</p>"},{"location":"%E6%90%9E%E6%9C%BA/%E5%85%B3%E4%BA%8E%E5%88%B7%E6%9C%BA%E7%9A%84%E6%80%BB%E7%BB%93/#_3","title":"\u76f8\u5173\u200b\u94fe\u63a5","text":"<ul> <li>\u200b\u9b54\u8da3\u200bROM\u200b\u5b98\u7f51\u200b</li> <li>\u200b\u8054\u60f3\u200b\u5237\u673a\u200b\u6551\u200b\u7816\u200b\u6559\u7a0b\u200b</li> <li>\u200b\u5947\u5154\u200b\u5237\u673a\u200b\u5b98\u7f51\u200b</li> <li>\u200b\u5b89\u5353\u200b\u624b\u673a\u200b\u5237\u673a\u200bROOT\u200b\u6307\u5357\u200b</li> <li>TeamWin - TWRP</li> <li>Magisk\u200b\u4e0b\u8f7d\u200b - Magisk\u200b\u4e2d\u6587\u7f51\u200b (magiskcn.com)</li> </ul>"},{"location":"%E6%90%9E%E6%9C%BA/%E5%85%B3%E4%BA%8E%E5%88%B7%E6%9C%BA%E7%9A%84%E6%80%BB%E7%BB%93/#_4","title":"\u603b\u7ed3","text":"<p>\u200b\u6700\u540e\u200b\u5237\u200b\u4e86\u200b\u9b54\u8da3\u200b\u5b89\u5353\u200b10\uff0c\u200b\u4ece\u200b\u65e9\u4e0a\u200b\u641e\u200b\u5230\u200b\u4e86\u200b\u4e0b\u5348\u200b\u4e94\u516d\u200b\u70b9\u200b\uff0c\u200b\u4e2d\u5348\u996d\u200b\u8fd8\u662f\u200b\u5403\u200b\u7684\u200b\u6ce1\u9762\u200b\uff0c\u200b\u53c8\u200b\u662f\u200b\u975e\u5e38\u200b\u6109\u5feb\u200b\u7684\u200b\u4e00\u5929\u200b\uff01</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/0.%20%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%A6%82%E5%BF%B5/","title":"0. \u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u6982\u5ff5","text":"<ul> <li>\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u6982\u5ff5\u200b</li> </ul> <pre><code>\"\"\"\n\u200b\u672c\u8d28\u200b\u5c31\u662f\u200b\u4e00\u6b3e\u200b\u57fa\u4e8e\u200b\u7f51\u7edc\u901a\u4fe1\u200b\u7684\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\n\n\u200b\u4e5f\u200b\u5c31\u200b\u610f\u5473\u7740\u200b\u6570\u636e\u5e93\u200b\u8f6f\u4ef6\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u81ea\u5df1\u200b\u5f00\u53d1\u200b\n\u200b\u8fd8\u200b\u610f\u5473\u7740\u200b\u5e02\u9762\u4e0a\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u8f6f\u4ef6\u200b\u5f88\u591a\u200b\n\"\"\"\n\u200b\u5173\u7cfb\u200b\u578b\u200b\uff1a\n    MySQL\u3001oracle\u3001access\u3001SQL server\u3001sqllite\n    \u200b\u7279\u70b9\u200b\uff1a\n        \u200b\u6570\u636e\u200b\u5f7c\u6b64\u4e4b\u95f4\u200b\u6709\u200b\u7ea6\u675f\u200b\u6216\u8005\u200b\u5173\u7cfb\u200b\n        \u200b\u6570\u636e\u200b\u6570\u636e\u200b\u4e00\u822c\u200b\u90fd\u200b\u662f\u200b\u4ee5\u200b\u8868\u683c\u200b\u7684\u200b\u5f62\u5f0f\u200b\n\u200b\u975e\u200b\u5173\u7cfb\u200b\u578b\u200b\uff1a\n    redis\u3001mongodb\uff08\u200b\u6700\u50cf\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u975e\u200b\u5173\u7cfb\u200b\u578b\u200b\u6570\u636e\u5e93\u200b\uff09\u3001memcache\n    \u200b\u7279\u70b9\u200b\uff1a\n        \u200b\u901a\u8fc7\u200bk\uff0cv\u200b\u952e\u503c\u200b\u5bf9\u200b\u7684\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\n</code></pre> <ul> <li>MySQL</li> </ul> <pre><code>\"\"\"\n\u200b\u672c\u8d28\u200b\u5c31\u662f\u200b\u4e00\u6b3e\u200b\u57fa\u4e8e\u200b\u7f51\u7edc\u901a\u4fe1\u200b\u7684\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\nMySQL\u200b\u5f00\u6e90\u200b\u514d\u8d39\u200b\n\u200b\u4f01\u4e1a\u200b\u4f7f\u7528\u7387\u200b\u8f83\u5e7f\u200b\n\u200b\u4f7f\u7528\u65b9\u4fbf\u200b\u597d\u5b66\u200b\n\"\"\"\n</code></pre> <ul> <li>SQL\u200b\u8bed\u53e5\u200b</li> </ul> <pre><code>\"\"\"\n\u200b\u5ba2\u6237\u7aef\u200b\n\u200b\u670d\u52a1\u7aef\u200b\n\nMySQL \u200b\u652f\u6301\u200b\u591a\u79cd\u7c7b\u578b\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\n    1. \u200b\u81ea\u5df1\u200b\u5199\u200b\u7684\u200b\u5ba2\u6237\u7aef\u200b\n    2. \u200b\u5176\u4ed6\u200b\u7f16\u7a0b\u8bed\u8a00\u200b\u5199\u200b\u7684\u200b\uff08python\u3001java\u3001php\u3002\u3002\u3002\uff09\n\n\u200b\u5982\u4f55\u200b\u517c\u5bb9\u200b\n    1. \u200b\u672c\u4eba\u200b\u725b\u200b\u903c\u200b \u200b\u81ea\u52a8\u200b\u533a\u5206\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8bed\u8a00\u200b\n    2. \u200b\u7edf\u4e00\u6807\u51c6\u200b\uff08*****\uff09\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/1.%20mysql%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/","title":"1. mysql\u200b\u7684\u200b\u76f8\u5173\u200b\u914d\u7f6e","text":"<p>\u200b\u8865\u5145\u200b\uff1a</p> <pre><code>\"\"\"\n1. \u200b\u5982\u4f55\u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u5177\u4f53\u200b\u8fdb\u7a0b\u200b\n    tasklist\n    tasklist | findstr mysqld\n2. \u200b\u5982\u4f55\u200b\u6740\u6b7b\u200b\u5177\u4f53\u200b\u8fdb\u7a0b\u200b\uff08\u200b\u53ea\u6709\u200b\u5728\u200b\u7ba1\u7406\u5458\u200bcmd\u200b\u4e0b\u200b\u624d\u80fd\u200b\u6210\u529f\u200b\uff09\n    taskkill /F /PID PID\u200b\u53f7\u200b\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/1.%20mysql%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/#_1","title":"\u5f00\u542f\u200b\u81ea\u542f\u52a8","text":"<ol> <li> <p>\u200b\u5c06\u200bmysql\u200b\u6587\u4ef6\u200b\u4e0b\u200b\u7684\u200bbin\u200b\u76ee\u5f55\u200b\u6dfb\u52a0\u200b\u5230\u200b\u73af\u5883\u53d8\u91cf\u200bpath\u200b\u4e0b\u200b</p> </li> <li> <p>\u200b\u5c06\u200bmysql\u200b\u670d\u52a1\u7aef\u200b\u5236\u4f5c\u200b\u6210\u200b\u7cfb\u7edf\u200b\u670d\u52a1\u200b\uff08\u200b\u5f00\u673a\u200b\u81ea\u542f\u52a8\u200b\uff09</p> </li> </ol> <pre><code>\"\"\"\n\u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u8ba1\u7b97\u673a\u200b\u7684\u200b\u8fd0\u884c\u200b\u8fdb\u7a0b\u200b\u6570\u200b\n    \u200b\u8fd0\u884c\u200b\u8f93\u5165\u200bservice.msc \u200b\u6216\u8005\u200b \u200b\u6253\u5f00\u200b\u4efb\u52a1\u200b\u7ba1\u7406\u5668\u200b\u9009\u9879\u5361\u200b\u670d\u52a1\u200b\n\u200b\u5c06\u200bmysql\u200b\u5236\u4f5c\u200b\u6210\u200b\u7cfb\u7edf\u200b\u670d\u52a1\u200b\n    mysqld --install\n\u200b\u79fb\u9664\u200bmysql\u200b\u7cfb\u7edf\u200b\u670d\u52a1\u200b\n    mysqld --remove\n\u200b\u542f\u52a8\u200b\u7c7b\u578b\u200b\n    \u200b\u6539\u4e3a\u200b\u81ea\u52a8\u200b\u542f\u52a8\u200b\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/1.%20mysql%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/#_2","title":"\u8bbe\u7f6e\u200b\u5bc6\u7801","text":"<pre><code>\"\"\"\nmysqladmin -uroot -p\u200b\u539f\u200b\u5bc6\u7801\u200b password \u200b\u65b0\u5bc6\u7801\u200b\nmysqladmin -uroot -p123 password 123456\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/1.%20mysql%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/#_3","title":"\u5fd8\u8bb0\u200b\u5bc6\u7801","text":"<pre><code># 1. \u200b\u5148\u200b\u5173\u95ed\u200b\u5f53\u524d\u200bmysql\u200b\u670d\u52a1\u7aef\u200b\n    \u200b\u547d\u4ee4\u884c\u200b\u7684\u200b\u65b9\u5f0f\u200b\u542f\u52a8\u200b\uff08\u200b\u8ba9\u200bmysql\u200b\u8df3\u8fc7\u200b\u7528\u6237\u540d\u200b\u5bc6\u7801\u200b\u9a8c\u8bc1\u200b\u529f\u80fd\u200b\uff09\n    mysqld --skip-grant-tables\n# 2. \u200b\u76f4\u63a5\u200b\u4ee5\u200b\u65e0\u200b\u5bc6\u7801\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fde\u63a5\u200b\n    mysql -uroot -p\n# 3. \u200b\u4fee\u6539\u200b\u5f53\u524d\u200b\u7528\u6237\u200b\u7684\u200b\u5bc6\u7801\u200b\n    update mysql.user set password=password(123456) where user='root' and host='localhost';\n\"\"\"\n\u200b\u771f\u6b63\u200b\u5b58\u50a8\u7528\u6237\u200b\u8868\u200b\u7684\u200b\u5bc6\u7801\u200b\u5b57\u200b\u6bb5\u200b \u200b\u5b58\u50a8\u200b\u7684\u200b\u80af\u5b9a\u200b\u662f\u200b\u5bc6\u6587\u200b\n\u200b\u53ea\u6709\u200b\u7528\u6237\u200b\u81ea\u5df1\u200b\u77e5\u9053\u200b\u660e\u6587\u200b\u662f\u200b\u4ec0\u4e48\u200b \u200b\u5176\u4ed6\u4eba\u200b\u90fd\u200b\u4e0d\u200b\u77e5\u9053\u200b \u200b\u8fd9\u6837\u200b\u66f4\u52a0\u200b\u7684\u200b\u5b89\u5168\u200b\n\u200b\u5bc6\u6587\u200b\u4e5f\u200b\u5bf9\u200b\u53ea\u80fd\u200b\u5bf9\u6bd4\u200b\u5bc6\u6587\u200b\n\"\"\"\n# 4. \u200b\u7acb\u523b\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\u5237\u5230\u200b\u786c\u76d8\u200b\nflush privileges;\n# 5. \u200b\u5173\u95ed\u200b\u5f53\u524d\u200b\u670d\u52a1\u7aef\u200b\uff0c\u200b\u7136\u540e\u200b\u6b63\u5e38\u200b\u6821\u9a8c\u200b\u6388\u6743\u200b\u8868\u200b\u7684\u200b\u5f62\u5f0f\u200b\u542f\u52a8\u200b\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/1.%20mysql%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/#mysql","title":"mysql\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u76f8\u5173\u200b\u4fee\u6539","text":"<pre><code>\"\"\"\nmy-default.ini\n\u200b\u4ee5\u200bini\u200b\u7ed3\u5c3e\u200b\u7684\u200b\u4e00\u822c\u200b\u90fd\u200b\u662f\u200b\u914d\u7f6e\u6587\u4ef6\u200b\n\u200b\u7a0b\u5e8f\u200b\u4f1a\u5148\u200b\u52a0\u8f7d\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u914d\u7f6e\u200b\u4e4b\u540e\u200b\u624d\u200b\u771f\u6b63\u200b\u7684\u200b\u542f\u52a8\u200b\n\"\"\"\n[mysqld]    #\u200b\u4e00\u65e6\u200b\u670d\u52a1\u7aef\u200b\u542f\u52a8\u200b\u7acb\u523b\u200b\u52a0\u8f7d\u200b\u4e0b\u9762\u200b\u7684\u200b\u914d\u7f6e\u200b\n...\n[mysql]     # \u200b\u4e00\u65e6\u200b\u5ba2\u6237\u7aef\u200b\u542f\u52a8\u200b\u7acb\u523b\u200b\u52a0\u8f7d\u200b\u4e0b\u9762\u200b\u7684\u200b\u914d\u7f6e\u200b\n...\n[client]    # \u200b\u5176\u4ed6\u200b\u5ba2\u6237\u7aef\u200b\n\n# \u200b\u81ea\u5df1\u200b\u65b0\u5efa\u200b\u4e00\u4e2a\u200bmy.ini\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b\uff0c\u200b\u4e0d\u8981\u200b\u518d\u6e90\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u4e0a\u200b\u505a\u200b\u4fee\u6539\u200b\n[mysqld]\n;\u200b\u4fee\u6539\u200b\u670d\u52a1\u7aef\u200b\u5b57\u7b26\u96c6\u200b\u7f16\u7801\u200b\ncharacter-set-server=utf8\ncollation-server=utf8_general_ci\n[client]\n;\u200b\u4fee\u6539\u200b\u5176\u4ed6\u200b\u5ba2\u6237\u7aef\u200b\u5b57\u7b26\u96c6\u200b\u7f16\u7801\u200b\ndefault-character-set=utf8\n[mysql]\n;\u200b\u6307\u5b9a\u200b\u8fde\u63a5\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u5bc6\u7801\u200b\uff0c\u200b\u76f4\u63a5\u200b\u6572\u200bmysql\u200b\u5c31\u200b\u53ef\u200b\u8fdb\u5165\u200b\nuser=root\npassword=123456\n;\u200b\u4fee\u6539\u200bmysql\u200b\u5ba2\u6237\u7aef\u200b\u5b57\u7b26\u96c6\u200b\u7f16\u7801\u200b\ndefault-character-set=utf8\n\n# \u200b\u4fee\u6539\u200b\u5b8c\u540e\u200b\u91cd\u542f\u200b\u670d\u52a1\u200b\nnet stop mysql\nnet start mysql\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/11.%20group%20by%E5%88%86%E7%BB%84/","title":"group by \u200b\u5206\u7ec4","text":"<pre><code>\"\"\"\n# \u200b\u5206\u7ec4\u200b\u5b9e\u9645\u200b\u5e94\u7528\u200b\u573a\u666f\u200b \u200b\u5206\u7ec4\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\u975e\u5e38\u200b\u591a\u200b\n    \u200b\u7537\u5973\u200b\u6bd4\u5217\u200b\n    \u200b\u90e8\u95e8\u200b\u5e73\u5747\u200b\u85aa\u8d44\u200b\n    \u200b\u90e8\u95e8\u200b\u79c3\u5934\u200b\u7387\u200b\n    \u200b\u56fd\u5bb6\u200b\u4e4b\u95f4\u200b\u6570\u636e\u200b\u7edf\u8ba1\u200b\n\"\"\"\n\n# 1. \u200b\u6309\u200b\u90e8\u95e8\u200b\u5206\u7ec4\u200b\nselect * from emp group by post:\n# \u200b\u5206\u7ec4\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6700\u5c0f\u200b\u53ef\u200b\u64cd\u4f5c\u200b\u5355\u4f4d\u200b\u5e94\u8be5\u200b\u662f\u200b\u7ec4\u200b\uff0c\u200b\u4e0d\u518d\u200b\u662f\u200b\u7ec4\u5185\u200b\u5355\u4e2a\u200b\u6570\u636e\u200b\n# \u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4e0a\u8ff0\u200b\u547d\u4ee4\u200b\u76f4\u63a5\u200b\u62a5\u9519\u200b\n# \u200b\u5206\u7ec4\u200b\u4e4b\u540e\u200b\u53ea\u80fd\u200b\u76f4\u63a5\u200b\u83b7\u53d6\u200b\u5206\u7ec4\u200b\u4f9d\u636e\u200b\uff0c\u200b\u5176\u4ed6\u200b\u5b57\u6bb5\u200b\u90fd\u200b\u65e0\u6cd5\u200b\u76f4\u63a5\u200b\u83b7\u53d6\u200b\nset global sql_mode='strict_trans_tables,only_full_group_by';\n\n# \u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\u4e4b\u540e\u200b \u200b\u5206\u7ec4\u200b\u9ed8\u8ba4\u200b\u53ea\u80fd\u200b\u62ff\u5230\u200b\u5206\u7ec4\u200b\u7684\u200b\u4f9d\u636e\u200b\nselect post from emp group by post;\n# \u200b\u6309\u7167\u200b\u4ec0\u4e48\u200b\u5206\u7ec4\u200b\u65e7\u200b\u53ea\u80fd\u200b\u62ff\u200b\u5012\u200b\u5206\u7ec4\u200b\uff0c\u200b\u5176\u4ed6\u200b\u5b57\u200b\u6bb5\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u83b7\u53d6\u200b\uff0c\u200b\u9700\u8981\u200b\u501f\u52a9\u200b\u4e00\u4e9b\u200b\u65b9\u6cd5\u200b\n\n\"\"\"\n\u200b\u4ec0\u4e48\u200b\u65f6\u5019\u200b\u9700\u8981\u200b\u5206\u7ec4\u200b\uff1a\n    \u200b\u5173\u952e\u5b57\u200b\n        \u200b\u6bcf\u4e2a\u200b \u200b\u5e73\u5747\u200b \u200b\u6700\u9ad8\u200b \u200b\u6700\u4f4e\u200b\n\"\"\"\n# 1. \u200b\u83b7\u53d6\u200b\u6bcf\u4e2a\u200b\u90e8\u95e8\u200b\u7684\u200b\u6700\u9ad8\u200b\u85aa\u8d44\u200b\nselect post,max(salary) from emp group by post;\nselect post as '\u200b\u90e8\u95e8\u200b',max(salary) as '\u200b\u6700\u9ad8\u200b\u85aa\u8d44\u200b' from emp group by post;\nselect post '\u200b\u90e8\u95e8\u200b',max(salary) '\u200b\u6700\u9ad8\u200b\u85aa\u8d44\u200b' from emp group by post;\n# as \u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\uff0c\u200b\u4f46\u662f\u200b\u4e0d\u200b\u63a8\u8350\u200b\uff0c\u200b\u8bed\u4e49\u200b\u4e0d\u200b\u660e\u786e\u200b\n\n# 2. \u200b\u83b7\u53d6\u200b\u6bcf\u4e2a\u200b\u90e8\u95e8\u200b\u7684\u200b\u6700\u4f4e\u200b\u85aa\u8d44\u200b\nselect post,min(salary) from emp group by post;\n\n# 3. \u200b\u83b7\u53d6\u200b\u6bcf\u4e2a\u200b\u90e8\u95e8\u200b\u7684\u200b\u5e73\u5747\u200b\u85aa\u8d44\u200b\nselect post,avg(salary) from emp group by post;\n\n# 4. \u200b\u83b7\u53d6\u200b\u6bcf\u4e2a\u200b\u90e8\u95e8\u200b\u7684\u200b\u5de5\u8d44\u200b\u603b\u548c\u200b\nselect post,sum(salary) from emp group by post;\n\n# 5. \u200b\u83b7\u53d6\u200b\u6bcf\u4e2a\u200b\u90e8\u95e8\u200b\u7684\u200b\u4eba\u6570\u200b\nselect post,count(id) from emp group by post;\nselect post,count(salary) from emp group by post;\nselect post,count(age) from emp group by post;\nselect post,count(post_comment) frpm emp group by post; #null \u200b\u4e0d\u884c\u200b\n\n# 6. \u200b\u67e5\u8be2\u200b\u5206\u7ec4\u200b\u4e4b\u540e\u200b\u7684\u200b\u90e8\u95e8\u200b\u540d\u79f0\u200b\u548c\u200b\u6bcf\u4e2a\u200b\u90e8\u95e8\u200b\u4e0b\u200b\u6240\u6709\u200b\u7684\u200b\u5458\u5de5\u200b\u59d3\u540d\u200b\n# group_concat \u200b\u4e0d\u200b\u5355\u5355\u200b\u53ef\u4ee5\u200b\u652f\u6301\u200b\u4f60\u200b\u83b7\u53d6\u200b\u5206\u7ec4\u200b\u4e4b\u540e\u200b\u7684\u200b\u5176\u4ed6\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u8fd8\u200b\u652f\u6301\u200b\u62fc\u63a5\u200b\u64cd\u4f5c\u200b\nselect post,group_concar(name) from emp group by post;\nselect post,group_concat(name,'_DSB') from emp group by post;\nselect post,group_concat(name,':',salary) from emp group by post;\n# concat\u200b\u4e0d\u200b\u5206\u7ec4\u200b\u7684\u200b\u65f6\u5019\u200b\u7528\u200b\nselect concat('NAME:',name),concat('SAL:',salary) from emp;\n# concat_ws \u200b\u5982\u679c\u200b\u4e1c\u54e5\u200b\u5b57\u200b\u6bb5\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8fde\u63a5\u200b\u670d\u52a1\u200b\u53f7\u200b\u662f\u200b\u76f8\u540c\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b \u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200bconcat_ws\u200b\u6765\u200b\u5b8c\u6210\u200b\nselect concat_ws(':',name,age,sex) \n\n# \u200b\u8865\u5145\u200b as\u200b\u8bed\u6cd5\u200b\u4e0d\u200b\u5355\u5355\u200b\u53ef\u4ee5\u200b\u7ed9\u200b\u5b57\u200b\u6bb5\u200b\u8d77\u200b\u522b\u540d\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u7ed9\u8868\u8d77\u200b\u522b\u540d\u200b\nselect emp.id,emp.name from emp;\nselect emp.id,emp.name from emp as t1;  # \u200b\u62a5\u9519\u200b\nselect t1.id,t1.name from emp as t1;\n\n# \u200b\u67e5\u8be2\u200b\u6bcf\u4e2a\u200b\u4eba\u200b\u7684\u200b\u5e74\u85aa\u200b 12\u200b\u85aa\u200b\nselect name,salary*12 from emp;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/11.%20group%20by%E5%88%86%E7%BB%84/#_1","title":"\u5206\u7ec4\u200b\u8865\u5145","text":"<p>```python</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/11.%20group%20by%E5%88%86%E7%BB%84/#wheregroup-by-group-bywhere","title":"\u5173\u952e\u5b57\u200bwhere\u200b\u548c\u200bgroup by \u200b\u540c\u65f6\u200b\u51fa\u73b0\u200b\u7684\u200b\u65f6\u5019\u200bgroup by\u200b\u5fc5\u987b\u200b\u5728\u200bwhere\u200b\u7684\u200b\u540e\u9762","text":"<p>where \u200b\u5148\u5bf9\u200b\u6574\u4f53\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8fc7\u6ee4\u200b\u4e4b\u540e\u200b\u518d\u200b\u5206\u7ec4\u200b\u64cd\u4f5c\u200b where \u200b\u7b5b\u9009\u200b\u6761\u4ef6\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b\u805a\u5408\u200b\u51fd\u6570\u200b select id,name,age from emp where max(salary) &gt; 3000; select max(salary) from emp; # \u200b\u4e0d\u200b\u5206\u7ec4\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u6574\u4f53\u200b\u5c31\u662f\u200b\u4e00\u7ec4\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/11.%20group%20by%E5%88%86%E7%BB%84/#30","title":"\u7edf\u8ba1\u200b\u5404\u200b\u90e8\u95e8\u200b\u5e74\u9f84\u200b\u518d\u200b30\u200b\u5c81\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u5458\u5de5\u200b\u5e73\u5747\u200b\u85aa\u8d44","text":"<pre><code>1. \u200b\u5148\u6c42\u200b\u6240\u6709\u200b\u5e74\u9f84\u200b\u5927\u4e8e\u200b30\u200b\u7684\u200b\u5458\u5de5\u200b\n    select * from emp where age&gt;30;\n2. \u200b\u518d\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u5206\u7ec4\u200b\n    select * from emp where age&gt;30 group by post;\nselect post,avg(salary) from emp age&gt;30 group by post;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/12.%20having%E5%88%86%E7%BB%84%E4%B9%8B%E5%90%8E%E7%9A%84%E7%AD%9B%E9%80%89%E6%9D%A1%E4%BB%B6/","title":"having \u200b\u5206\u7ec4\u200b\u4e4b\u540e\u200b\u7684\u200b\u6761\u4ef6\u200b\u7b5b\u9009","text":"<p>```python \"\"\" having\u200b\u7684\u200b\u8bed\u6cd5\u200b\u548c\u200bwhere\u200b\u662f\u200b\u4e00\u81f4\u200b\u7684\u200b \u200b\u53ea\u4e0d\u8fc7\u200bhaving\u200b\u662f\u200b\u518d\u200b\u5206\u7ec4\u200b\u4e4b\u540e\u200b\u8fdb\u884c\u200b\u7684\u200b\u8fc7\u6ee4\u200b\u64cd\u4f5c\u200b \u200b\u5373\u200bhaving\u200b\u662f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u7684\u200b \"\"\"</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/12.%20having%E5%88%86%E7%BB%84%E4%B9%8B%E5%90%8E%E7%9A%84%E7%AD%9B%E9%80%89%E6%9D%A1%E4%BB%B6/#3010000","title":"\u7edf\u8ba1\u200b\u5404\u200b\u90e8\u95e8\u200b\u5e74\u9f84\u200b\u5728\u200b30\u200b\u5c81\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u5458\u5de5\u200b\u5e73\u5747\u5de5\u8d44\u200b\u5e76\u4e14\u200b\u4fdd\u7559\u200b\u5e73\u5747\u5de5\u8d44\u200b\u5927\u4e8e\u200b10000\u200b\u7684\u200b\u90e8\u95e8","text":"<p>select post,avg(salary) from emp         where age &gt; 30         group by post         having avg(salary) &gt;10000         ;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/13.%20distinct%E5%8E%BB%E9%87%8D/","title":"distincat \u200b\u53bb\u200b\u91cd","text":"<p>```python \"\"\" \u200b\u4e00\u5b9a\u200b\u8981\u200b\u6ce8\u610f\u200b\uff0c\u200b\u5fc5\u987b\u200b\u662f\u200b\u5b8c\u5168\u200b\u4e00\u6837\u200b\u7684\u200b\u6570\u636e\u200b\u624d\u200b\u53ef\u4ee5\u200b\u53bb\u200b\u91cd\u200b \u200b\u4e00\u5b9a\u200b\u4e0d\u8981\u200b\u5c06\u200b\u4e3b\u952e\u200b\u5ffd\u89c6\u200b\u4e86\u200b\uff0c\u200b\u6709\u200b\u4e3b\u952e\u200b\u5b58\u5728\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u662f\u200b\u4e0d\u200b\u53ef\u80fd\u200b\u53bb\u200b\u91cd\u200b\u7684\u200b \"\"\" select distinct id,age from emp; select distinct age from emp;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/14.%20order%20by%E6%8E%92%E5%BA%8F/","title":"order by \u200b\u6392\u5e8f","text":"<pre><code>select * from order by salary;\nselect * from order by salary asc;\nselect * from order by salsary desc;\n\n\"\"\"\n\u200b\u9ed8\u8ba4\u200b\u662f\u200b\u5347\u5e8f\u200b\nasc \u200b\u5347\u5e8f\u200b\ndesc \u200b\u964d\u5e8f\u200b\n\"\"\"\nselect * from emp order by age desc salary asc\n# \u200b\u5148\u200b\u6309\u7167\u200bage\u200b\u964d\u5e8f\u200b\u6392\u200b \u200b\u5982\u679c\u200b\u78b0\u5230\u200bage\u200b\u76f8\u540c\u200b \u200b\u5219\u200b\u6309\u7167\u200bsalary\u200b\u5347\u5e8f\u200b\u6392\u200b\n\n# \u200b\u7edf\u8ba1\u200b\u5404\u200b\u90e8\u95e8\u200b\u5e74\u9f84\u200b\u518d\u200b10\u200b\u5c81\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u5458\u5de5\u200b\u5e73\u5747\u5de5\u8d44\u200b\u5e76\u4e14\u200b\u4fdd\u7559\u200b\u5e73\u5747\u200b\u85aa\u8d44\u200b\u5927\u4e8e\u200b1000\u200b\u7684\u200b\u90e8\u95e8\u200b\uff0c\u200b\u7136\u540e\u200b\u5bf9\u200b\u5e73\u5747\u5de5\u8d44\u200b\u8fdb\u884c\u200b\u964d\u5e8f\u200b\u6392\u5e8f\u200b\nselect post,avg(salary) from emp\n    where age&gt;10\n    group by post\n    having avg(salary) &gt; 1000\n    order by avg(salary) desc;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/15.%20limit%20%E9%99%90%E5%88%B6%E5%B1%95%E7%A4%BA%E6%9D%A1%E6%95%B0/","title":"limit\u200b\u9650\u5236\u200b\u5c55\u793a\u200b\u6761\u6570","text":"<pre><code>select * from emp limit 3;\nselect * from emp limit 0,5;\nselect * from emp limit 5,5;\n# \u200b\u7b2c\u4e00\u4e2a\u200b\u662f\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\n# \u200b\u7b2c\u4e8c\u4e2a\u200b\u662f\u200b\u5c55\u793a\u200b\u6761\u6570\u200b\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/16.%20%E6%AD%A3%E5%88%99/","title":"\u6b63\u5219","text":"<pre><code>select * from emp where name regxp '^j.*(n|y)$';\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/17.%E8%BF%9E%E8%A1%A8%E6%93%8D%E4%BD%9C/","title":"17.\u200b\u8fde\u8868\u200b\u64cd\u4f5c","text":"<p>\u200b\u524d\u671f\u200b\u8868\u200b\u51c6\u5907\u200b <pre><code># \u200b\u5efa\u8868\u200b\ncreate table dep(\n    id int,\n    name varchar(20)\n);\n\ncreate table emp(\n    id int primeay key auto_increment,\n    name varchar(20),\n    sex enum('male','female') not null default 'male',\n    age int,\n    dep_id int\n);\n\n# \u200b\u63d2\u5165\u200b\u6570\u636e\u200b\ninsert into dep values\n(200,'\u200b\u6280\u672f\u200b'),\n(201,'\u200b\u4eba\u529b\u8d44\u6e90\u200b'),\n(202,'\u200b\u9500\u552e\u200b'),\n(203,'\u200b\u8fd0\u8425\u200b');\n\ninsert into emp(name,sex,age,dep_id) values\n('jason','male',18,200),\n('egon','female',48,201),\n('kevin','male',18,201),\n('nick','male',28,202),\n('owen','male',18,203),\n('jarry','female',28,204);\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/17.%E8%BF%9E%E8%A1%A8%E6%93%8D%E4%BD%9C/#_1","title":"\u67e5\u8be2","text":"<pre><code>select * from dep,emp;  # \u200b\u7ed3\u679c\u200b \u200b\u7b1b\u5361\u5c14\u200b\u79ef\u200b\nselect * from emp,dep where emp.dep_id = dep.dep_id;\n\"\"\"\n\u200b\u62fc\u8868\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5bf9\u5e94\u200b\u65b9\u6cd5\u200b\uff1a\n    inner join \u200b\u5185\u200b\u8fde\u63a5\u200b\n    left join \u200b\u5de6\u200b\u8fde\u63a5\u200b\n    right join \u200b\u53f3\u200b\u8fde\u63a5\u200b\n    union   \u200b\u5168\u200b\u8fde\u63a5\u200b\n\"\"\"\n# inner join \u200b\u5185\u200b\u8fde\u63a5\u200b\nselec * from emp inner join dep on emp.dep_id = dep.id;\n# \u200b\u53ea\u200b\u62fc\u63a5\u200b\u4e24\u5f20\u200b\u8868\u200b\u4e2d\u5171\u200b\u6709\u200b\u7684\u200b\u6570\u636e\u200b\u90e8\u5206\u200b\n\n# left join \u200b\u5de6\u200b\u8fde\u63a5\u200b\nselect * from emp left join dep on emp.dep_id = dep.id;\n# \u200b\u5de6\u8868\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u636e\u200b\u90fd\u200b\u5c55\u793a\u200b\u51fa\u6765\u200b \u200b\u6ca1\u6709\u200b\u7684\u200b\u5bf9\u5e94\u200b\u7684\u200b\u9879\u200b\u5c31\u200b\u7528\u200bnull\n\n# right join \u200b\u53f3\u200b\u8fde\u63a5\u200b\nselect * from emp right dep on emp.dep_id = dep.id;\n\n# union \u200b\u5168\u200b\u8fde\u63a5\u200b \u200b\u5de6\u53f3\u4e24\u200b\u8868\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u636e\u200b\u90fd\u200b\u5c55\u793a\u200b\u51fa\u6765\u200b\nselect * from emp left join dep on emp.dep_id = dep.id\nunion\nselect * from emp right join dep on emp.dep_id = dep.id;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/18.%20%E5%AD%90%E6%9F%A5%E8%AF%A2/","title":"18. \u200b\u5b50\u200b\u67e5\u8be2","text":"<pre><code>\"\"\"\n\u200b\u5b50\u200b\u67e5\u8be2\u200b\u5c31\u662f\u200b\u5e73\u65f6\u200b\u6211\u4eec\u200b\u89e3\u51b3\u95ee\u9898\u200b\u7684\u200b\u601d\u8def\u200b\n    \u200b\u5206\u6b65\u200b\u89e3\u51b3\u95ee\u9898\u200b\n        \u200b\u7b2c\u4e00\u6b65\u200b\n        \u200b\u7b2c\u4e8c\u6b65\u200b\n        \u3002\u3002\n\u200b\u5c06\u200b\u4e00\u4e2a\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b\u7684\u200b\u7ed3\u679c\u200b\u5f53\u4f5c\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u67e5\u8be2\u200b\u8bed\u53e5\u200b\u7684\u200b\u6761\u4ef6\u200b\u53bb\u200b\u7528\u200b\n\"\"\"\n# \u200b\u67e5\u8be2\u200b\u90e8\u95e8\u200b\u662f\u200b\u6280\u672f\u200b\u6216\u8005\u200b\u4eba\u529b\u8d44\u6e90\u200b\u7684\u200b\u5458\u5de5\u200b\u4fe1\u606f\u200b\nselect id from dep where name = '\u200b\u6280\u672f\u200b' or name = '\u200b\u4eba\u529b\u8d44\u6e90\u200b';\nselect name from emp where dep_id in (200,201);\nselect * from emp where dep_id in (select id from dep where name='\u200b\u6280\u672f\u200b' or name='\u200b\u4eba\u529b\u8d44\u6e90\u200b');\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/18.%20%E5%AD%90%E6%9F%A5%E8%AF%A2/#_1","title":"\u603b\u7ed3","text":"<pre><code>\u200b\u8868\u200b\u7684\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u5176\u4ed6\u200b\u8868\u200b\u7684\u200b\u67e5\u8be2\u200b\u6761\u4ef6\u200b\n\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8d77\u200b\u522b\u540d\u200b\u7684\u200b\u65b9\u5f0f\u200b\u4f5c\u4e3a\u200b\u4e00\u5f20\u200b\u865a\u62df\u200b\u8868\u200b\u548c\u200b\u5176\u4ed6\u200b\u8868\u200b\u5173\u8054\u200b\n\n\"\"\"\n\u200b\u591a\u8868\u200b\u67e5\u8be2\u200b\u7684\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\n    1. \u200b\u5148\u200b\u62fc\u63a5\u200b\u518d\u200b\u67e5\u8be2\u200b\n    2. \u200b\u5b50\u200b\u67e5\u8be2\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u6765\u200b\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/18.%20%E5%AD%90%E6%9F%A5%E8%AF%A2/#exits","title":"exits \u200b\u5173\u952e\u5b57","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/19.%E8%A7%86%E5%9B%BE/","title":"\u89c6\u56fe","text":"<ul> <li>\u200b\u4ec0\u4e48\u200b\u662f\u200b\u89c6\u56fe\u200b <pre><code>\"\"\"\n\u200b\u89c6\u56fe\u200b\u5c31\u662f\u200b\u901a\u8fc7\u200b\u67e5\u8be2\u200b\u5f97\u5230\u200b\u4e00\u5f20\u200b\u865a\u62df\u200b\u8868\u200b\uff0c\u200b\u7136\u540e\u200b\u4fdd\u5b58\u200b\u4e0b\u6765\u200b\uff0c\u200b\u4e0b\u6b21\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\n\"\"\"\n</code></pre></li> <li>\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u7528\u200b\u89c6\u56fe\u200b <pre><code>\"\"\"\n\u200b\u5982\u679c\u200b\u8981\u200b\u9891\u7e41\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4e00\u5f20\u200b\u865a\u62df\u200b\u8868\u200b\uff08\u200b\u62fc\u8868\u200b\u7ec4\u6210\u200b\u7684\u200b\uff09\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u5236\u4f5c\u200b\u6210\u200b\u89c6\u56fe\u200b\uff0c\u200b\u540e\u7eed\u200b\u76f4\u63a5\u200b\u64cd\u4f5c\u200b\n\"\"\"\n</code></pre></li> <li>\u200b\u5982\u4f55\u200b\u64cd\u4f5c\u200b <pre><code># \u200b\u56fa\u5b9a\u200b\u8bed\u6cd5\u200b\ncreate view \u200b\u8868\u540d\u200b as \u200b\u865a\u62df\u200b\u8868\u200b\u7684\u200b\u67e5\u8be2\u200bsql\u200b\u8bed\u53e5\u200b\n\n# \u200b\u5177\u4f53\u64cd\u4f5c\u200b\ncreate view teacher2course as\nselect * from teacher inner join course\non teacher.tid = course.teacher_id\n;\n</code></pre></li> <li>\u200b\u6ce8\u610f\u200b <pre><code>\"\"\"\n1. \u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b\u5728\u200b\u786c\u76d8\u200b\u4e0a\u200b\u53ea\u4f1a\u200b\u6709\u8868\u200b\u7ed3\u6784\u200b\uff08\u200b\u6570\u636e\u200b\u8fd8\u662f\u200b\u6765\u81ea\u200b\u4e8e\u200b\u4e4b\u524d\u200b\u7684\u200b\u8868\u200b\uff09\n2. \u200b\u89c6\u56fe\u200b\u4e00\u822c\u200b\u53ea\u200b\u7528\u6765\u200b\u67e5\u8be2\u200b\uff0c\u200b\u91cc\u9762\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u8981\u200b\u7ee7\u7eed\u200b\u4fee\u6539\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5f71\u54cd\u200b\u771f\u6b63\u200b\u7684\u200b\u8868\u200b\n\"\"\"\n</code></pre></li> <li>\u200b\u89c6\u56fe\u200b\u5230\u5e95\u200b\u4f7f\u7528\u200b\u9891\u7387\u200b\u9ad8\u4e0d\u9ad8\u200b\uff1f ```python \"\"\" \u200b\u4e0d\u9ad8\u200b \u200b\u5f53\u200b\u4f60\u200b\u521b\u5efa\u200b\u4e86\u200b\u5f88\u591a\u200b\u7684\u200b\u89c6\u56fe\u200b\u4e4b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u9020\u6210\u200b\u8868\u200b\u7684\u200b\u4e0d\u597d\u200b\u7ef4\u62a4\u200b</li> </ul> <p>\"\"\"</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/2.%20%E5%BA%93%E3%80%81%E8%A1%A8%E3%80%81%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/","title":"2. \u200b\u5e93\u200b\u3001\u200b\u8868\u200b\u3001\u200b\u6570\u636e\u200b\u7684\u200b\u589e\u5220\u200b\u6539\u67e5","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/2.%20%E5%BA%93%E3%80%81%E8%A1%A8%E3%80%81%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_1","title":"\u9488\u5bf9\u200b\u5e93\u200b\u7684\u200b\u589e\u5220\u200b\u67e5\u6539\u200b\uff08\u200b\u6587\u4ef6\u5939\u200b\uff09","text":"<pre><code># \u200b\u589e\u200b\ncreate database db1;\ncreate database db2 charset='gbk';\n# \u200b\u67e5\u200b\nshow databases; # \u200b\u67e5\u200b\u6240\u6709\u200b\nshow create database db1;   # \u200b\u67e5\u200b\u5355\u4e2a\u200b\n# test     | CREATE DATABASE `test` /*!40100 DEFAULT CHARACTER SET latin1 */\n# \u200b\u6539\u200b\nalter database db2 charset='utf-8';\n# \u200b\u5220\u200b\ndrop database db2;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/2.%20%E5%BA%93%E3%80%81%E8%A1%A8%E3%80%81%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_2","title":"\u9488\u5bf9\u200b\u8868\u200b\u7684\u200b\u589e\u5220\u200b\u67e5\u6539\u200b\uff08\u200b\u6587\u4ef6\u200b\uff09","text":"<pre><code># \u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u6240\u5728\u200b\u5e93\u200b\u7684\u200b\u540d\u5b57\u200b\nselect database();\n# \u200b\u5207\u6362\u200b\u5e93\u200b\nuse db1;\n\n# \u200b\u589e\u200b\ncreate table t1(id int,name char(4));\ncreate table db2.t2(id int,name char(4)); # \u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u7edd\u5bf9\u8def\u5f84\u200b\u7684\u200b\u6a21\u5f0f\u200b\n# \u200b\u67e5\u200b\nshow tables;\nshow create table t1;   # \u200b\u67e5\u770b\u200b\u5177\u4f53\u200b\u7684\u200b\u5efa\u8868\u200b\u4fe1\u606f\u200b\ndescribe t1; # \u200b\u67e5\u770b\u200b\u8868\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u652f\u6301\u200b\u7b80\u5199\u200bdesc t1;\n# \u200b\u6539\u200b\nalter table t1 modify name char(16);\n# \u200b\u5220\u200b\ndrop table t1;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/2.%20%E5%BA%93%E3%80%81%E8%A1%A8%E3%80%81%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/#_3","title":"\u9488\u5bf9\u200b\u6570\u636e\u200b\u7684\u200b\u589e\u5220\u200b\u6539\u67e5\u200b\uff08\u200b\u4e00\u884c\u200b\u4e00\u884c\u200b\u7684\u200b\u6570\u636e\u200b\uff09","text":"<pre><code># \u200b\u589e\u200b\ninsert into t1 values(1,'jason');\ninsert into t1 values(1,'jason'),(2,'egon'),(3,'tank');\n# \u200b\u67e5\u200b\nselect * from t1;\nselect name form t1;\n# \u200b\u6539\u200b\nupdate t1 set name='bsd' where id &gt; 1;\n# \u200b\u5220\u200b\ndelete form t1 where id &gt; 1;\ndelete form t1 where name='json';\n# \u200b\u5c06\u8868\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u636e\u200b\u6e05\u7a7a\u200b\ndelete from t1;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/20.%20%E8%A7%A6%E5%8F%91%E5%99%A8/","title":"\u89e6\u53d1\u5668","text":"<p>\u200b\u5728\u200b\u6ee1\u8db3\u200b\u5bf9\u6807\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u589e\u5220\u200b\u6539\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u89e6\u53d1\u200b\u7684\u200b\u529f\u80fd\u200b \u200b\u4f7f\u7528\u200b\u89e6\u53d1\u5668\u200b\u53ef\u4ee5\u200b\u5e2e\u52a9\u200b\u6211\u4eec\u200b\u5b9e\u73b0\u200b\u76d1\u63a7\u200b\uff0c\u200b\u65e5\u5fd7\u200b\u3002\u3002 \u200b\u89e6\u53d1\u5668\u200b\u53ef\u4ee5\u200b\u5728\u200b\u516d\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u81ea\u52a8\u200b\u89e6\u53d1\u200b\uff0c\u200b\u589e\u524d\u200b\u589e\u540e\u200b\uff0c\u200b\u5220\u524d\u200b\u5220\u540e\u200b\uff0c\u200b\u6539\u524d\u200b\u6539\u540e\u200b</p> <p>```python create trigger \u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u540d\u5b57\u200b before/after insert/after insert/update/delete \u200b\u8868\u540d\u200b  for each row begin     sql \u200b\u8bed\u53e5\u200b end</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/20.%20%E8%A7%A6%E5%8F%91%E5%99%A8/#_2","title":"\u5177\u4f53\u200b\u4f7f\u7528\u200b\uff0c\u200b\u9488\u5bf9\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u540d\u5b57\u200b \u200b\u6211\u4eec\u200b\u901a\u5e38\u200b\u9700\u8981\u200b\u505a\u5230\u200b\u89c1\u540d\u200b\u77e5\u610f","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/20.%20%E8%A7%A6%E5%8F%91%E5%99%A8/#_3","title":"\u9488\u5bf9\u200b\u589e","text":"<p>create trigger tri_before_insert_t1 before insert on t1 for each row begin     sql end create tigger tri_after_insert_t1 after insert on t1 for each row begin     sql end</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/20.%20%E8%A7%A6%E5%8F%91%E5%99%A8/#_4","title":"\u9488\u5bf9\u200b\u5220\u9664\u200b\u548c\u200b\u4fee\u6539\u200b\uff0c\u200b\u4e66\u5199\u200b\u683c\u5f0f\u200b\u4e00\u81f4","text":"<p>ps\uff1a \u200b\u4fee\u6539\u200bMySQL\u200b\u9ed8\u8ba4\u200b\u8bed\u53e5\u200b\u7ed3\u675f\u7b26\u200b\uff0c\u200b\u53ea\u200b\u4f5c\u7528\u57df\u200b\u5f53\u524d\u200b\u7a97\u53e3\u200b     delimiter $$ \u200b\u5c06\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u7ed3\u675f\u200b\u7b26\u53f7\u200b\u6539\u4e3a\u200b$$     delimiter ;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/20.%20%E8%A7%A6%E5%8F%91%E5%99%A8/#_5","title":"\u6848\u5217","text":"<p>create table cmd(     id int primary key auto_increment,     user char(32),     priv char(10),     cmd char(64),     sub_time datetime,  # \u200b\u63d0\u4ea4\u200b\u65f6\u95f4\u200b     success enum ('yes','no')   # no\u200b\u4ee3\u8868\u200b\u5931\u8d25\u200b );</p> <p>create table errlog(     id int primary key auto_increment,     err_cmd char(64),     err_time datetime ); \"\"\" \u200b\u5f53\u200bcmd\u200b\u8868\u4e2d\u200b\u7684\u200bsuccess\u200b\u5b57\u6bb5\u200b\u662f\u200bno\u200b\u90a3\u4e48\u200b\u51fa\u53d1\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u6267\u884c\u200b\u53bb\u200berrlog\u200b\u8868\u4e2d\u200b\u63d2\u5165\u200b\u6570\u636e\u200b new\u200b\u6307\u4ee3\u200b\u7684\u200b\u6570\u636e\u200b\u5c31\u662f\u200b\u4e00\u6761\u6761\u200b\u6570\u636e\u200b\u5bf9\u8c61\u200b \"\"\" delimiter $$ create trigger tri_after_insert_cmd after insert on cmd for each row begin     if NEW.cuccess = 'no' then         insert into errlog(err_cmd,err_time) values(NEW.cmd,NEW.sub_time);     end if; end $$ delimiter ;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/20.%20%E8%A7%A6%E5%8F%91%E5%99%A8/#cmd","title":"\u671d\u200bcmd\u200b\u8868\u200b\u63d2\u5165\u200b\u6570\u636e","text":"<p>insert int cmd(     user,     priv,     cmd,     sub_time,     success ) values     ('jason','0755','ls -l /etc',NOW(),'yes'),     ('jason','0755','cat /etc/passwd',NOW(),'no'),     ('jason','0755','useradd xxxx',NOW(),'no'),     ('jason','0755','ps aux',NOW(),'yes');</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/21.%20%E4%BA%8B%E5%8A%A1/","title":"21. \u200b\u4e8b\u52a1","text":"<ul> <li>\u200b\u4ec0\u4e48\u200b\u662f\u200b\u4e8b\u52a1\u200b\u3001 <pre><code>\"\"\"\n\u200b\u5f00\u542f\u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\u53ef\u4ee5\u200b\u5305\u542b\u200b\u591a\u6761\u200bsql\u200b\u8bed\u53e5\u200b\uff0c\u200b\u8fd9\u4e9b\u200bsql\u200b\u8bed\u53e5\u200b\u8981\u4e48\u200b\u540c\u65f6\u200b\u6210\u529f\u200b\uff0c\u200b\u8981\u4e48\u200b\u4e00\u4e2a\u200b\u90fd\u200b\u522b\u200b\u6210\u529f\u200b\u3002\u200b\u79f0\u4e3a\u200b\u4e8b\u52a1\u200b\u7684\u200b\u539f\u5b50\u200b\u6027\u200b\n\"\"\"\n</code></pre></li> <li>\u200b\u4e8b\u52a1\u200b\u7684\u200b\u4f5c\u7528\u200b <pre><code>\"\"\"\n\u200b\u4fdd\u8bc1\u200b\u4e86\u200b\u6570\u636e\u200b\u7684\u200b\u5b89\u5168\u6027\u200b\n\"\"\"\n</code></pre></li> <li>\u200b\u4e8b\u52a1\u200b\u7684\u200b\u56db\u5927\u200b\u7279\u6027\u200b <pre><code>\"\"\"\nACID\nA:\u200b\u539f\u5b50\u200b\u6027\u200b\n    \u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\u662f\u200b\u4e0d\u53ef\u5206\u5272\u200b\u7684\u200b\u5355\u4f4d\u200b\uff0c\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u5305\u542b\u200b\u7684\u200b\u8bf8\u591a\u200b\u64cd\u4f5c\u200b\n    \u200b\u8981\u4e48\u200b\u540c\u65f6\u200b\u6210\u529f\u200b\u8981\u4e48\u200b\u540c\u65f6\u200b\u5931\u8d25\u200b\nC: \u200b\u4e00\u81f4\u6027\u200b\n    \u200b\u4e8b\u52a1\u200b\u5fc5\u987b\u200b\u662f\u4ece\u200b\u6570\u636e\u5e93\u200b\u4e00\u4e2a\u200b\u4e00\u81f4\u6027\u200b\u7684\u200b\u72b6\u6001\u200b\u53d8\u200b\u5230\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u4e00\u81f4\u6027\u200b\u7684\u200b\u72b6\u6001\u200b\n    \u200b\u4e00\u81f4\u6027\u200b\u8ddf\u200b\u539f\u5b50\u200b\u6027\u662f\u200b\u5bc6\u5207\u76f8\u5173\u200b\u7684\u200b\nI: \u200b\u9694\u79bb\u200b\u6027\u200b\n    \u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\u7684\u200b\u6267\u884c\u200b\u4e0d\u80fd\u200b\u88ab\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u5e72\u6270\u200b\n    \uff08 \u200b\u5373\u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\u5185\u90e8\u200b\u7684\u200b\u64cd\u4f5c\u200b\u53ca\u200b\u4f7f\u7528\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u5bf9\u200b\u5e76\u53d1\u200b\u7684\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u662f\u200b\u9694\u79bb\u200b\u7684\u200b\uff0c\u200b\u5e76\u53d1\u200b\u6267\u884c\u200b\u7684\u200b\u4e8b\u52a1\u200b\u4e4b\u95f4\u200b\u4e5f\u200b\u662f\u200b\u4e92\u76f8\u200b\u4e0d\u200b\u5e72\u6270\u200b\u7684\u200b\uff09\n    \u200b\u4e5f\u200b\u53eb\u200b\u201c\u200b\u6c38\u4e45\u6027\u200b\u201d\nD\uff1a\u200b\u6301\u4e45\u6027\u200b\n    \u200b\u4e5f\u200b\u53eb\u200b\u201c\u200b\u6c38\u4e45\u6027\u200b\u201d\n    \u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\u4e00\u65e6\u200b\u63d0\u4ea4\u200b\u6210\u529f\u200b\u6267\u884c\u200b\u6210\u529f\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4ed6\u200b\u5bf9\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u7684\u200b\u4fee\u6539\u200b\u5e94\u8be5\u200b\u662f\u200b\u6c38\u4e45\u200b\u7684\u200b\n    \u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b\u5176\u4ed6\u200b\u64cd\u4f5c\u200b\u6216\u8005\u200b\u6545\u969c\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u5bf9\u200b\u5176\u200b\u6709\u200b\u4efb\u4f55\u200b\u5f71\u54cd\u200b\n\"\"\"\n</code></pre></li> <li>\u200b\u5982\u4f55\u200b\u4f7f\u7528\u200b\u4e8b\u52a1\u200b ```python</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/21.%20%E4%BA%8B%E5%8A%A1/#_1","title":"\u4e8b\u52a1\u200b\u76f8\u5173\u200b\u7684\u200b\u5173\u952e\u5b57","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/21.%20%E4%BA%8B%E5%8A%A1/#1","title":"1. \u200b\u5f00\u542f\u200b\u4e8b\u52a1","text":"<p>start transaction;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/21.%20%E4%BA%8B%E5%8A%A1/#2","title":"2. \u200b\u56de\u6eda\u200b\uff08\u200b\u56de\u6eda\u200b\u5230\u200b\u5341\u4e94\u200b\u4e4b\u524d\u200b\u7684\u200b\u72b6\u6001\u200b\uff09","text":"<p>rollback;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/21.%20%E4%BA%8B%E5%8A%A1/#3","title":"3. \u200b\u786e\u8ba4","text":"<p>commit;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/22.%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/","title":"22. \u200b\u5b58\u50a8\u200b\u8fc7\u7a0b","text":"<p>\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u5c31\u200b\u7c7b\u4f3c\u200bpython\u200b\u4e2d\u200b\u7684\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b</p> <pre><code>create procedure \u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u540d\u5b57\u200b(\u200b\u5f62\u53c2\u200b1\uff0c\u200b\u5f62\u53c2\u200b2...)\nbegin\n    sql\nend\n# \u200b\u8c03\u7528\u200b\ncall \u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u7684\u200b\u540d\u5b57\u200b();\n\n# \u200b\u6848\u5217\u200b\ndelimiter $$\ncreate procedure p1(\n    in m int,\n    in n int,\n    out res int\n)\nbegin\n    select tname from teacher where tid&gt;m and tid &lt;n;\n    set res = 666;  # \u200b\u5c06\u200bres\u200b\u53d8\u91cf\u200b\u4fee\u6539\u200b\uff0c\u200b\u7528\u6765\u200b\u6807\u8bc6\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u4ee3\u7801\u200b\u786e\u5b9e\u200b\u6267\u884c\u200b\u4e86\u200b\nend $$\n\n# \u200b\u9488\u5bf9\u200b\u5f62\u53c2\u200bres \u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u4f20\u200b\u6570\u636e\u200b\uff0c\u200b\u5e94\u8be5\u200b\u7a7f\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u540d\u200b\n# \u200b\u5b9a\u4e49\u200b\u53d8\u91cf\u200b\nset @ret = 10;\nselect @ret;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/23%20%E5%87%BD%E6%95%B0/","title":"23 \u200b\u51fd\u6570","text":"<p>\u200b\u8ddf\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u6709\u200b\u533a\u522b\u200b\u7684\u200b\uff0c\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u81ea\u5b9a\u4e49\u200b\u51fd\u6570\u200b\uff0c\u200b\u51fd\u6570\u200b\u5c31\u200b\u5c5e\u4e8e\u200b\u5185\u7f6e\u200b\u51fd\u6570\u200b ```python ('jaosn','0755','ls -l /etc',NOW(),'yes')</p> <p>create table blog(     id int primary key auto_increment,     name char(32),     sub_time datetime );</p> <p>insert into blog(name,sub_time) values     ('\u200b\u7b2c\u200b1\u200b\u7bc7\u200b','2015-03-01 11:11:11'),     ('\u200b\u7b2c\u200b2\u200b\u7bc7\u200b','2015-03-11 11:11:11'),     ('\u200b\u7b2c\u200b3\u200b\u7bc7\u200b','2016-05-01 11:11:11'),     ('\u200b\u7b2c\u200b4\u200b\u7bc7\u200b','2016-05-11 11:11:11'),     ('\u200b\u7b2c\u200b5\u200b\u7bc7\u200b','2017-03-01 11:11:11'),     ('\u200b\u7b2c\u200b6\u200b\u7bc7\u200b','2015-03-11 11:11:11'),     ('\u200b\u7b2c\u200b7\u200b\u7bc7\u200b','2018-08-11 11:11:11'),     ('\u200b\u7b2c\u200b8\u200b\u7bc7\u200b','2018-08-01 11:11:11');</p> <p>select date_format(sub_time,'%Y-%m'),count(id) from blog group by date_format(sub_time,'%Y-%m');</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/24.%20%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/","title":"24. \u200b\u6d41\u7a0b\u200b\u63a7\u5236","text":"<p>```python</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/24.%20%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#if","title":"if \u200b\u5224\u65ad","text":"<p>delimiter // create procedure proc_if () begin     declare i in default 0     if i = 1 then         select 1;     elseif i = 2 then         select 2;     else         select 7;     end if; end // delimiter ;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/24.%20%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/#while","title":"while \u200b\u5faa\u73af","text":"<p>delimiter // create procedure proc_while() begin     declare num int;     set num = 0;     while num &lt; 10 do         select num;         set num = num + 1;     end while; end // delimiter;</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/25.%20%E7%B4%A2%E5%BC%95/","title":"\u7d22\u5f15","text":"<p>\u200b\u7d22\u5f15\u200b \u200b\u5728\u200bmysql\u200b\u4e2d\u200b\u4e5f\u200b\u53eb\u200b \u200b\u952e\u200b \uff0c\u200b\u662f\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u7528\u4e8e\u200b\u5feb\u901f\u200b\u67e5\u627e\u200b\u8bb0\u5f55\u200b\u7684\u200b\u4e00\u79cd\u200b\u6570\u636e\u7ed3\u6784\u200b * primary key * unique key * index key \u200b\u6ce8\u610f\u200bforeign key\u200b\u4e0d\u662f\u200b\u7528\u6765\u200b\u52a0\u901f\u200b\u67e5\u8be2\u200b\u7684\u200b\uff0c\u200b\u4e0d\u200b\u5728\u200b\u6211\u4eec\u200b\u7684\u200b\u7814\u7a76\u200b\u8303\u56f4\u200b\u4e4b\u5185\u200b \u200b\u4e0a\u9762\u200b\u4e09\u79cd\u200bkey\uff0c\u200b\u524d\u9762\u200b\u4e24\u79cd\u200b\u53ef\u4ee5\u200b\u589e\u52a0\u200b\u67e5\u8be2\u200b\u901f\u5ea6\u200b\u4e4b\u5916\u200b\u5404\u81ea\u200b\u8fd8\u200b\u5177\u6709\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff0c\u200b\u800c\u200b\u6700\u540e\u200b\u4e00\u79cd\u200bindex key \u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u7684\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff0c\u200b\u53ea\u662f\u200b\u7528\u6765\u200b\u5e2e\u52a9\u200b\u4f60\u200b\u5feb\u901f\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b</p> <p>\u200b\u4e00\u5f20\u200b\u8868\u4e2d\u200b\u53ef\u4ee5\u200b\u6709\u200b\u591a\u4e2a\u200b\u7d22\u5f15\u200b\uff08\u200b\u591a\u4e2a\u200b\u76ee\u5f55\u200b\uff09 \u200b\u7d22\u5f15\u200b\u867d\u7136\u200b\u80fd\u591f\u200b\u5e2e\u52a9\u200b\u52a0\u5feb\u200b\u67e5\u8be2\u200b\u901f\u5ea6\u200b\u4f46\u662f\u200b\u4e5f\u200b\u6709\u200b\u7f3a\u70b9\u200b <pre><code>\"\"\"\n1. \u200b\u5f53\u8868\u4e2d\u200b\u6709\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\u5b58\u5728\u200b\u7684\u200b\u524d\u63d0\u200b\u4e0b\u200b\uff0c\u200b\u521b\u5efa\u200b\u7d22\u5f15\u200b\u7684\u200b\u901f\u5ea6\u200b\u4f1a\u200b\u53d8\u6162\u200b\n2. \u200b\u5f53\u200b\u7d22\u5f15\u200b\u521b\u5efa\u200b\u5b8c\u6bd5\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5bf9\u8868\u200b\u7684\u200b\u67e5\u8be2\u200b\u6027\u80fd\u200b\u4f1a\u200b\u5927\u5e45\u5ea6\u200b\u7684\u200b\u63d0\u5347\u200b\uff0c\u200b\u4f46\u662f\u200b\u5199\u200b\u7684\u200b\u6027\u80fd\u200b\u4e5f\u200b\u4f1a\u200b\u5927\u5e45\u5ea6\u200b\u4e0b\u964d\u200b\n\"\"\"\n\u200b\u7d22\u5f15\u200b\u4e0d\u8981\u200b\u4e71\u200b\u521b\u5efa\u200b\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/25.%20%E7%B4%A2%E5%BC%95/#b","title":"b+\u200b\u6811","text":"<p>\u200b\u7565\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/25.%20%E7%B4%A2%E5%BC%95/#primary-key","title":"\u805a\u96c6\u200b\u7d22\u5f15\u200b\uff08primary key\uff09","text":"<pre><code>\"\"\"\n\u200b\u805a\u96c6\u200b\u7d22\u5f15\u200b\u5c31\u662f\u200b\u4e3b\u952e\u200b\nInnodb \u200b\u53ea\u6709\u200b\u4e24\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5c06\u200b\u4e3b\u952e\u200b\u653e\u5728\u200b\u4e86\u200bidb\u200b\u8868\u4e2d\u200b\nMyIsam \u200b\u4e09\u4e2a\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5355\u72ec\u200b\u5c06\u200b\u7d22\u5f15\u200b\u5b58\u653e\u200b\u5728\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u200b\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/25.%20%E7%B4%A2%E5%BC%95/#uniqueindex","title":"\u8f85\u52a9\u200b\u7d22\u5f15\u200b\uff08unique\uff0cindex\uff09","text":"<p>\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u4e0d\u80fd\u200b\u4e00\u76f4\u200b\u4f7f\u7528\u200b\u5230\u200b\u4e3b\u952e\u200b\uff0c\u200b\u4e5f\u200b\u6709\u200b\u53ef\u80fd\u200b\u7528\u5230\u200bname\uff0cpassword\u200b\u7b49\u200b\u5176\u4ed6\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u662f\u200b\u6ca1\u200b\u529e\u6cd5\u200b\u5229\u7528\u200b\u805a\u96c6\u200b\u7d22\u5f15\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u4f60\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u60c5\u51b5\u200b\u7ed9\u200b\u5176\u4ed6\u200b\u5b57\u200b\u6bb5\u200b\u8bbe\u7f6e\u200b\u8f85\u52a9\u200b\u7d22\u5f15\u200b\uff08\u200b\u4e5f\u200b\u662f\u200b\u4e00\u4e2a\u200bb+\u200b\u6811\u200b\uff09 <pre><code>\"\"\"\n\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u5b58\u653e\u200b\u7684\u200b\u662f\u200b\u6570\u636e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4e3b\u200b\u952e\u503c\u200b\n    \u200b\u5148\u200b\u6309\u7167\u200b\u8f85\u52a9\u200b\u7d22\u5f15\u200b\u62ff\u200b\u5012\u200b\u6570\u636e\u200b\u7684\u200b\u4e3b\u200b\u952e\u503c\u200b\n    \u200b\u4e4b\u540e\u200b\u8fd8\u662f\u200b\u9700\u8981\u200b\u53bb\u200b\u4e3b\u952e\u200b\u7684\u200b\u805a\u96c6\u200b\u7d22\u5f15\u200b\u91cc\u9762\u200b\u67e5\u8be2\u200b\u6570\u636e\u200b\n\"\"\"\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/25.%20%E7%B4%A2%E5%BC%95/#_2","title":"\u8986\u76d6\u200b\u7d22\u5f15","text":"<p>\u200b\u5728\u200b\u8f85\u52a9\u200b\u7d22\u5f15\u200b\u7684\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u62ff\u5230\u200b\u4e86\u200b\u9700\u8981\u200b\u7684\u200b\u6570\u636e\u200b ```python</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/25.%20%E7%B4%A2%E5%BC%95/#name","title":"\u7ed9\u200bname\u200b\u8bbe\u7f6e\u200b\u8f85\u52a9\u200b\u7d22\u5f15","text":"<p>select name from user where name='jason';</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/25.%20%E7%B4%A2%E5%BC%95/#_3","title":"\u975e\u200b\u8986\u76d6\u200b\u7d22\u5f15","text":"<p>select age from User where name='jason';</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/3.%20%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/","title":"\u5b58\u50a8\u200b\u5f15\u64ce","text":"<p>\u200b\u9488\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u6570\u636e\u200b\u5e94\u8be5\u200b\u6709\u200b\u5bf9\u5e94\u200b\u7684\u200b\u4e0d\u540c\u200b\u7684\u200b\u5904\u7406\u200b\u673a\u5236\u200b\u6765\u200b\u5b58\u50a8\u200b</p> <p>\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u5c31\u662f\u200b\u4e0d\u540c\u200b\u7684\u200b\u5904\u7406\u200b\u673a\u5236\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/3.%20%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/#mysql","title":"mysql \u200b\u4e3b\u8981\u200b\u5b58\u50a8\u200b\u5f15\u64ce","text":"<ul> <li>lnnodb</li> </ul> <p>\u200b\u662f\u200bMySQL5.5\u200b\u7248\u672c\u200b\u53ca\u200b\u4e4b\u540e\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b</p> <p>\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\u66f4\u52a0\u200b\u5b89\u5168\u200b</p> <ul> <li>myisam</li> </ul> <p>\u200b\u662f\u200bMySQL5.5\u200b\u7248\u672c\u200b\u4e4b\u524d\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b</p> <p>\u200b\u901f\u5ea6\u200b\u8981\u200b\u6bd4\u200blnnodb\u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u4f46\u662f\u200b\u6211\u4eec\u200b\u66f4\u52a0\u200b\u6ce8\u91cd\u200b\u6570\u636e\u5b89\u5168\u200b</p> <ul> <li>memory</li> </ul> <p>\u200b\u5185\u5b58\u200b\u5f15\u64ce\u200b\uff08\u200b\u6570\u636e\u200b\u5168\u90e8\u200b\u653e\u5728\u200b\u5185\u5b58\u200b\u4e2d\u200b\uff09\u200b\u65ad\u7535\u200b\u6570\u636e\u200b\u4e22\u5931\u200b</p> <ul> <li>blackhole</li> </ul> <p>\u200b\u65e0\u8bba\u200b\u5b58\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u90fd\u200b\u7acb\u523b\u200b\u6d88\u5931\u200b(\u200b\u9ed1\u6d1e\u200b)</p> <pre><code>\"\"\"\n# \u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u7684\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\nshow engines;\n# \u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u5728\u200b\u5b58\u50a8\u200b\u8868\u200b\u7684\u200b\u65f6\u5019\u200b\u5f02\u540c\u200b\u70b9\u200b\ncreate table t1(id int) engine=innodb;\ncreate table t2(id int) engine=myisam;\ncreate table (id int) engine=memory;\ncreate table(id int) engine=blcakhole;\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/4.%20%E5%88%9B%E5%BB%BA%E8%A1%A8%E7%9A%84%E5%AE%8C%E6%95%B4%E8%AF%AD%E6%B3%95/","title":"\u521b\u5efa\u200b\u8868\u200b\u7684\u200b\u5b8c\u6574\u200b\u8bed\u6cd5","text":"<pre><code># \u200b\u8bed\u6cd5\u200b\ncreate table \u200b\u8868\u540d\u200b(\n    \u200b\u5b57\u6bb5\u540d\u200b1 \u200b\u7c7b\u578b\u200b\uff08\u200b\u5bbd\u5ea6\u200b\uff09 \u200b\u7ea6\u675f\u6761\u4ef6\u200b,\n    \u200b\u5b57\u6bb5\u540d\u200b2 \u200b\u7c7b\u578b\u200b\uff08\u200b\u5bbd\u5ea6\u200b\uff09 \u200b\u7ea6\u675f\u6761\u4ef6\u200b,\n    \u200b\u5b57\u6bb5\u540d\u200b3 \u200b\u7c7b\u578b\u200b\uff08\u200b\u5bbd\u5ea6\u200b\uff09 \u200b\u7ea6\u675f\u6761\u4ef6\u200b\n)\n\n# \u200b\u6ce8\u610f\u200b\n1\u3001\u200b\u5728\u200b\u540c\u200b\u4e00\u5f20\u200b\u8868\u200b\u5b57\u6bb5\u540d\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b\n2\u3001\u200b\u5bbd\u5ea6\u200b\u548c\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u662f\u200b\u53ef\u9009\u200b\u7684\u200b\uff08\u200b\u53ef\u200b\u5199\u200b\u53ef\u4e0d\u200b\u5199\u200b\uff09\u200b\u800c\u200b\u5b57\u6bb5\u540d\u200b\u548c\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b\u662f\u200b\u5fc5\u987b\u200b\u7684\u200b\uff0c\n    \u200b\u7ea6\u675f\u6761\u4ef6\u200b\u5199\u200b\u7684\u200b\u82b1\u200b\uff0c\u200b\u652f\u6301\u200b\u5199\u200b\u591a\u4e2a\u200b\n    \u200b\u5b57\u6bb5\u540d\u200b \u200b\u7c7b\u578b\u200b\uff08\u200b\u5bbd\u5ea6\u200b\uff09 \u200b\u7ea6\u675f\u6761\u4ef6\u200b1 \u200b\u7ea6\u675f\u6761\u4ef6\u200b2...\n    create table t5(id); # \u200b\u62a5\u9519\u200b\n3\u3001\u200b\u6700\u540e\u200b\u4e00\u884c\u200b\u4e0d\u80fd\u200b\u6709\u200b\u9017\u53f7\u200b\n    create table t6(\n        id int,\n        name char,\n    );  # \u200b\u62a5\u9519\u200b\n\n\"\"\"\u200b\u8865\u5145\u200b\"\"\"\n# \u200b\u5bbd\u5ea6\u200b\n    \u200b\u4e00\u822c\u200b\u60c5\u51b5\u200b\u4e0b\u6307\u200b\u7684\u200b\u662f\u200b\u5bf9\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\u7684\u200b\u9650\u5236\u200b\n    create table t7(name char);     # \u200b\u9ed8\u8ba4\u200b\u5bbd\u5ea6\u200b\u4e3a\u200b1\n    insert into t7 values('jason');\n    insert into t7 values(null); # \u200b\u5173\u952e\u5b57\u200bNULL\n    \u200b\u9488\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u7248\u672c\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u4e0d\u540c\u200b\u7684\u200b\u6548\u679c\u200b\n        5.6 \u200b\u7248\u672c\u200b\u9ed8\u8ba4\u200b\u6ca1\u6709\u200b\u5f00\u542f\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u89c4\u5b9a\u200b\u53ea\u80fd\u200b\u5b58\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u200b\u4f60\u200b\u7ed9\u200b\u591a\u4e2a\u200b\u5b57\u7b26\u200b\uff0c\u200b\u4ed6\u4f1a\u200b\u81ea\u52a8\u200b\u622a\u53d6\u200b\n        5.7 \u200b\u7248\u672c\u200b\u53ca\u200b\u4ee5\u4e0a\u200b\u6216\u8005\u200b\u5f00\u542f\u200b\u4e86\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u90a3\u4e48\u200b\u89c4\u5b9a\u200b\u53ea\u80fd\u200b\u5b58\u200b\u51e0\u4e2a\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u8d85\u200b\uff0c\u200b\u4e00\u65e6\u200b\u8d85\u51fa\u8303\u56f4\u200b\u7acb\u200b    \u200b\u523b\u200b\u62a5\u9519\u200b\uff08Data too long for\u3002\u3002\u3002\uff09\n\n\"\"\"\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\u5230\u5e95\u200b\u5f00\u4e0d\u5f00\u200b\u5462\u200b\uff1f\"\"\"\nMySQL5.7 \u200b\u4e4b\u540e\u200b\u7684\u200b\u7248\u672c\u200b\u9ed8\u8ba4\u200b\u90fd\u200b\u662f\u200b\u5f00\u542f\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\u7684\u200b\n\u200b\u4f7f\u7528\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u51c6\u5219\u200b\uff1a\n    \u200b\u80fd\u200b\u5c3d\u91cf\u5c11\u200b\u7684\u200b\u8ba9\u200b\u6570\u636e\u5e93\u200b\u5e72\u6d3b\u200b\u5c31\u200b\u5c11\u200b\uff0c\u200b\u4e0d\u8981\u200b\u7ed9\u200b\u6570\u636e\u5e93\u200b\u589e\u52a0\u200b\u989d\u5916\u200b\u7684\u200b\u538b\u529b\u200b\n\n# \u200b\u7ea6\u675f\u6761\u4ef6\u200b null not null\u200b\u4e0d\u80fd\u200b\u63d2\u5165\u200bnull\ncreate table t8(id int, name char not null);\n\n\"\"\"\n\u200b\u5bbd\u5ea6\u200b\u548c\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u5230\u5e95\u200b\u662f\u200b\u4ec0\u4e48\u200b\u5173\u7cfb\u200b\uff1a\n    \u200b\u5bbd\u5ea6\u200b\u662f\u200b\u7528\u6765\u200b\u9650\u5236\u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\n    \u200b\u7ea6\u675f\u6761\u4ef6\u200b\u662f\u200b\u5728\u200b\u5bbd\u5ea6\u200b\u7684\u200b\u57fa\u7840\u200b\u4e4b\u4e0a\u200b\u589e\u52a0\u200b\u7684\u200b\u989d\u5916\u200b\u7684\u200b\u7ea6\u675f\u200b\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/6.%20%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6/","title":"\u7ea6\u675f\u6761\u4ef6","text":"<pre><code>\u200b\u7ea6\u675f\u6761\u4ef6\u200b\n    not null\n    zerofill\n    unsigned\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/6.%20%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6/#defualt","title":"defualt \u200b\u9ed8\u8ba4\u503c","text":"<pre><code># \u200b\u8865\u5145\u200b\u77e5\u8bc6\u70b9\u200b \u200b\u63d2\u5165\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u4ee5\u200b\u6307\u5b9a\u200b\u5b57\u200b\u6bb5\u200b\ncreate table t1(\n    id int,\n    name char(16)\n)\ninsert into t1(name,id) values('jason',1);\n\ncreate table t2(\n    id int,\n    name char(16),\n    gender enum('male','female','others') default 'male'\n);\ninsert into t2(id,name) values(1,'jason');\ninsert into t2 values(2,'egon','female');\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/6.%20%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6/#unique","title":"unique\u200b\u552f\u4e00","text":"<pre><code>create table t3(\n    id int unique\n    name char(16)\n);\ninsert into t3 values(1,'jason'),(1,'egon');\ninsert into t3 values(1,'jason'),(2,'egon');\n\n#\u200b\u8054\u5408\u200b\u552f\u4e00\u200b\n\"\"\"\nip\u200b\u548c\u200bport\n\u200b\u5355\u4e2a\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u91cd\u590d\u200b \u200b\u4f46\u662f\u200b\u52a0\u5728\u4e00\u8d77\u200b\u5fc5\u987b\u200b\u662f\u200b\u552f\u4e00\u200b\u5f97\u200b\n\"\"\"\ncreate table t4(\n    id int,\n    ip char(16),\n    port int,\n    unique(ip,prot)\n)\ninsert into t4 values(1,'127.0.0.1',8080);\ninsert into t4 values(2,'127.0.0.1',8081);\ninsert into t4 values(3,'127.0.0.2',8080);\ninsert into t4 values(4,'127.0.0.1',8080);  # \u200b\u62a5\u9519\u200b\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/6.%20%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6/#primary-key","title":"primary key \u200b\u4e3b\u952e","text":"<pre><code>\"\"\"\n1.\u200b\u5355\u5355\u200b\u4ece\u200b\u7ea6\u675f\u200b\u6548\u679c\u200b\u4e0a\u200b\u6765\u770b\u200bprimay key\u200b\u7b49\u4ef7\u200b\u4e8e\u200bnot null + unique\n\u200b\u975e\u7a7a\u4e14\u200b\u552f\u4e00\u200b\uff01\uff01\n\"\"\"\ncreate teable t5(id int primay key);\ninsert into t5 values(null);    # \u200b\u62a5\u9519\u200b\ninsert into t5 values(1),(1);   # \u200b\u62a5\u9519\u200b\ninsert into t5 values(1),(2);\n\n\"\"\"\n2. \u200b\u4ed6\u200b\u9664\u4e86\u200b\u6709\u200b\u7ea6\u675f\u200b\u6548\u679c\u200b\u4e4b\u5916\u200b\uff0c\u200b\u4ed6\u200b\u8fd8\u662f\u200bInnodb\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u7ec4\u7ec7\u200b\u6570\u636e\u200b\u7684\u200b\u4f9d\u636e\u200b\nInnodb\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\u5728\u200b\u521b\u5efa\u200b\u8868\u200b\u7684\u200b\u65f6\u5019\u200b\u5fc5\u987b\u200b\u8981\u200b\u6709\u200bprimary key\n\u200b\u4ee5\u4e3a\u200b\u5b83\u200b\u7c7b\u4f3c\u200b\u4e8e\u4e66\u200b\u7684\u200b\u76ee\u5f55\u200b \u200b\u80fd\u591f\u200b\u5e2e\u52a9\u200b\u63d0\u5347\u200b\u67e5\u8be2\u200b\u6548\u7387\u200b\u5e76\u4e14\u200b\u4e5f\u200b\u662f\u200b\u5efa\u8868\u200b\u7684\u200b\u4f9d\u636e\u200b\n\"\"\"\n# 1. \u200b\u4e00\u5f20\u200b\u8868\u4e2d\u4e14\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u4e3b\u952e\u200b \u200b\u5982\u679c\u200b\u4f60\u200b\u6ca1\u6709\u200b\u8bbe\u7f6e\u200b\u4e3b\u952e\u200b \u200b\u90a3\u4e48\u200b\u4f1a\u200b\u4ece\u200b\u4e0a\u200b\u5f80\u200b\u4e0b\u200b\u641c\u7d22\u200b\u76f4\u5230\u200b\u9047\u5230\u200b\u4e00\u4e2a\u200b\u975e\u7a7a\u4e14\u200b\u552f\u4e00\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u5c06\u200b\u5b83\u200b\u81ea\u52a8\u200b\u5347\u7ea7\u200b\u4e3a\u4e3b\u200b\u952e\u200b\ncreate table t6(\n    id int,\n    name char(16),\n    age int not null unique,\n    addr char(32)\n)\n\n# 2. \u200b\u5982\u679c\u200b\u8868\u4e2d\u200b\u6ca1\u6709\u200b\u4e3b\u952e\u200b\u4e5f\u200b\u6ca1\u6709\u200b\u5176\u4ed6\u200b\u4efb\u4f55\u200b\u975e\u7a7a\u4e14\u200b\u552f\u4e00\u200b\u5b57\u200b\u6bb5\u200b \u200b\u90a3\u4e48\u200bInnodb\u200b\u4f1a\u200b\u91c7\u7528\u200b\u81ea\u5df1\u200b\u5185\u90e8\u200b\u63d0\u4f9b\u200b\u7684\u200b\u4e00\u4e2a\u200b\u9690\u85cf\u200b\u5b57\u200b\u6bb5\u200b\u4f5c\u4e3a\u200b\u4e3b\u952e\u200b\uff0c\u200b\u9690\u85cf\u200b\u610f\u5473\u7740\u200b\u4f60\u200b\u65e0\u6cd5\u200b\u4f7f\u7528\u200b\u5b83\u200b\uff0c\u200b\u5c31\u200b\u65e0\u6cd5\u200b\u63d0\u5347\u200b\u67e5\u8be2\u200b\u901f\u5ea6\u200b\n\n# 3. \u200b\u4e00\u5f20\u200b\u8868\u4e2d\u200b\u901a\u5e38\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e3b\u952e\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5c06\u200bid/uid/sid\u200b\u5b57\u200b\u6bb5\u200b\u4f5c\u4e3a\u200b\u4e3b\u952e\u200b\n# \u200b\u5355\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u4e3b\u952e\u200b\ncreate table t15(\n    id int primary key,\n    name char(16)\n);\n# \u200b\u4e3b\u952e\u200b\u8054\u5408\u200b\uff08\u200b\u591a\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\u8054\u5408\u200b\u8d77\u6765\u200b\u4f5c\u4e3a\u200b\u8868\u200b\u7684\u200b\u4e3b\u952e\u200b \u200b\u672c\u8d28\u200b\u8fd8\u662f\u200b\u4e00\u4e2a\u200b\u4e3b\u952e\u200b\uff09\ncreate table t7(\n    ip char(16),\n    prot int,\n    primary key(ip,prt)\n);\n\n\"\"\"\n\u200b\u4e5f\u200b\u610f\u5473\u7740\u200b \u200b\u6211\u4eec\u200b\u5728\u200b\u521b\u5efa\u200b\u8868\u200b\u7684\u200b\u65f6\u5019\u200bid\u200b\u5b57\u200b\u6bb5\u200b\u4e00\u5b9a\u200b\u8981\u52a0\u200bprimary key\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/6.%20%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6/#auto_increment","title":"auto_increment\u200b\u81ea\u589e","text":"<pre><code># \u200b\u5f53\u200b\u7f16\u53f7\u200b\u7279\u522b\u200b\u591a\u200b\u7684\u200b\u65f6\u5019\u200b \u200b\u4eba\u4e3a\u200b\u7684\u200b\u53bb\u200b\u7ef4\u62a4\u200b\u7684\u200b\u592a\u200b\u9ebb\u70e6\u200b\ncreate table t8(\n    id int primary key atuo_increment,\n    name char(16)\n);\ninsert into t8(name) values('jason'),('egon'),('kevin');\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/6.%20%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6/#_2","title":"\u7ed3\u8bba","text":"<pre><code>\"\"\"\n\u200b\u4ee5\u540e\u200b\u518d\u200b\u521b\u5efa\u200b\u8868\u200b\u7684\u200bid\uff08\u200b\u6570\u636e\u200b\u7684\u200b\u552f\u4e00\u200b\u6807\u8bc6\u200b\uff09\u200b\u5b57\u6bb5\u200b\u7684\u200b\u65f6\u5019\u200b\nid int primary key auto_increment\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/6.%20%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6/#_3","title":"\u8865\u5145","text":"<p>```python delete from # \u200b\u5220\u9664\u200b\u8868\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4e3b\u952e\u200b\u7684\u200b\u81ea\u589e\u200b\u4e0d\u4f1a\u200b\u505c\u6b62\u200b truncate t1;    # \u200b\u6e05\u7a7a\u200b\u8868\u200b\u6570\u636e\u200b\u5e76\u4e14\u200b\u91cd\u7f6e\u200b\u4e3b\u952e\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/7.%20%E8%A1%A8%E5%85%B3%E7%B3%BB/","title":"\u8868\u200b\u5173\u7cfb","text":"<pre><code>\"\"\"\n\u200b\u4e00\u200b\u3001\u200b\u8868\u4e0e\u8868\u200b\u4e4b\u95f4\u200b\u6700\u200b\u591a\u200b\u53ea\u6709\u200b\u56db\u79cd\u200b\u5173\u7cfb\u200b\n    1. \u200b\u4e00\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\n        * \u200b\u5728\u200bMysql\u200b\u7684\u200b\u5173\u7cfb\u200b\u4e2d\u200b\u6ca1\u6709\u200b\u591a\u200b\u5bf9\u200b\u4e00\u4e00\u200b\u8bf4\u200b\n        * \u200b\u4e00\u5bf9\u200b\u591a\u200b \u200b\u591a\u200b\u5bf9\u200b\u4e00\u200b \u200b\u90fd\u200b\u53eb\u200b\u4e00\u5bf9\u200b\u591a\u200b\n    2. \u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5173\u7cfb\u200b\n    3. \u200b\u4e00\u5bf9\u4e00\u200b\u5173\u7cfb\u200b\n    4. \u200b\u6ca1\u6709\u200b\u5173\u7cfb\u200b\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/7.%20%E8%A1%A8%E5%85%B3%E7%B3%BB/#_2","title":"\u4e00\u5bf9\u200b\u591a\u200b\u5173\u7cfb","text":"<pre><code>\"\"\"\n\u200b\u6362\u4f4d\u200b\u601d\u8003\u200b\u5f97\u51fa\u7ed3\u8bba\u200b\n\u200b\u5458\u5de5\u200b\u8868\u200b\u548c\u200b\u90e8\u95e8\u200b\u8868\u200b\n\"\"\"\nforeign key\n    1. \u200b\u4e00\u5bf9\u200b\u591a\u8868\u200b\u5173\u7cfb\u200b \u200b\u5916\u952e\u200b\u5b57\u200b\u6bb5\u200b\u5efa\u200b\u5728\u200b\u591a\u200b\u7684\u200b\u4e00\u65b9\u200b\n    2. \u200b\u5728\u200b\u521b\u5efa\u200b\u8868\u200b\u7684\u200b\u65f6\u5019\u200b \u200b\u4e00\u5b9a\u200b\u8981\u200b\u5148\u5efa\u200b\u88ab\u200b\u5173\u8054\u200b\u8868\u200b\n    3. \u200b\u5728\u200b\u5f55\u5165\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b \u200b\u4e5f\u200b\u5fc5\u987b\u200b\u5148\u200b\u5f55\u5165\u200b\u88ab\u200b\u5173\u8054\u200b\u7684\u200b\u8868\u200b\n# SQL\u200b\u8bed\u53e5\u200b\u5efa\u7acb\u200b\u8868\u200b\u5173\u7cfb\u200b\ncreate table dep(\n    id int primary key auto_increment,\n    dep_name char(16),\n    dep_desc char(32),\n);\n\ncreate table emp(\n    id int primary key auto_increment,\n    name char(16),\n    gender enum('male','female','others') default 'male',\n    dep_id int,\n    foreign key(dep_id) references dep(id)\n);\ninsert into dep(dep_name,dep_desc) values('\u200b\u6559\u5b66\u90e8\u200b','\u200b\u6559\u4e66\u80b2\u4eba\u200b'),('\u200b\u5916\u4ea4\u90e8\u200b','\u200b\u6c9f\u901a\u200b\u8054\u7cfb\u200b'),('\u200b\u6280\u672f\u90e8\u200b'\uff0c'\u200b\u6280\u672f\u5f00\u53d1\u200b');\ninsert into emp(name,dep_id) values('jason',2),('egon',1),('tank',1),('kevin',3);\n\n# \u200b\u4fee\u6539\u200bdep\u200b\u8868\u200b\u91cc\u9762\u200b\u7684\u200bid\u200b\u5b57\u200b\u6bb5\u200b\nupdate dep set id=200 where id=2;   # \u200b\u4e0d\u884c\u200b\n# \u200b\u5220\u9664\u200bdep\u200b\u8868\u200b\u91cc\u9762\u200b\u7684\u200b\u6570\u636e\u200b\ndelete from dep;    # \u200b\u4e0d\u884c\u200b\n# \u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\uff1a\n# 1\u3001\u200b\u5148\u200b\u5220\u9664\u200b\u6559\u5b66\u90e8\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5458\u5de5\u200b\u6570\u636e\u200b \u200b\u4e4b\u540e\u200b\u518d\u200b\u5220\u9664\u200b\u90e8\u95e8\u200b\n    \u200b\u64cd\u4f5c\u200b\u592a\u8fc7\u200b\u7e41\u7410\u200b\n# 2\u3001\u200b\u771f\u6b63\u200b\u505a\u5230\u200b\u6570\u636e\u200b\u4e4b\u95f4\u200b\u6709\u200b\u5173\u7cfb\u200b\n    \u200b\u66f4\u65b0\u200b\u65e7\u200b\u540c\u6b65\u200b\u66f4\u65b0\u200b\n    \u200b\u5220\u9664\u200b\u65e7\u200b\u540c\u6b65\u200b\u5220\u9664\u200b\n\n\"\"\"\n\u200b\u7ea7\u8054\u200b\u66f4\u65b0\u200b\n\u200b\u7ea7\u8054\u200b\u5220\u9664\u200b\n\"\"\"\ncreate table dep(\n    id int primary key auto_increment,\n    dep_name char(16),\n    dep_desc char(32)\n);\n\ncreate table emp(\n    id int primary key auto_increment,\n    name char(16),\n    gender enum('male','female','others') default 'male',\n    dep_id int,\n    foreign key(dep_id) references dep(id)\n    on update cascade # \u200b\u540c\u6b65\u200b\u66f4\u65b0\u200b\n    on delete cascade # \u200b\u540c\u6b65\u200b\u5220\u9664\u200b\n);\ninsert into dep(dep_name,dep_desc) values('\u200b\u6559\u5b66\u90e8\u200b','\u200b\u6559\u4e66\u80b2\u4eba\u200b'),('\u200b\u5916\u4ea4\u90e8\u200b','\u200b\u6c9f\u901a\u200b\u8054\u7cfb\u200b'),('\u200b\u6280\u672f\u90e8\u200b'\uff0c'\u200b\u6280\u672f\u5f00\u53d1\u200b');\ninsert into emp(name,dep_id) values('jason',2),('egon',1),('tank',1),('kevin',3);\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/7.%20%E8%A1%A8%E5%85%B3%E7%B3%BB/#_3","title":"\u591a\u200b\u5bf9\u200b\u591a","text":"<pre><code>\"\"\"\n\u200b\u56fe\u4e66\u200b\u8868\u200b\u548c\u200b\u4f5c\u8005\u200b\u8868\u200b\n\"\"\"\ncreate table book(\n    id int primary key auto_increment,\n    title varchar(32),\n    price int,\n    author_id int,\n    foreign key(author_id) references author(id)\n    on update cascade   # \u200b\u540c\u6b65\u200b\u66f4\u65b0\u200b\n    on delete cascade   # \u200b\u540c\u6b65\u200b\u5220\u9664\u200b\n);\ncreate table author(\n    id int primary key auto_increment,\n    name varchar(32),\n    age int,\n    book_id int,\n    foreign key(book_id) references book(id)\n    on update cascade # \u200b\u540c\u6b65\u200b\u66f4\u65b0\u200b\n    on delete cascade # \u200b\u540c\u6b65\u200b\u5220\u9664\u200b\n); \n\"\"\"\n\u200b\u4ee5\u200b\u4e0a\u9762\u200b\u7684\u200b\u65b9\u5f0f\u200b\u521b\u5efa\u200b \u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u6210\u529f\u200b\n\u200b\u5176\u5b9e\u200b\u6211\u4eec\u200b\u53ea\u662f\u200b\u8bb0\u5f55\u200b\u4e66\u7c4d\u200b\u548c\u200b\u4f5c\u8005\u200b\u7684\u200b\u5173\u7cfb\u200b\n\u200b\u9488\u5bf9\u200b\u591a\u200b\u5bf9\u200b\u591a\u200b\u5b57\u200b\u6bb5\u8868\u200b\u5173\u7cfb\u200b \u200b\u4e0d\u80fd\u200b\u5728\u200b\u4e24\u5f20\u200b\u539f\u6709\u200b\u7684\u200b\u8868\u4e2d\u200b\u521b\u5efa\u200b\u5916\u952e\u200b\n\u200b\u9700\u8981\u200b\u4f60\u200b\u5355\u72ec\u200b\u518d\u200b\u5f00\u8bbe\u200b\u4e00\u5f20\u200b\u4e13\u95e8\u200b\u6765\u200b\u5b58\u50a8\u200b\u4e24\u5f20\u200b\u8868\u200b\u6570\u636e\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb\u200b\n\"\"\"\ncreate table book(\n    id int primary key auto_increment,\n    title varchar(32),\n    price int\n);\ncreate table author(\n    id int primary key auto_increment,\n    name varchar(32),\n    age int\n);\ncreate table book2author(\n    id int primary key auto_increment,\n    author_id int,\n    book_id int,\n    foreign key(author_id) references author(id)\n    on update cascade\n    on delete cascade,\n    foreign key(book_id) references book(id)\n    on update cascade\n    on delete cascade\n);\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/7.%20%E8%A1%A8%E5%85%B3%E7%B3%BB/#_4","title":"\u4e00\u5bf9\u4e00","text":"<pre><code>\"\"\"\n\u200b\u5355\u9879\u200b\u7684\u200b\u4e00\u5bf9\u200b\u90fd\u200b\u4e0d\u200b\u6210\u7acb\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4ed6\u4eec\u200b\u7684\u200b\u5173\u7cfb\u200b\u5c31\u662f\u200b\u4e00\u5bf9\u4e00\u200b \u200b\u6216\u8005\u200b\u6ca1\u6709\u200b\u5173\u7cfb\u200b\n\u200b\u5ba2\u6237\u200b\u8868\u200b\u548c\u200b\u5b66\u751f\u200b\u8868\u200b\n\u200b\u5728\u200b\u62a5\u540d\u200b\u4e4b\u524d\u200b\u662f\u200b\u5ba2\u6237\u200b \u200b\u62a5\u540d\u200b\u4e4b\u540e\u200b\u662f\u200b\u5b66\u751f\u200b\n\nqq\u200b\u7528\u6237\u200b\u8868\u200b\n\u200b\u5ba2\u6237\u200b\u4e0e\u200b\u5b66\u751f\u200b\u8868\u200b\n    \u200b\u5f53\u200b\u4f60\u200b\u4e00\u5f20\u200b\u8868\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u5e76\u200b\u4e0d\u200b\u90fd\u200b\u662f\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b57\u6bb5\u200b\u6709\u200b\u7279\u522b\u200b\u7684\u200b\u591a\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u4f60\u200b\u5c31\u200b\u5e94\u8be5\u200b\u8003\u8651\u200b\u5206\u8868\u200b\uff0c\u200b\u7136\u540e\u200b\u505a\u200b\u4e00\u5bf9\u4e00\u200b\u7684\u200b\u5173\u8054\u200b\n    \u200b\u8282\u7701\u200b\u67e5\u8be2\u200b\u65f6\u95f4\u200b\u548c\u200b\u4f20\u8f93\u200b\u65f6\u95f4\u200b\n\n\"\"\"\n\u200b\u4e00\u5bf9\u4e00\u200b \u200b\u5916\u952e\u200b\u5b57\u200b\u6bb5\u200b\u5efa\u5728\u200b\u4efb\u610f\u200b\u4e00\u65b9\u200b\u90fd\u200b\u53ef\u4ee5\u200b \u200b\u4f46\u662f\u200b\u63a8\u8350\u200b\u4f60\u200b\u5efa\u5728\u200b\u67e5\u8be2\u200b\u9891\u7387\u200b\u6bd4\u8f83\u200b\u9ad8\u200b\u7684\u200b\u8868\u4e2d\u200b\ncreate  table authordetail( # \u200b\u4f5c\u8005\u200b\u8be6\u7ec6\u4fe1\u606f\u200b\n    id int primary key auto_increment,\n    phone int,\n    addr varchar(64)\n);\ncreate table author_(\n    id int primary key auto_increment,\n    name varchar(32),\n    age int,\n    authordetail_id int unique,\n    foreign key(authordetail_id) references authordetail(id)\n    on update cascade\n    on delete cascade\n);\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/8.%20%E4%BF%AE%E6%94%B9%E8%A1%A8/","title":"8. \u200b\u4fee\u6539\u200b\u8868","text":"<pre><code>\"\"\"\n1\u3001\u200b\u4fee\u6539\u200b\u8868\u540d\u200b\n    alter table \u200b\u8868\u540d\u200b rename \u200b\u65b0\u8868\u540d\u200b;\n\n2\u3001\u200b\u589e\u52a0\u200b\u5b57\u200b\u6bb5\u200b\n    alter table \u200b\u8868\u540d\u200b add \u200b\u5b57\u6bb5\u540d\u200b \u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b(\u200b\u5bbd\u5ea6\u200b) \u200b\u7ea6\u675f\u6761\u4ef6\u200b;\n    alter table \u200b\u8868\u540d\u200b add \u200b\u5b57\u6bb5\u540d\u200b \u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b(\u200b\u5bbd\u5ea6\u200b) \u200b\u7ea6\u675f\u6761\u4ef6\u200b first;\n    alter table \u200b\u8868\u540d\u200b add \u200b\u5b57\u6bb5\u540d\u200b \u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b(\u200b\u5bbd\u5ea6\u200b) \u200b\u7ea6\u675f\u6761\u4ef6\u200b after \u200b\u5b57\u6bb5\u540d\u200b;\n\n3\u3001\u200b\u5220\u9664\u200b\u5b57\u200b\u6bb5\u200b\n    alter table \u200b\u8868\u540d\u200b drop \u200b\u5b57\u6bb5\u540d\u200b;\n\n4\u3001\u200b\u4fee\u6539\u200b\u5b57\u200b\u6bb5\u200b\n    alter table \u200b\u8868\u540d\u200b modify \u200b\u5b57\u6bb5\u540d\u200b \u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b(\u200b\u5bbd\u5ea6\u200b) \u200b\u7ea6\u675f\u6761\u4ef6\u200b;\n    alter table \u200b\u8868\u540d\u200b change \u200b\u65e7\u200b\u5b57\u6bb5\u540d\u200b \u200b\u65b0\u200b\u5b57\u6bb5\u540d\u200b(\u200b\u5bbd\u5ea6\u200b) \u200b\u7ea6\u675f\u6761\u4ef6\u200b;\n\n\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/9.%20%E5%A4%8D%E5%88%B6%E8%A1%A8/","title":"9. \u200b\u590d\u5236\u200b\u8868","text":"<pre><code>\"\"\"\n\u200b\u6211\u4eec\u200bsql\u200b\u8bed\u53e5\u200b\u67e5\u8be2\u200b\u7684\u200b\u7ed3\u679c\u200b\u5176\u5b9e\u200b\u4e5f\u200b\u662f\u200b\u4e00\u5f20\u200b\u865a\u62df\u200b\u8868\u200b\n\u200b\u4e0d\u80fd\u200b\u590d\u5236\u200b\u4e3b\u952e\u200b\u3001\u200b\u5916\u952e\u200b..\n\"\"\"\ncreate table \u200b\u8868\u540d\u200b select * from \u200b\u65e7\u8868\u200b; \n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/1.%20%E6%95%B4%E5%BD%A2/","title":"\u6574\u5f62","text":"<ul> <li>\u200b\u5206\u7c7b\u200b</li> </ul> <p>TINYINT SMALLINT MEDUIMINT INT BIGINT</p> <ul> <li>\u200b\u4f5c\u7528\u200b</li> </ul> <p>\u200b\u5b58\u50a8\u200b\u5e74\u9f84\u200b\u3001\u200b\u7b49\u7ea7\u200b\u3001id\u3001\u200b\u53f7\u7801\u200b\u7b49\u200b</p> <pre><code>\"\"\"\n\u200b\u4ee5\u200bTINYINT\n    \u200b\u662f\u5426\u200b\u6709\u200b\u7b26\u53f7\u200b\n        \u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u662f\u200b\u5e26\u7b26\u53f7\u200b\u7684\u200b\n    \u200b\u8d85\u51fa\u200b\u4f1a\u200b\u5982\u4f55\u200b\n        \u200b\u8d85\u51fa\u200b\u9650\u5236\u200b\u53ea\u5b58\u200b\u6700\u5927\u200b\u53ef\u200b\u63a5\u53d7\u200b\u503c\u200b\n\"\"\"\ncreate table t9(id tinyint);\ninsert into t9 values(-129),(256);\n\n# \u200b\u7ea6\u675f\u6761\u4ef6\u200b\u4e4b\u200bunsigned \u200b\u65e0\u200b\u7b26\u53f7\u200b\ncreate table t10(id tinyint unsigned);\n\ncreate table t11(id int);\n# int\u200b\u9ed8\u8ba4\u200b\u4e5f\u200b\u662f\u200b\u5e26\u7b26\u53f7\u200b\u7684\u200b\n# \u200b\u6574\u5f62\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u90fd\u200b\u662f\u200b\u5e26\u7b26\u53f7\u200b\u7684\u200b\n\n# \u200b\u9488\u5bf9\u200b\u6574\u5f62\u200b \u200b\u62ec\u53f7\u200b\u5185\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u662f\u200b\u5230\u5e95\u200b\u662f\u200b\u5e72\u561b\u200b\u7684\u200b\ncreate table t12(id int(8));\ninsert into t12 values(123456789);\n\n\"\"\"\n\u200b\u7279\u5217\u200b\uff1a\u200b\u53ea\u6709\u200b\u6574\u5f62\u200b\u62ec\u53f7\u200b\u91cc\u9762\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u662f\u200b\u8868\u793a\u200b\u9650\u5236\u200b\u4f4d\u6570\u200b\u800c\u662f\u200b\u663e\u793a\u200b\u957f\u5ea6\u200b\nid int(8)\n    \u200b\u5982\u679c\u200b\u6570\u5b57\u200b\u6ca1\u6709\u200b\u8d85\u8fc7\u200b8\u200b\u4f4d\u200b \u200b\u90a3\u4e48\u200b\u9ed8\u8ba4\u200b\u7528\u200b0\u200b\u586b\u5145\u200b\n    \u200b\u5982\u679c\u200b\u6570\u5b57\u200b\u8d85\u8fc7\u200b\u4e86\u200b8\u200b\u4f4d\u200b \u200b\u90a3\u4e48\u200b\u6709\u200b\u51e0\u4f4d\u200b\u5c31\u5b58\u200b\u51e0\u4f4d\u200b\uff08\u200b\u4f46\u200b\u8fd8\u662f\u200b\u8981\u200b\u9075\u5b88\u200b\u6700\u5927\u200b\u8303\u56f4\u200b\uff09\n\"\"\"\n\n#\u200b\u7528\u200b0\u200b\u586b\u5145\u200b\u81f3\u200b8\u200b\u4f4d\u200b\ncreate table t13(id int(8) unsigned zerofill)\n\n# \u200b\u603b\u7ed3\u200b\n    \u200b\u9488\u5bf9\u200b\u6574\u5f62\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u62ec\u53f7\u200b\u5185\u200b\u65e0\u9700\u200b\u6307\u5b9a\u200b\u5bbd\u5ea6\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u9ed8\u8ba4\u200b\u5bbd\u5ea6\u200b\u8db3\u591f\u200b\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/2.%20%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F/","title":"\u4e25\u683c\u200b\u6a21\u5f0f","text":"<pre><code># \u200b\u5982\u4f55\u200b\u67e5\u770b\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\nshow variables like \"%mode\";\n\n\u200b\u6a21\u7cca\u200b\u5339\u914d\u200b/\u200b\u67e5\u8be2\u200b\n    \u200b\u5173\u952e\u5b57\u200b like\n        %\uff1a\u200b\u5339\u914d\u200b\u4efb\u610f\u200b\u7684\u200b\u591a\u4e2a\u200b\u5b57\u7b26\u200b\n        _\uff1a\u200b\u5339\u914d\u200b\u4efb\u610f\u200b\u7684\u200b\u5355\u4e2a\u200b\u5b57\u7b26\u200b\n\n# \u200b\u4fee\u6539\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\nset session;    # \u200b\u53ea\u200b\u5728\u200b\u5f53\u524d\u200b\u7a97\u53e3\u200b\u6709\u6548\u200b\nset global;  # \u200b\u5168\u5c40\u200b\u6709\u6548\u200b\nset global sql_mode = 'STRICT_TRANS_TABLES';\n\n# \u200b\u4fee\u6539\u200b\u5b8c\u540e\u200b \u200b\u91cd\u542f\u200b\u670d\u52a1\u7aef\u200b\u5373\u53ef\u200b\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/3.%20%E6%B5%AE%E7%82%B9%E5%9E%8B/","title":"3. \u200b\u6d6e\u70b9\u200b\u578b","text":"<ul> <li>\u200b\u5206\u7c7b\u200b</li> </ul> <p>FLOAT DOUBLE DECIMAL</p> <ul> <li>\u200b\u4f5c\u7528\u200b</li> </ul> <p>\u200b\u8eab\u9ad8\u200b\u3001\u200b\u4f53\u91cd\u200b\u3001\u200b\u85aa\u8d44\u200b</p> <pre><code># \u200b\u5b58\u50a8\u200b\u9650\u5236\u200b\nfloat(255, 30)  # \u200b\u603b\u5171\u200b255\u200b\u4f4d\u200b \u200b\u5c0f\u6570\u200b\u90e8\u5206\u200b\u5360\u200b30\u200b\u4f4d\u200b\ndouble(255,30)  # \u200b\u603b\u5171\u200b255\u200b\u4f4d\u200b \u200b\u5c0f\u6570\u200b\u90e8\u5206\u200b\u5360\u200b30\u200b\u4f4d\u200b\ndecimal(65,30)  # \u200b\u603b\u5171\u200b65\u200b\u4f4d\u200b \u200b\u5c0f\u6570\u200b\u90e8\u5206\u200b\u5360\u200b30\u200b\u4f4d\u200b\n\n# \u200b\u7cbe\u51c6\u5ea6\u200b\u9a8c\u8bc1\u200b\ncreate table t15(id float(255,30));\ncreate table t16(id double(255,30));\ncreate table t17(id decimal(65,30));\n\ninsert into t15 values(1.1111111111111111111111111111111);\ninsert into t16 values(1.1111111111111111111111111111111);\ninsert into t17 values(1.1111111111111111111111111111111);\n\nfloat &lt; deuble &lt; decimal\n# \u200b\u8981\u200b\u7ed3\u5408\u5b9e\u9645\u200b\u5e94\u7528\u200b\u573a\u666f\u200b \u200b\u4e09\u8005\u200b\u90fd\u200b\u80fd\u200b\u4f7f\u7528\u200b\n\u200b\u6211\u200b\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/4.%20%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/","title":"4. \u200b\u5b57\u7b26\u200b\u7c7b\u578b","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/4.%20%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/#_1","title":"\u5206\u7c7b","text":"<pre><code>\"\"\"\nchar \n    \u200b\u5b9a\u200b\u957f\u200b\n    char(4) \u200b\u6570\u636e\u200b\u8d85\u8fc7\u200b\u56db\u4e2a\u200b\u5b57\u7b26\u200b \u200b\u4e0d\u591f\u200b\u7528\u200b\u56db\u4e2a\u200b\u7a7a\u683c\u200b\u8865\u5168\u200b\nvarchar\n    \u200b\u53d8\u200b\u957f\u200b\n    varchar(4)  \u200b\u6570\u636e\u200b\u8d85\u8fc7\u200b\u56db\u4e2a\u200b\u5b57\u7b26\u200b\u76f4\u63a5\u200b\u62a5\u9519\u200b \u200b\u4e0d\u591f\u200b\u6709\u200b\u51e0\u4e2a\u200b\u5b58\u200b\u51e0\u4e2a\u200b\n\"\"\"\ncreate table t18(name char(4));\ncreate table t18(name varchar(4));\n\ninsert into t18 values('a');\ninsert into t19 values('a');\n\n# \u200b\u6280\u5de7\u200b\uff1a char_length\u200b\u7edf\u8ba1\u200b\u5b57\u200b\u6bb5\u957f\u5ea6\u200b\nselect char_length(name) from t18;\nselect char_length(name) from t19;\n\"\"\"\n\u200b\u9996\u5148\u200b\u53ef\u4ee5\u200b\u80af\u5b9a\u200b\u7684\u200b\u662f\u200bchar\u200b\u786c\u76d8\u200b\u4e0a\u5b58\u200b\u7684\u200b\u662f\u200b\u7edd\u5bf9\u200b\u662f\u200b\u771f\u6b63\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5e26\u6709\u200b\u7a7a\u683c\u200b\u7684\u200b\n\u200b\u4f46\u662f\u200b\u5728\u200b\u663e\u793a\u200b\u7684\u200b\u65f6\u5019\u200bMysql\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5c06\u200b\u591a\u4f59\u200b\u7684\u200b\u7a7a\u683c\u200b\u5220\u9664\u200b\n\"\"\"\n\n# \u200b\u518d\u6b21\u200b\u4fee\u6539\u200bsql_mode \u200b\u8ba9\u200bMysql\u200b\u4e0d\u8981\u200b\u505a\u200b\u81ea\u52a8\u200b\u5254\u9664\u200b\u64cd\u4f5c\u200b\nset global sql_mode = 'STRICT_TRANS_TABLES,PAD_CHAR_TO_FULL_LENGTH';\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/4.%20%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B/#charvarchar","title":"char\u200b\u4e0e\u200bvarchar\u200b\u7684\u200b\u5bf9\u6bd4","text":"<pre><code>\"\"\"\nchar\n    \u200b\u7f3a\u70b9\u200b\uff1a\u200b\u6d6a\u8d39\u200b\u7a7a\u95f4\u200b\n    \u200b\u4f18\u70b9\u200b\uff1a\u200b\u5b58\u53d6\u200b\u90fd\u200b\u5f88\u200b\u7b80\u5355\u200b\n        \u200b\u76f4\u63a5\u200b\u6309\u7167\u200b\u56fa\u5b9a\u200b\u7684\u200b\u5b57\u7b26\u200b\u5b58\u53d6\u6570\u636e\u200b\u5373\u53ef\u200b\n        \u200b\u5b58\u200b\u6309\u7167\u200b\u4e94\u4e2a\u200b\u5b57\u7b26\u200b\u5b58\u200b\uff0c\u200b\u53d6\u200b\u4e5f\u200b\u76f4\u63a5\u200b\u6309\u7167\u200b\u4e94\u4e2a\u200b\u5b57\u7b26\u200b\u53d6\u200b\nvarchar\n    \u200b\u4f18\u70b9\u200b\uff1a\u200b\u8282\u7701\u200b\u7a7a\u95f4\u200b\n    \u200b\u7f3a\u70b9\u200b\uff1a\u200b\u5b58\u53d6\u200b\u6bd4\u8f83\u200b\u9ebb\u70e6\u200b\n        \u200b\u5b58\u200b\u7684\u200b\u65f6\u5019\u200b\u9700\u8981\u200b\u5236\u4f5c\u200b\u62a5\u5934\u200b\n        \u200b\u53d6\u200b\u7684\u200b\u65f6\u5019\u200b\u4e5f\u200b\u9700\u8981\u200b\u8bfb\u53d6\u200b\u62a5\u5934\u200b\uff0c\u200b\u4e4b\u540e\u200b\u624d\u80fd\u200b\u8bfb\u53d6\u200b\u771f\u5b9e\u200b\u7684\u200b\u6570\u636e\u200b\n\n\u200b\u4ee5\u524d\u200b\u57fa\u672c\u200b\u90fd\u200b\u662f\u200b\u7528\u200b\u7684\u200bchar \u200b\u5176\u5b9e\u200b\u73b0\u5728\u200b\u7528\u200bvarchar\u200b\u4e5f\u200b\u633a\u200b\u591a\u200b\u7684\u200b\n\u200b\u540e\u9762\u200b\u968f\u4fbf\u200b\u4f60\u200b\u7528\u200b\u54ea\u4e2a\u200b \u200b\u5efa\u8bae\u200b\u7528\u200bvarchar\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5.%20%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B/","title":"5. \u200b\u65e5\u671f\u200b\u7c7b\u578b","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5.%20%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B/#_1","title":"\u5206\u7c7b","text":"<p>date\uff1a\u200b\u5e74\u6708\u65e5\u200b 2020-5-4 datetime: \u200b\u5e74\u6708\u65e5\u200b\u5206\u79d2\u200b 2020-5-4 11\uff1a11\uff1a11 time: \u200b\u65f6\u5206\u79d2\u200b 11\uff1a11\uff1a11 Year\uff1a2020 ```python create table student(     id int,     name varchar(16),     born_year year,     birth date,     study_time time,     reg_time datetime ) insert into student values(1,'egon','1990','1880-11-11','11:11:11','2020-11-11 11:11:11');</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/6.%20%E6%9E%9A%E4%B8%BE%E5%92%8C%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B/","title":"6. \u200b\u679a\u4e3e\u200b\u548c\u200b\u96c6\u5408\u200b\u7c7b\u578b","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/6.%20%E6%9E%9A%E4%B8%BE%E5%92%8C%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B/#_1","title":"\u5206\u7c7b","text":"<pre><code>\"\"\"\n\u200b\u679a\u4e3e\u200b\uff08enum\uff09\u200b\u591a\u9009\u200b\u4e00\u200b\n\u200b\u96c6\u5408\u200b\uff08set\uff09 \u200b\u591a\u9009\u591a\u200b\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/6.%20%E6%9E%9A%E4%B8%BE%E5%92%8C%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B/#_2","title":"\u5177\u4f53\u200b\u8c03\u7528","text":"<pre><code>create table user(\n    id int,\n    name char(16),\n    gender enum('male'),\n    gender enum('male','female','others')\n);\n\ninsert into user values(1,'jason','male');\ninsert into user values(2,'egon','tflaf')\n# \u200b\u679a\u4e3e\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u540e\u671f\u200b\u5728\u200b\u5b58\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\u53ea\u80fd\u200b\u4ece\u200b\u679a\u4e3e\u200b\u91cc\u9762\u200b\u9009\u62e9\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u200b\n\ncreate table teacher(\n    id int,\n    name char(16),\n    gender enum('male','femle','others'),\n    hobby set('read','DBJ','hecha')\n)\ninsert into teacher values(1,'jason','male','read');\ninsert into teacher values(2,'egon','female','DBJ,hecha');\ninsert into teacher values(3,'egon','female','DBJ,hecha');\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/MySQL/5.%20%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/6.%20%E6%9E%9A%E4%B8%BE%E5%92%8C%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B/#_3","title":"\u603b\u7ed3","text":"<pre><code>\"\"\"\n\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b\n\u200b\u4e25\u683c\u200b\u6a21\u5f0f\u200b\n\n\u200b\u7ea6\u675f\u6761\u4ef6\u200b\n    not null\n    zerofill\n    unsigned\n\"\"\"\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","title":"Python\u200b\u5de5\u5320\u200b\u5b66\u4e60\u200b\u7b14\u8bb0","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_1","title":"\u53d8\u91cf\u200b\u4e0e\u200b\u6ce8\u91ca","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_2","title":"\u53d8\u91cf\u200b\u89e3\u5305","text":"<p>\u200b\u5728\u200b\u53d8\u91cf\u200b\u8d4b\u503c\u200b\u8bed\u53e5\u200b\u6dfb\u52a0\u200b\u5c0f\u62ec\u53f7\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e00\u6b21\u6027\u200b\u5c55\u5f00\u200b\u591a\u5c42\u200b\u5d4c\u5957\u200b\u6570\u636e\u200b\uff1a <pre><code>In [13]: attrs = [1, [\"xiaoming\", 100]]\n\nIn [14]: user_id, (username, score) = attrs\n\nIn [15]: username\nOut[15]: 'xiaoming'\n</code></pre></p> <p>\u200b\u7528\u200b\u661f\u53f7\u200b\u8868\u8fbe\u5f0f\u200b(*variables)\u200b\u4f5c\u4e3a\u200b\u53d8\u91cf\u540d\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u8d2a\u5a6a\u200b\u5730\u200b\u6355\u83b7\u200b\u591a\u4e2a\u200b\u503c\u200b\uff1a <pre><code>In [16]: data = [\"piglei\", \"apple\", \"orange\", \"banana\", 100]\n\nIn [17]: username, *fruits, score = data\n\nIn [18]: fruits\nOut[18]: ['apple', 'orange', 'banana']\n</code></pre></p> <p>\u200b\u89e3\u5305\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u5728\u200b\u5faa\u73af\u200b\u91cc\u9762\u200b\uff1a <pre><code>In [19]: for username, score in [(\"piglei\", 100), (\"raymond\", 60)]:\n    ...:     print(username, score)\n    ...:\npiglei 100\nraymond 60\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_3","title":"\u7ed9\u200b\u53d8\u91cf\u200b\u6ce8\u660e\u200b\u7c7b\u578b","text":"<pre><code>In [20]: from typing import List\n\nIn [21]: def remove_invalid(items: List[int]):\n    ...:     \"\"\"\n    ...:     \u200b\u5254\u9664\u200bitems\u200b\u91cc\u9762\u200b\u65e0\u6548\u200b\u5143\u7d20\u200b\n    ...:     \"\"\"\n    ...:  \n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#pep8","title":"\u9075\u5faa\u200bPEP8\u200b\u539f\u5219","text":"<ul> <li>\u200b\u5bf9\u4e8e\u200b\u666e\u901a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u4f7f\u7528\u200b\u86c7\u5f62\u200b\u547d\u540d\u200b\u6cd5\u200b\uff0c\u200b\u6bd4\u5982\u200bmax_value</li> <li>\u200b\u5bf9\u4e8e\u200b\u5e38\u91cf\u200b\uff0c\u200b\u91c7\u7528\u200b\u5168\u200b\u5927\u5199\u5b57\u6bcd\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e0b\u5212\u7ebf\u200b\u8fde\u63a5\u200b\uff0c\u200b\u6bd4\u5982\u200bMAX_VALUE</li> <li>\u200b\u5982\u679c\u200b\u53d8\u91cf\u200b\u6807\u8bb0\u200b\u4e3a\u200b\u201d\u200b\u4ec5\u200b\u5185\u90e8\u200b\u4f7f\u7528\u200b\u201c\uff0c\u200b\u4e3a\u200b\u5176\u200b\u589e\u52a0\u200b\u4e0b\u5212\u7ebf\u200b\u524d\u7f00\u200b\uff0c\u200b\u6bd4\u5982\u200b_local_var</li> <li>\u200b\u5f53\u200b\u540d\u5b57\u200b\u4e0e\u200bPython\u200b\u5173\u952e\u5b57\u200b\u51b2\u7a81\u200b\u65f6\u200b\uff0c\u200b\u5728\u200b\u53d8\u91cf\u200b\u672b\u5c3e\u200b\u8ffd\u52a0\u200b\u4e0b\u5212\u7ebf\u200b\uff0c\u200b\u6bd4\u5982\u200bclass_</li> <li>... PEP8\u200b\u8fd8\u6709\u200b\u8bb8\u591a\u200b\u5176\u5b83\u200b\u547d\u540d\u200b\u89c4\u8303\u200b\uff0c\u200b\u6bd4\u5982\u200b\u7c7b\u540d\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b\u9a7c\u5cf0\u200b\u98ce\u683c\u200b(FooClass)\uff0c\u200b\u51fd\u6570\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200b\u86c7\u5f62\u200b\u98ce\u683c\u200b\uff08bar_function\uff09\u200b\u7b49\u7b49\u200b</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_4","title":"\u6570\u503c\u200b\u4e0e\u200b\u5b57\u7b26\u4e32","text":"<p>\u200b\u5728\u200b\u5b9a\u4e49\u200b\u6570\u503c\u200b\u5b57\u9762\u200b\u91cf\u200b\u65f6\u200b\uff0c\u200b\u5982\u679c\u200b\u6570\u5b57\u200b\u7279\u522b\u200b\u957f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b_\u200b\u5206\u9694\u7b26\u200b\u6765\u200b\u8ba9\u200b\u5b83\u200b\u53d8\u5f97\u200b\u66f4\u200b\u6613\u8bfb\u200b\uff1a <pre><code>In [1]: i = 1_000_000\n\nIn [2]: i + 1\nOut[2]: 1000001\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_5","title":"\u6d6e\u70b9\u6570\u200b\u7cbe\u5ea6\u200b\u95ee\u9898","text":"<pre><code>In [3]: from decimal import Decimal\n\nIn [4]: Decimal(\"0.1\") + Decimal(\"0.2\")\nOut[4]: Decimal('0.3')\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_6","title":"\u5e03\u5c14\u503c\u200b\u4e5f\u200b\u662f\u200b\u6570\u5b57","text":"<pre><code>In [5]: int(True), int(False)\nOut[5]: (1, 0)\n</code></pre> <p>\u200b\u8ba1\u7b97\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\u6709\u200b\u591a\u5c11\u200b\u4e2a\u200b\u5076\u6570\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff1a <pre><code>In [6]: numbers = [1,2,3,4,5,6,7]\n\nIn [7]: sum(i % 2 == 0 for i in numbers)\nOut[7]: 3\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_7","title":"\u5b57\u7b26\u4e32\u200b\u5f53\u200b\u5e8f\u5217\u200b\u64cd\u4f5c","text":"<p>\u200b\u53cd\u8f6c\u200b\u5b57\u7b26\u4e32\u200b\uff1a <pre><code>In [9]: s = \"hello,world\"\n\nIn [10]: s[::-1]\nOut[10]: 'dlrow,olleh'\n\nIn [11]: ''.join(reversed(s))\nOut[11]: 'dlrow,olleh'\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_8","title":"\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u5316","text":"<p>str.format\u200b\u548c\u200bf-string\u200b\u5171\u4eab\u200b\u4e86\u200b\u540c\u200b\u4e00\u79cd\u200b\u590d\u6742\u200b\u7684\u200b\u201c\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u5316\u200b\u5fae\u200b\u8bed\u8a00\u200b\u201d\uff0c\u200b\u901a\u8fc7\u200b\u8fd9\u79cd\u200b\u5fae\u200b\u8bed\u8a00\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u65b9\u4fbf\u200b\u5730\u200b\u5bf9\u200b\u5b57\u7b26\u4e32\u200b\u8fdb\u884c\u200b\u4e8c\u6b21\u200b\u52a0\u5de5\u200b\uff0c\u200b\u7136\u540e\u200b\u8f93\u51fa\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff1a <pre><code>In [16]: \"{:&gt;20}\".format(name)\nOut[16]: '              yanghe'\n\nIn [17]: f\"{name:&gt;20}\"\nOut[17]: '              yanghe'\n</code></pre></p> <p>\u200b\u867d\u7136\u200bf-string\u200b\u62a2\u8d70\u200bstr.format\u200b\u7684\u200b\u5927\u90e8\u5206\u200b\u98ce\u5934\u200b\uff0c\u200b\u4f46\u662f\u200b\u540e\u8005\u200b\u4ecd\u7136\u200b\u6709\u7740\u200b\u81ea\u5df1\u200b\u72ec\u5230\u4e4b\u5904\u200b\uff0c\u200b\u6bd4\u5982\u200bstr.format\u200b\u652f\u6301\u200b\u7528\u200b\u4f4d\u7f6e\u200b\u53c2\u6570\u200b\u6765\u200b\u683c\u5f0f\u5316\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u5bf9\u200b\u53c2\u6570\u200b\u7684\u200b\u91cd\u590d\u4f7f\u7528\u200b\uff1a <pre><code>In [18]: \"{0}: name={0} socre={1}\".format(\"yanghe\",100)\nOut[18]: 'yanghe: name=yanghe socre=100'\n</code></pre></p> <p>\u200b\u66f4\u200b\u591a\u200b\u4fe1\u606f\u200b\u67e5\u770b\u200b\u5b98\u65b9\u200b\u7684\u200bFormat Specification Mini-Language string \u2014 Common string operations \u2014 Python 3.11.1 documentation</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_9","title":"\u62fc\u63a5\u200b\u591a\u4e2a\u200b\u5b57\u7b26\u4e32","text":"<pre><code>In [20]: for i in range(10):\n    ...:     words.append(f\"Value: {i + 1}\")\n    ...:\nIn [22]: print('\\n'.join(words))\nNumbers(1-10):\nValue: 1\nValue: 2\nValue: 3\nValue: 4\nValue: 5\nValue: 6\nValue: 7\nValue: 8\nValue: 9\nValue: 10\n</code></pre> <p>\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u8fd9\u4e48\u200b\u5e72\u200b\uff1a <pre><code>In [25]: s = \"Numbers(1-10):\"\n\nIn [26]: for i in range(10):\n    ...:     s += f\"\\nValue: {i + 1}\"\n    ...:\n\nIn [27]: print(s)\nNumbers(1-10):\nValue: 1\nValue: 2\nValue: 3\nValue: 4\nValue: 5\nValue: 6\nValue: 7\nValue: 8\nValue: 9\nValue: 10\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_10","title":"\u4e0d\u200b\u5e38\u7528\u200b\u4f46\u200b\u7279\u522b\u200b\u597d\u7528\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u65b9\u6cd5","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#isdigit","title":"isdigit","text":"<p>\u200b\u5224\u65ad\u200b\u5b57\u7b26\u4e32\u200b\u662f\u4e0d\u662f\u200b\u53ea\u200b\u5305\u542b\u200b\u6570\u5b57\u200b <pre><code>In [29]: \"123\".isdigit()\nOut[29]: True\n\nIn [30]: \"sss123\".isdigit()\nOut[30]: False\n\nIn [31]: \"sssssssssss\".isdigit()\nOut[31]: False\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#partition","title":"partition","text":"<p>\u200b\u6309\u200b\u6307\u5b9a\u200b\u5b57\u7b26\u200b\u5206\u5272\u200b\uff0c\u200b\u8fd4\u56de\u200bvalue\uff0c\u200b\u5982\u679c\u200b\u6ca1\u6709\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b57\u7b26\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u8fd4\u56de\u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b <pre><code>In [34]: \"key:value\".partition(\":\")[-1]\nOut[34]: 'value'\n\nIn [35]: \"key\".partition(\":\")\nOut[35]: ('key', '', '')\n\nIn [36]: \"key\".partition(\":\")[-1]\nOut[36]: ''\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#translate","title":"translate","text":"<p>\u200b\u66ff\u6362\u200b\u6307\u5b9a\u200b\u7684\u200b\u5b57\u7b26\u200b <pre><code>In [37]: s = \"\u200b\u660e\u660e\u200b\u662f\u200b\u4e2d\u6587\u200b, \u200b\u5374\u200b\u7528\u200b\u7684\u200b\u82f1\u6587\u200b\u6807\u70b9\u200b.\"\n\nIn [38]: # \u200b\u521b\u5efa\u200b\u66ff\u6362\u200b\u89c4\u5219\u200b\u8868\u200b\uff1a',' -&gt; '\uff0c' '.' -&gt; '\u3002'\n\nIn [39]: table = s.maketrans(\",.\", \"\uff0c\u3002\")\n\nIn [40]: s.translate(table)\nOut[40]: '\u200b\u660e\u660e\u200b\u662f\u200b\u4e2d\u6587\u200b\uff0c \u200b\u5374\u200b\u7528\u200b\u7684\u200b\u82f1\u6587\u200b\u6807\u70b9\u200b\u3002'\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_11","title":"\u679a\u4e3e\u200b\u7c7b\u578b","text":"<p>\u200b\u5e38\u91cf\u200b\u548c\u200b\u679a\u4e3e\u200b\u7c7b\u578b\u200b\u4ee3\u66ff\u200b\u5b57\u9762\u200b\u91cf\u200b\u7684\u200b\u597d\u5904\u200b\uff1a - \u200b\u66f4\u200b\u6613\u8bfb\u200b\uff1a\u200b\u6240\u6709\u4eba\u200b\u90fd\u200b\u4e0d\u200b\u9700\u8981\u200b\u8bb0\u5fc6\u200b\u67d0\u4e2a\u200b\u6570\u5b57\u200b\u4ee3\u8868\u200b\u4ec0\u4e48\u200b - \u200b\u66f4\u200b\u5065\u58ee\u200b\uff1a\u200b\u964d\u4f4e\u200b\u8f93\u9519\u200b\u6570\u5b57\u200b\u6216\u200b\u5b57\u6bcd\u200b\u4ea7\u751f\u200bbug\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b <pre><code>from enum import Enum\n\n\nDAILY_POINTS_REWARDS = 100\nVIP_EXTRA_POINTS = 20\n\nclass UserType(int, Enum):\n    VIP = 3\n    BANNED = 13\n\ndef add_daily_points(user):\n    if user.type == UserType.BANNED:\n        return\n    if user.type == UserType.VIP:\n        user.points += DAILY_POINTS_REWARDS + VIP_EXTRA_POINTS\n        return\n    user.points += DAILY_POINTS_REWARDS\n    return\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#todo-sqlalchemy","title":"todo \u200b\u4f7f\u7528\u200bSQLAlchemy\u200b\u6a21\u5757\u200b\u6539\u5199\u200b\u4ee3\u7801","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#jinja2","title":"\u4f7f\u7528\u200bJinja2 \u200b\u6a21\u5757\u200b\u5904\u7406\u200b\u5b57\u7b26\u4e32","text":"<pre><code>from jinja2 import Template\n\n_MOVIES_TEPL = '''\nWelcome, {{ username }}.\n{%for name, rating in movies %}\n* {{ name }}, rating: {{ rating|defult(\"[NOT RATED]\", True) }}\n{%- endfor %}\n'''\n\ndef rander_movies_j2(username, movies):\n    tmpl = Template(_MOVIES_TEPL)\n    return tmpl.render(username=username, movies=movies)\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_12","title":"\u4f7f\u7528\u200b\u7279\u6b8a\u200b\u6570\u5b57\u200b: \"\u200b\u65e0\u7a77\u5927\u200b\"","text":"<p><code>float(\"inf\")</code>\u200b\u548c\u200b<code>float(\"-inf\")</code>\uff0c\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u503c\u200b\u4ee3\u8868\u200b\u6570\u5b66\u200b\u4e16\u754c\u200b\u91cc\u200b\u7684\u200b\u6b63\u8d1f\u200b\u65e0\u7a77\u5927\u200b\u3002\u200b\u6bd4\u5982\u200b\u6709\u200b\u5305\u542b\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u5e74\u9f84\u200b\u7684\u200b\u5b57\u5178\u200b\uff0c\u200b\u6211\u200b\u9700\u8981\u200b\u628a\u200b\u91cc\u9762\u200b\u7684\u200b\u7528\u6237\u540d\u200b\u6309\u7167\u200b\u5e74\u9f84\u200b\u987a\u5e8f\u200b\u6392\u5e8f\u200b\uff0c\u200b\u6ca1\u6709\u200b\u63d0\u4f9b\u200b\u5e74\u9f84\u200b\u7684\u200b\u653e\u5230\u200b\u540e\u9762\u200b\uff0c\u200b\u4f7f\u7528\u200b<code>float(inf)</code>\u200b\u53ef\u4ee5\u200b\u8fd9\u4e48\u200b\u5199\u200b\uff1a <pre><code>def sort_users_inf(users):\n    def key_func(username):\n        age = users[username]\n        # \u200b\u5f53\u200b\u5e74\u9f84\u200b\u4e3a\u200b\u7a7a\u65f6\u200b\uff0c\u200b\u53d1\u6325\u200b\u65e0\u7a77\u5927\u200b\u4f5c\u4e3a\u200bkey\uff0c\u200b\u6240\u4ee5\u200b\u5c31\u4f1a\u200b\u6392\u5230\u200b\u6700\u540e\u200b\n        return age if age is not None else float('inf')\n    return sorted(users.keys(), key=key_func)\n\nusers = {\"tom\":19, \"jenny\":13, \"jack\":None, \"andrew\":43}\nprint(sort_users_inf(users))\n# output:\n# [\"jenny\", \"tom\", \"andrew\", \"jack\"]\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_13","title":"\u6539\u5584\u200b\u957f\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u53ef\u8bfb\u6027","text":"<pre><code>In [4]: s = (\"This is the first line of a long string\"\n   ...: \"this is the second line\")\n\nIn [5]: from loguru import logger\n\nIn [6]: logger.info(s)\n2023-01-02 16:42:47.406 | INFO     | __main__:&lt;module&gt;:1 - This is the first line of a long stringthis is the second line\n\nIn [7]: logger.info(\"This is something really bad happened during the process.\"\n   ...: \"Please contact your administrator.\"\n   ...: )\n2023-01-02 16:44:40.424 | INFO     | __main__:&lt;module&gt;:1 - This is something really bad happened during the process.Please contact your administrator.\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_14","title":"\u4e0d\u200b\u5305\u542b\u200b\u591a\u884c\u200b\u5b57\u7b26\u4e32\u200b\u53f3\u8fb9\u200b\u7684\u200b\u7a7a\u683c","text":"<p>\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6807\u51c6\u200b\u5e93\u200b textwarp\u200b\u6765\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff1a <pre><code>In [8]: from textwrap import dedent\n\nIn [9]: def main():\n   ...:     message = dedent(\"\"\"\\\n   ...:         Welcome, today's movie list:\n   ...:         - Jaw (1975)\n   ...:         - The Shining (1980)\n   ...:         - Saw (2004)\"\"\")\n   ...:     print(message)\n   ...:\n\nIn [10]: main()\nWelcome, today's movie list:\n- Jaw (1975)\n- The Shining (1980)\n- Saw (2004)\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_15","title":"\u5bb9\u5668\u200b\u7c7b\u578b","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_16","title":"\u6ca1\u6709\u200b\u201c\u200b\u5143\u7ec4\u200b\u63a8\u5bfc\u200b\u5f0f\u200b\u201d","text":"<pre><code>In [6]: results = (n * 100 for n in range(10) if n % 2 == 0)\n\nIn [7]: results\nOut[7]: &lt;generator object &lt;genexpr&gt; at 0x000001F79C72A180&gt;\n</code></pre> <p>\u200b\u867d\u7136\u200b\u65e0\u6cd5\u200b\u901a\u8fc7\u200b\u63a8\u5bfc\u200b\u5f0f\u200b\u76f4\u63a5\u200b\u62ff\u5230\u200b\u5143\u7ec4\u200b\uff0c\u200b\u4f46\u200b\u751f\u6210\u5668\u200b\u4ecd\u7136\u200b\u662f\u200b\u4e00\u79cd\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u8fd8\u662f\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u4ed6\u200b\u8c03\u7528\u200btuple()\u200b\u51fd\u6570\u200b\uff0c\u200b\u83b7\u53d6\u200b\u5143\u7ec4\u200b\uff1a <pre><code>In [3]: results = tuple((n * 100 for n in range(10) if n % 2 == 0))\n\nIn [4]: results\nOut[4]: (0, 200, 400, 600, 800)\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_17","title":"\u5177\u540d\u200b\u5143\u7ec4","text":"<p>\u200b\u9664\u4e86\u200b\u7528\u200b\u9017\u53f7\u200b\u6765\u200b\u5206\u9694\u200b\u5177\u540d\u200b\u5143\u7ec4\u200b\u7684\u200b\u5b57\u6bb5\u540d\u200b\u79f0\u200b\u4ee5\u5916\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u7528\u200b\u7a7a\u683c\u200b\u5206\u9694\u200b\uff1a<code>'width height'</code>\uff0c \u200b\u6216\u8005\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u5217\u8868\u200b\uff1a<code>['width','height']</code> <pre><code>In [8]: from collections import namedtuple\n\nIn [9]: Rectangle = namedtuple('Rectangle','width,height')\n</code></pre></p> <pre><code>In [10]: rect = Rectangle(100,20)\n\nIn [11]: rect = Rectangle(width=100, height=20)\n\nIn [12]: rect[0]\nOut[12]: 100\n\nIn [13]: rect.width\nOut[13]: 100\n\nIn [14]: rect.width += 1\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nCell In[14], line 1\n----&gt; 1 rect.width += 1\n\nAttributeError: can't set attribute\n</code></pre> <p>\u200b\u5728\u200bPython3.6\u200b\u7248\u672c\u200b\u4ee5\u540e\u200b\uff0c\u200b\u9664\u4e86\u200b\u4f7f\u7528\u200b<code>namedtuple()</code>\u200b\u51fd\u6570\u200b\u4ee5\u5916\u200b\uff0c\u200b\u4f60\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>typing.NamedTuple</code>\u200b\u548c\u200b\u7c7b\u578b\u200b\u6ce8\u89e3\u200b\u8bed\u6cd5\u200b\u6765\u200b\u5b9a\u4e49\u200b\u5177\u540d\u200b\u5143\u7ec4\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u5728\u200b\u53ef\u8bfb\u6027\u200b\u4e0a\u200b\u66f4\u80dc\u4e00\u7b79\u200b\uff1a <pre><code>In [15]: from typing import NamedTuple\n\nIn [16]: class Rectangle(NamedTuple):\n    ...:     width: int\n    ...:     height: int\n    ...:\n\nIn [17]: rect = Rectangle(100, 20)\n\nIn [18]: rect.width\nOut[18]: 100\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#setdefault","title":"\u4f7f\u7528\u200bsetdefault\u200b\u83b7\u53d6\u200b\u5e76\u200b\u4fee\u6539","text":"<p>\u200b\u8c03\u7528\u200bdict.setdefault(key, default)\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u4e24\u79cd\u200b\u7ed3\u679c\u200b\uff1a - \u200b\u5f53\u200bkey\u200b\u4e0d\u200b\u5b58\u5728\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u628a\u200bdefault\u200b\u503c\u200b\u5199\u5165\u200b\u5b57\u5178\u200b\u7684\u200bkey\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b\u8be5\u503c\u200b - key\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u65f6\u200b\uff0c\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u5c31\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b\u5b83\u200b\u5b57\u5178\u200b\u4e2d\u200b\u7684\u200b\u5bf9\u5e94\u200b\u503c\u200b</p> <pre><code>In [19]: d = {\"title\": \"foobar\"}\n\nIn [20]: d.setdefault(\"items\", []).append(\"foo\")\n\nIn [21]: d\nOut[21]: {'title': 'foobar', 'items': ['foo']}\n\nIn [22]: d.setdefault(\"items\", []).append(\"bar\")\n\nIn [23]: d\nOut[23]: {'title': 'foobar', 'items': ['foo', 'bar']}\n\nIn [25]: d.setdefault(\"items\", [])\nOut[25]: ['foo', 'bar']\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#pop","title":"\u7528\u200bpop\u200b\u5220\u9664\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u952e","text":"<p>\u200b\u7528\u200bdel\u200b\u5220\u9664\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u952e\u62a5\u200b<code>KeyError</code>\uff0c\u200b\u5982\u679c\u200b\u77e5\u8bc6\u200b\u5355\u7eaf\u200b\u5730\u60f3\u200b\u53bb\u6389\u200b\u67d0\u4e2a\u200b\u952e\u200b\uff0c\u200b\u4e0d\u200b\u5173\u5fc3\u200b\u5b83\u200b\u5b58\u5728\u200b\u4e0e\u5426\u200b\uff0c\u200b\u5220\u9664\u200b\u6ca1\u6709\u200b\u5220\u9664\u200b\u6210\u529f\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4f7f\u7528\u200b<code>dict.pop(key, defualt)</code>\u200b\u65b9\u6cd5\u200b\u5c31\u591f\u200b\u4e86\u200b \u200b\u53ea\u8981\u200b\u5728\u200b\u8c03\u7528\u200bpop\u200b\u65b9\u6cd5\u200b\u5730\u200b\u65f6\u5019\u200b\u4f20\u5165\u200b\u9ed8\u8ba4\u503c\u200b<code>None</code>\u200b\u5728\u200b\u952e\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u4ea7\u751f\u200b\u4efb\u4f55\u200b\u5f02\u5e38\u200b\uff1a <pre><code>d.pop(key, None)\n</code></pre></p> <p>\u200b\u4e25\u683c\u6765\u8bf4\u200b\uff0cpop\u200b\u65b9\u6cd5\u200b\u4e3b\u8981\u7528\u9014\u200b\u4e0d\u662f\u200b\u5220\u9664\u200b\u67d0\u4e2a\u200b\u952e\u200b\uff0c\u200b\u800c\u662f\u200b\u5220\u9664\u200b\u83b7\u53d6\u200b\u8fd9\u4e2a\u200b\u952e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u503c\u200b\uff0cpop\u200b\u65b9\u6cd5\u200b\u662f\u200b\u968f\u673a\u200b\u5220\u9664\u200b\u7684\u200b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_18","title":"\u5b57\u5178\u200b\u63a8\u5bfc\u200b\u5f0f","text":"<pre><code>In [30]: d1 = {\"foo\":3, \"bar\":4}\n\nIn [31]: {key: value * 10 for key, value in d1.items() if key == \"foo\"}\nOut[31]: {'foo': 30}\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_19","title":"\u5b57\u5178\u200b\u65e0\u5e8f\u200b\u6027\u200b\u548c\u200b\u6709\u5e8f\u6027","text":"<p>python3.7\u200b\u4e4b\u524d\u200b\u5b57\u5178\u200b\u662f\u200b\u65e0\u5e8f\u200b\u7684\u200b\uff0c3.7\u200b\u4ee5\u540e\u200b\u5b57\u5178\u200b\u662f\u200b\u6709\u5e8f\u200b\u7684\u200b\u3002\u200b\u5982\u679c\u200b\u4f60\u200b\u7684\u200bpython\u200b\u7248\u672c\u200b\u6ca1\u6709\u200b\u90a3\u4e48\u200b\u65b0\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4ece\u200bcollections\u200b\u6a21\u5757\u200b\u91cc\u200b\u65b9\u4fbf\u200b\u5730\u200b\u62ff\u5230\u200b\u53e6\u5916\u200b\u4e00\u4e2a\u200b\u6709\u5e8f\u200b\u5b57\u5178\u200b\u5bf9\u8c61\u200b<code>OrderedDict</code>\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5728\u200bPython3.7\u200b\u4e4b\u524d\u200b\u5730\u200b\u7248\u672c\u200b\u91cc\u200b\u4fdd\u8bc1\u200b\u5b57\u5178\u200b\u6709\u5e8f\u200b\uff1a <pre><code>In [32]: from collections import OrderedDict\n\nIn [33]: d = OrderedDict()\n\nIn [34]: d['first_key'] = 1\n\nIn [35]: d['second_key'] = 2\n\nIn [36]: d\nOut[36]: OrderedDict([('first_key', 1), ('second_key', 2)])\n</code></pre></p> <p><code>OrderedDict</code>\u200b\u4e0e\u200b\u65b0\u7248\u200b\u672c\u5730\u200b\u5b57\u5178\u200b\u6709\u200b\u4e00\u4e9b\u200b\u533a\u522b\u200b\uff1a - \u200b\u65b0\u200b\u7248\u672c\u200b\u5b57\u5178\u200b\u5185\u5bb9\u200b\u4e00\u81f4\u200b\u800c\u200b\u987a\u5e8f\u200b\u4e0d\u540c\u200b\u7684\u200b\u5b57\u5178\u200b\u88ab\u200b\u89c6\u4e3a\u200b\u76f8\u7b49\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u89e3\u91ca\u5668\u200b\u53ea\u200b\u5bf9\u6bd4\u200b\u5b57\u5178\u200b\u7684\u200b\u952e\u200b\u548c\u200b\u503c\u200b\u662f\u5426\u200b\u4e00\u81f4\u200b - \u200b\u540c\u6837\u200b\u7684\u200bOrderedDict\u200b\u88ab\u200b\u89c6\u4e3a\u200b\u4e0d\u200b\u76f8\u7b49\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u201c\u200b\u952e\u200b\u7684\u200b\u987a\u5e8f\u200b\u201d\u200b\u4e5f\u200b\u4f1a\u200b\u4f5c\u4e3a\u200b\u5bf9\u6bd4\u200b\u6761\u4ef6\u200b - OrderedDict\u200b\u8fd8\u6709\u200b.move_to_end()\u200b\u7b49\u200b\u666e\u901a\u200b\u5b57\u5178\u200b\u6ca1\u6709\u200b\u7684\u200b\u4e00\u4e9b\u200b\u65b9\u6cd5\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_20","title":"\u96c6\u5408","text":"<p>\u200b\u96c6\u5408\u200b\u662f\u200b\u65e0\u5e8f\u200b\u7684\u200b\u4e14\u200b\u662f\u200b\u4e0d\u80fd\u200b\u91cd\u590d\u200b\u7684\u200b <pre><code>In [42]: s = set()\n</code></pre></p> <p>\u200b\u96c6\u5408\u200b\u4e5f\u200b\u6709\u200b\u81ea\u5df1\u200b\u7684\u200b\u63a8\u5230\u200b\u5f0f\u200b\u8bed\u6cd5\u200b\uff1a <pre><code>In [46]: nums = [1,2,3,4,1]\n\nIn [47]: {n for n in nums if n &lt; 3}\nOut[47]: {1, 2}\n</code></pre></p> <p>\u200b\u96c6\u5408\u200b\u662f\u200b\u4e00\u79cd\u200b\u53ef\u53d8\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7528\u200b<code>add</code>\u200b\u65b9\u6cd5\u200b\u5411\u200b\u96c6\u5408\u200b\u91cc\u200b\u6dfb\u52a0\u200b\u5143\u7d20\u200b\uff1a <pre><code>In [48]: new_set = set([\"foo\",\"foo\",\"bar\"])\n\nIn [49]: new_set.add(\"apple\")\n\nIn [50]: new_set\nOut[50]: {'apple', 'bar', 'foo'}\n</code></pre></p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u4e0d\u53ef\u200b\u53d8\u200b\u7684\u200b\u96c6\u5408\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5185\u7f6e\u200b\u7c7b\u578b\u200b<code>frozenset</code>\uff0c\u200b\u5b83\u200b\u548c\u200b\u666e\u901a\u200b\u96c6\u5408\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u77e5\u8bc6\u200b\u5c11\u200b\u4e86\u200b\u4fee\u6539\u200b\u96c6\u5408\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a <pre><code>In [48]: new_set = set([\"foo\",\"foo\",\"bar\"])\n\nIn [49]: new_set.add(\"apple\")\n\nIn [50]: new_set\nOut[50]: {'apple', 'bar', 'foo'}\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_21","title":"\u96c6\u5408\u200b\u8fd0\u7b97","text":"<p>\u200b\u4ea4\u96c6\u200b\uff0c\u200b\u4e24\u4e2a\u200b\u96c6\u5408\u200b\u5171\u6709\u200b\u7684\u200b\u5143\u7d20\u200b\uff1a <pre><code>In [53]: fruits_1 = {\"apple\", \"orange\", \"pineapple\"}\n\nIn [54]: fruits_2 = {\"tomato\", \"orange\", \"grapes\", \"mango\"}\n\nIn [55]: fruits_1 &amp; fruits_2\nOut[55]: {'orange'}\n\nIn [56]: fruits_1.intersection(fruits_2)\nOut[56]: {'orange'}\n</code></pre></p> <p>\u200b\u5e76\u96c6\u200b\uff0c\u200b\u4e24\u4e2a\u200b\u96c6\u5408\u200b\u7684\u200b\u5143\u7d20\u200b\u5408\u5e76\u200b\u8d77\u6765\u200b\uff1a <pre><code>In [57]: fruits_1 | fruits_2\nOut[57]: {'apple', 'grapes', 'mango', 'orange', 'pineapple', 'tomato'}\n\nIn [58]: fruits_1.union(fruits_2)\nOut[58]: {'apple', 'grapes', 'mango', 'orange', 'pineapple', 'tomato'}\n</code></pre></p> <p>\u200b\u5dee\u96c6\u200b\uff0c\u200b\u83b7\u5f97\u200b\u524d\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b\u6709\u200b\uff0c\u200b\u540e\u200b\u4e00\u4e2a\u200b\u96c6\u5408\u200b\u6ca1\u6709\u200b\u7684\u200b\u5143\u7d20\u200b\uff1a <pre><code>In [59]: fruits_1 - fruits_2\nOut[59]: {'apple', 'pineapple'}\n\nIn [60]: fruits_1.difference(fruits_2)\nOut[60]: {'apple', 'pineapple'}\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_22","title":"\u6d45\u200b\u62f7\u8d1d\u200b\u548c\u200b\u6df1\u200b\u62f7\u8d1d","text":"<p>\u200b\u6d45\u200b\u62f7\u8d1d\u200b\uff1a <pre><code>In [61]: l = [1,2,3,4]\n\nIn [62]: l_copy = l.copy()\n\nIn [63]: l_copy\nOut[63]: [1, 2, 3, 4]\n</code></pre></p> <p>\u200b\u6df1\u200b\u62f7\u8d1d\u200b\uff1a \u200b\u5728\u200b\u591a\u5c42\u200b\u5217\u8868\u200b\u5d4c\u5957\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4f7f\u7528\u200b\u6d45\u200b\u62f7\u8d1d\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u4ee5\u4e0b\u200b\u60c5\u51b5\u200b <pre><code>In [64]: import copy\n\nIn [65]: items = [1,['foo','bar'],2,3]\n\nIn [66]: items_copy = copy.copy(items)\n\nIn [67]: items[0] = 100\n\nIn [68]: items[1].append('xxx')\n\nIn [69]: items\nOut[69]: [100, ['foo', 'bar', 'xxx'], 2, 3]\n\nIn [70]: items_copy\nOut[70]: [1, ['foo', 'bar', 'xxx'], 2, 3]\n</code></pre></p> <p>\u200b\u4f7f\u7528\u200bid()\u200b\u51fd\u6570\u200b\u6765\u200b\u67e5\u770b\u200b\u4ed6\u4eec\u200b\u7684\u200b\u5bf9\u8c61\u200bID\uff0c\u200b\u4f1a\u200b\u53d1\u73b0\u200b\u4ed6\u4eec\u200b\u5176\u5b9e\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\uff1a <pre><code>In [71]: id(items[1]), id(items_copy[1])\nOut[71]: (2163012718912, 2163012718912)\n</code></pre></p> <p>\u200b\u8981\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>copy.deepcopy()</code>\u200b\u6765\u200b\u8fdb\u884c\u200b\u6df1\u200b\u62f7\u8d1d\u200b\u64cd\u4f5c\u200b\uff1a <pre><code>In [72]: items_deep = copy.deepcopy(items)\n\nIn [73]: id(items[1]), id(items_deep[1])\nOut[73]: (2163012718912, 2163032103104)\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_23","title":"\u6848\u4f8b","text":"<pre><code>from enum import Enum\nfrom collections import defaultdict\nfrom collections.abc import MutableMapping\n\n# \u200b\u679a\u4e3e\u200b\u7c7b\u200b\nclass PagePerfLevel(str, Enum):\n    LT_100 = 'Less than 100 ms'\n    LT_300 = 'Between 100 and 300 ms'\n    LT_1000 = 'Between 300ms and 1s'\n    GT_1000 = 'Greater than 1 s'\n\nclass PerfLevelDict(MutableMapping):\n    \"\"\"\u200b\u5b58\u50a8\u200b\u54cd\u5e94\u200b\u65f6\u95f4\u200b\u6027\u80fd\u200b\u5b57\u5178\u200b\"\"\"\"\n    def __init__(self):\n        self.data = defaultdict(int)\n    def __getitem__(self, key):\n        \"\"\"\u200b\u5f53\u200b\u67d0\u4e2a\u200b\u5fc3\u6897\u200b\u4f60\u200b\u7b49\u7ea7\u200b\u4e0d\u200b\u5b58\u5728\u200b\u65f6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u8fd4\u56de\u200b 0\"\"\"\n        return self.data[self.compute_level(key)]\n    def __setitem__(self, key, value):\n        \"\"\"\u200b\u5c06\u200bkey\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6027\u80fd\u200b\u7b49\u7ea7\u200b\uff0c\u200b\u7136\u540e\u200b\u8bbe\u7f6e\u200b\u503c\u200b\"\"\"\n        self.data[self.compute_level(key)] = value\n    def __delitem__(self, key):\n        del self.data[key]\n    def __iter__(self):\n        return iter(self.data)\n    def items(self):\n        \"\"\"\u200b\u6309\u7167\u200b\u987a\u5e8f\u200b\u8fd4\u56de\u200b\u6027\u80fd\u200b\u7b49\u7ea7\u200b\u6570\u636e\u200b\"\"\"\n        return sorted(\n            self.data.items(),\n            key=lambda pair: list(PagePerfLevel).index(pair[0]),\n        )\n    def total_requests(self):\n        \"\"\"\u200b\u8fd4\u56de\u200b\u603b\u200b\u8bf7\u6c42\u200b\u6570\u200b\"\"\"\n        return sum(self.values())\n    @staticmethod\n    def compute_level(time_cost_str):\n        \"\"\"\u200b\u6839\u636e\u200b\u76f8\u5e94\u200b\u65f6\u95f4\u200b\u8ba1\u7b97\u200b\u6027\u80fd\u200b\u7b49\u7ea7\u200b\"\"\"\n        if time_cost_str in list(PagePerfLevel):\n            return time_cost_str\n        time_const = int(time_cost_str)\n        if time_cost &lt; 100:\n            return PagePerfLevel.LT_100\n        elif time_cost &lt; 300:\n            return PagePerfLevel.LT_300\n        elif time_cost &lt; 1000:\n            return PagePerfLevel.LT_1000\n        return PagePerfLevel.GT_1000\ndef analyze_v2():\n    path_groups = defaultdict(PerfLevelDict)\n    with open(\"logs.txt\", \"r\") as fp:\n        for line in fp:\n            path, time_cost = line.strip().split()\n            path_groups[path][time_cost] += 1\n    for path, result in path_groups.items():\n        print(f\"=== Path: {path}\")\n        print(f\"    Total requests: {result.total_requests()}\")\n        print(f\"    Performance:\")\n        for level_name, count in result.items():\n            print(f\"    - {level_name}: {count}\")\n\n\nif __name__ == \"__main__\":\n    analyze_v2()\n</code></pre> <ul> <li>\u200b\u5728\u200b Python \u200b\u4e2d\u200b\u4ece\u200b\u5b57\u5178\u200b\u548c\u200b\u5217\u8868\u200b\u7ee7\u627f\u200b\u7684\u200b\u95ee\u9898\u200b (treyhunner.com)</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_24","title":"\u907f\u5f00\u200b\u5217\u8868\u200b\u6027\u80fd\u200b\u9677\u9631","text":"<pre><code>In [89]: def list_append():\n    ...:     \"\"\"\u200b\u4e0d\u65ad\u200b\u5f80\u200b\u672b\u5c3e\u200b\u8ffd\u52a0\u200b\"\"\"\n    ...:     l = []\n    ...:     for i in range(5000):\n    ...:         l.append(i)\n    ...:\n\nIn [90]: def list_insert():\n    ...:     \"\"\"\u200b\u4e0d\u65ad\u200b\u5f80\u200b\u5934\u90e8\u200b\u63d2\u5165\u200b\"\"\"\n    ...:     l = []\n    ...:     for i in range(5000):\n    ...:         l.insert(0, i)\n    ...:\n\nIn [91]: import timeit\n\nIn [92]: append_spent = timeit.timeit(\n    ...: setup='from __main__ import list_append',\n    ...: stmt='list_append()',\n    ...: number=10000,\n    ...: )\n\nIn [93]: print(\"list_append:\", append_spent)\nlist_append: 3.082703800057061\n\nIn [94]: insert_spent = timeit.timeit(\n    ...: setup='from __main__ import list_insert',\n    ...: stmt='list_insert()',\n    ...: number=10000,\n    ...: )\n\nIn [95]: print(\"list_insert:\", insert_spent)\nlist_insert: 65.8692352999933\n</code></pre> <p>\u200b\u8fd9\u4e2a\u200b\u6027\u80fd\u200b\u5dee\u8ddd\u200b\u4e0e\u200b\u5217\u8868\u200b\u7684\u200b\u5e95\u5c42\u200b\u5b9e\u73b0\u200b\u6709\u5173\u200b\uff0cPython\u200b\u5728\u200b\u5b9e\u73b0\u200b\u5217\u8868\u200b\u4f7f\u7528\u200b\u4e86\u200b\u6570\u7ec4\u200b\uff08array\uff09\u200b\u6570\u636e\u7ed3\u6784\u200b\u3002\u200b\u8fd9\u79cd\u200b\u7ed3\u6784\u200b\u6700\u5927\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7279\u70b9\u200b\u662f\u200b\uff0c\u200b\u5f53\u200b\u4f60\u200b\u5728\u200b\u6570\u7ec4\u200b\u4e2d\u200b\u63d2\u5165\u200b\u65b0\u200b\u6210\u5458\u200b\u65f6\u200b\uff0c\u200b\u8be5\u200b\u6210\u5458\u200b\u4e4b\u540e\u200b\u7684\u200b\u5176\u5b83\u200b\u6210\u5458\u200b\u90fd\u200b\u8981\u200b\u79fb\u52a8\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u8be5\u200b\u64cd\u4f5c\u200b\u5e73\u5747\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u662f\u200bO(n)\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u5217\u8868\u200b\u7684\u200b\u5934\u90e8\u200b\u63d2\u5165\u200b\u6210\u5458\u200b\uff0c\u200b\u6bd4\u200b\u5728\u200b\u5c3e\u90e8\u200b\u8ffd\u52a0\u200b\u8981\u6162\u200b\u7684\u200b\u591a\u200b\uff0c\u200b\u540e\u8005\u200b\u7684\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u4e3a\u200bO(1)</p> <p>\u200b\u5982\u679c\u200b\u7ecf\u5e38\u200b\u9700\u8981\u200b\u5f80\u200b\u8868\u5934\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\uff0c\u200b\u8bf7\u200b\u4f7f\u7528\u200b<code>collections.deque</code>\u200b\u7c7b\u578b\u200b\u6765\u200b\u66ff\u4ee3\u200b\u5217\u8868\u200b\uff0c\u200b\u56e0\u4e3a\u200b<code>deque</code>\u200b\u5e95\u5c42\u200b\u4f7f\u7528\u200b\u4e86\u200b\u53cc\u7aef\u200b\u961f\u5217\u200b\uff0c\u200b\u65e0\u8bba\u200b\u5728\u200b\u5934\u90e8\u200b\u8fd8\u662f\u200b\u5c3e\u90e8\u200b\u8ffd\u52a0\u200b\u6210\u5458\u200b\uff0c\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u90fd\u200b\u662f\u200bO(1) <pre><code>In [96]: from collections import deque\n\nIn [97]: def deque_append():\n    ...:     \"\"\"\u200b\u4e0d\u65ad\u200b\u5f80\u200b\u5c3e\u90e8\u200b\u8ffd\u52a0\u200b\"\"\"\n    ...:     l = deque()\n    ...:     for i in range(5000):\n    ...:         l.append(i)\n    ...:\n\nIn [98]: def deque_appendleft():\n    ...:     \"\"\"\u200b\u4e0d\u65ad\u200b\u5f80\u200b\u5934\u90e8\u200b\u63d2\u5165\u200b\"\"\"\n    ...:     l = deque()\n    ...:     for i in range(5000):\n    ...:         l.appendleft(i)\n    ...:\n\nIn [99]: append_spent = timeit.timeit(\n    ...: setup='from __main__ import deque_append',\n    ...: stmt='deque_append()',\n    ...: number=10000\n    ...: )\n    ...:\n    ...:\n\nIn [102]: appendleft_spent = timeit.timeit(\n     ...: setup='from __main__ import deque_appendleft',\n     ...: stmt='deque_appendleft',\n     ...: number=10000\n     ...: )\n\nIn [103]: append_spent\nOut[103]: 2.6960844999412075\n\nIn [104]: appendleft_spent\nOut[104]: 0.0001558999065309763\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_25","title":"\u4f7f\u7528\u200b\u96c6\u5408\u200b\u5224\u65ad\u200b\u6210\u5458\u200b\u662f\u5426\u200b\u5b58\u5728","text":"<p>\u200b\u5728\u200b\u5217\u8868\u200b\u4e2d\u200b\u641c\u7d22\u200b\uff0c\u200b\u6709\u70b9\u50cf\u200b\u5728\u200b\u4e00\u672c\u200b\u6ca1\u6709\u200b\u76ee\u5f55\u200b\u7684\u200b\u4e66\u200b\u627e\u200b\u4e00\u4e2a\u200b\u5355\u8bcd\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5728\u200b\u54ea\u200b\uff0c\u200b\u53ea\u80fd\u200b\u4e00\u9875\u200b\u4e00\u9875\u200b\u7ffb\u7740\u200b\u770b\u200b\u3002\u200b\u5b8c\u6210\u200b\u8fd9\u79cd\u200b\u64cd\u4f5c\u200b\u9700\u8981\u200b\u7684\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u662f\u200bO(n)\u3002 \u200b\u5728\u200b\u96c6\u5408\u200b\u4e2d\u200b\u641c\u7d22\u200b\uff0c\u200b\u5c31\u200b\u50cf\u200b\u901a\u8fc7\u200b\u5b57\u5178\u200b\u67e5\u5b57\u200b\uff0c\u200b\u6211\u4eec\u200b\u5148\u200b\u6309\u7167\u200b\u5b57\u200b\u7684\u200b\u62fc\u97f3\u200b\u4ece\u200b\u7d22\u5f15\u200b\u627e\u5230\u200b\u5b83\u200b\u6240\u5728\u200b\u7684\u200b\u9875\u7801\u200b\uff0c\u200b\u7136\u540e\u200b\u76f4\u63a5\u200b\u7ffb\u5230\u200b\u90a3\u200b\u4e00\u9875\u200b\uff0c\u200b\u5b8c\u6210\u200b\u8fd9\u79cd\u200b\u64cd\u4f5c\u200b\u9700\u8981\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u662f\u200bO(1)</p> <p>\u200b\u6ce8\u610f\u200b\uff1a\u200b\u8fd9\u91cc\u200b\u7684\u200b\u5217\u8868\u200b\u5f88\u200b\u77ed\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8f6c\u4e0d\u8f6c\u200b\u96c6\u5408\u200b\u5bf9\u200b\u6027\u80fd\u200b\u5f71\u54cd\u200b\u90fd\u200b\u5fae\u4e4e\u5176\u5fae\u200b\uff0c\u200b\u5728\u200b\u5b9e\u9645\u200b\u7f16\u7801\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5217\u8868\u200b\u8d8a\u957f\u200b\uff0c\u200b\u6267\u884c\u200b\u5224\u65ad\u200b\u6b21\u6570\u200b\u8d8a\u200b\u591a\u200b\uff0c\u200b\u8f6c\u200b\u6210\u200b\u96c6\u5408\u200b\u7684\u200b\u6536\u76ca\u200b\u5c31\u200b\u8d8a\u200b\u9ad8\u200b <pre><code>VALID_NAMES = [\"piglei\",\"raymond\",\"bojack\",\"caroline\"]\nVALID_NAMES_SET = set(VALID_NAMES)\n\ndef validate_name(name):\n    if name not in VALID_NAMES_SET:\n        raise ValueError(f\"{name} is not a valid name!\")\n</code></pre></p> <p>\u200b\u9664\u4e86\u200b\u4e0a\u9762\u200b\u8fd9\u4e9b\u200b\u9677\u9631\u200b\uff0c\u200b\u4e86\u89e3\u200b\u66f4\u200b\u591a\u200b\u4e0e\u200b\u5e38\u89c1\u200b\u5bb9\u5668\u200b\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u95f4\u200b\u590d\u6742\u5ea6\u200b\u6709\u5173\u200b\u7684\u200b\u5185\u5bb9\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u5b98\u65b9\u200bwiki - TimeComplexity - Python Wiki</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_26","title":"\u638c\u63e1\u200b\u5feb\u901f\u200b\u5408\u5e76\u200b\u5b57\u5178","text":"<p>\u200b\u65b9\u5f0f\u200b\u4e00\u200b\uff0c\u200b\u4f7f\u7528\u200b\u53cc\u661f\u200b\u53f7\u200b<code>**</code>\u200b\u8fd0\u7b97\u7b26\u200b\u6765\u200b\u505a\u200b\u89e3\u5305\u200b\u64cd\u4f5c\u200b\uff1a <pre><code>In [112]: d1 = {\"k1\":\"v1\"}\n\nIn [113]: {\"k2\":\"v2\", **d1}\nOut[113]: {'k2': 'v2', 'k1': 'v1'}\n</code></pre></p> <p>\u200b\u9664\u4e86\u200b\u4f7f\u7528\u200b<code>**</code>\u200b\u89e3\u5305\u200b\u5b57\u5178\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5355\u200b<code>*</code>\u200b\u578b\u53f7\u200b\u8fd0\u7b97\u7b26\u200b\u89e3\u5305\u200b\u4efb\u4f55\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\uff1a <pre><code>In [114]: [1,2, *range(3)]\nOut[114]: [1, 2, 0, 1, 2]\n\nIn [115]: l1 = [1,2]\n\nIn [116]: l2 = [3,4]\n\nIn [117]: [*l1, *l2]\nOut[117]: [1, 2, 3, 4]\n</code></pre></p> <p>\u200b\u65b9\u5f0f\u200b\u4e8c\u200b\uff0c\u200b\u5b57\u5178\u200b\u7684\u200b|\u200b\u8fd0\u7b97\u7b26\u200b \u200b\u5728\u200bpython3.9\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4e86\u200b\u5bf9\u200b|\u200b\u8fd0\u7b97\u7b26\u200b\u7684\u200b\u652f\u6301\u200b <pre><code>In [118]: d1 = {\"k1\":\"v1\"}\n\nIn [119]: d2 = {\"k2\":\"v2\"}\n\nIn [120]: d1 | d2\nOut[120]: {'k1': 'v1', 'k2': 'v2'}\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_27","title":"\u4f7f\u7528\u200b\u6709\u5e8f\u200b\u5b57\u5178\u200b\u8fdb\u884c\u200b\u53bb\u200b\u91cd","text":"<p>\u200b\u5982\u679c\u200b\u7528\u200b\u96c6\u5408\u200b\u53bb\u200b\u91cd\u4f1a\u200b\u5bfc\u81f4\u200b\u4e22\u5931\u200b\u539f\u6709\u200b\u7684\u200b\u987a\u5e8f\u200b\uff1a <pre><code>In [123]: nums = [10,2,3,4,1,1,30]\n\nIn [124]: set(nums)\nOut[124]: {1, 2, 3, 4, 10, 30}\n</code></pre></p> <p>\u200b\u53ef\u4ee5\u200b\u7528\u200b\u6709\u5e8f\u200b\u5b57\u5178\u200b<code>OrderedDict</code>\u200b\u6765\u200b\u5b8c\u6210\u200b\u8fd9\u4ef6\u200b\u4e8b\u200b\uff0c\u200b\u56e0\u4e3a\u200b<code>OrderedDict</code>\u200b\u540c\u65f6\u200b\u6ee1\u8db3\u200b\u4e24\u4e2a\u200b\u6761\u4ef6\u200b\uff1a 1. \u200b\u5b83\u200b\u7684\u200b\u952e\u200b\u662f\u200b\u6709\u5e8f\u200b\u7684\u200b\uff1b 2. \u200b\u5b83\u200b\u7684\u200b\u952e\u200b\u7edd\u5bf9\u200b\u4e0d\u4f1a\u200b\u91cd\u590d\u200b</p> <pre><code>In [126]: list(OrderedDict.fromkeys(nums).keys())\nOut[126]: [10, 2, 3, 4, 1, 30]\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_28","title":"\u4e0d\u8981\u200b\u5728\u200b\u904d\u5386\u200b\u5217\u8868\u200b\u65f6\u200b\u540c\u6b65\u200b\u4fee\u6539","text":"<pre><code>In [135]: def remove_even(numbers):\n     ...:     \"\"\"\u200b\u53bb\u6389\u200b\u5217\u8868\u200b\u4e2d\u200b\u6240\u6709\u200b\u7684\u200b\u5076\u6570\u200b\"\"\"\n     ...:     for number in numbers:\n     ...:         if number % 2 == 0:\n     ...:             # \u200b\u6709\u200b\u95ee\u9898\u200b\u7684\u200b\u4ee3\u7801\u200b\n     ...:             numbers.remove(number)\n\nIn [139]: numbers = [1,2,7,4,8,11]\n\nIn [140]: remove_even(numbers)\n\nIn [141]: numbers\nOut[141]: [1, 7, 8, 11]\n</code></pre> <p>\u201d8\u201c\u200b\u672c\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u51fa\u73b0\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u7ed3\u679c\u200b\u4e2d\u200b\uff0c\u200b\u539f\u56e0\u200b\u662f\u200b\uff0c\u200b\u5728\u200b\u904d\u5386\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5faa\u73af\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b\u7d22\u5f15\u200b\u503c\u200b\u4e0d\u65ad\u200b\u589e\u52a0\u200b\uff0c\u200b\u800c\u200b\u904d\u5386\u200b\u5bf9\u8c61\u200b<code>numbers</code>\u200b\u91cc\u200b\u7684\u200b\u6210\u5458\u200b\u53c8\u200b\u540c\u65f6\u200b\u5728\u200b\u88ab\u200b\u5220\u9664\u200b\uff0c\u200b\u957f\u5ea6\u200b\u4e0d\u65ad\u200b\u7f29\u77ed\u200b\uff0c\u200b\u8fd9\u200b\u5bfc\u81f4\u200b\u5217\u8868\u200b\u91cc\u200b\u7684\u200b\u4e00\u4e9b\u200b\u6210\u5458\u200b\u6839\u672c\u200b\u6ca1\u6709\u200b\u904d\u5386\u200b\u5230\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u8981\u200b\u4fee\u6539\u200b\u5217\u8868\u200b\uff0c\u200b\u4e0d\u8981\u200b\u5728\u200b\u904d\u5386\u200b\u7684\u200b\u65f6\u5019\u200b\u76f4\u63a5\u200b\u4fee\u6539\u200b\uff0c\u200b\u542f\u7528\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u5217\u8868\u200b\u8fdb\u884c\u200b\u4fdd\u5b58\u200b\u4fee\u6539\u200b\u540e\u200b\u7684\u200b\u6210\u5458\u200b\uff0c\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u78b0\u5230\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u4e86\u200b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#nametuple","title":"\u8ba9\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200bNameTuple","text":"<p>\u200b\u6211\u4eec\u200b\u5199\u200b\u4e00\u4e2a\u200b\u51fd\u6570\u200b\uff0c\u200b\u8fd4\u56de\u200b\u591a\u4e2a\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u5e76\u200b\u5bf9\u200b\u8fd4\u56de\u503c\u200b\u8fdb\u884c\u200b\u89e3\u538b\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u53d8\u91cf\u200b\uff0c\u200b\u67d0\u200b\u5929\u200b\u9700\u8981\u200b\u589e\u52a0\u200b\u4e00\u4e2a\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u8fd8\u200b\u9700\u8981\u200b\u627e\u5230\u200b\u6240\u6709\u200b\u8c03\u7528\u200b\u8be5\u200b\u51fd\u6570\u200b\u7684\u200b\u5730\u65b9\u200b\uff0c\u200b\u8865\u4e0a\u200b\u591a\u200b\u51fa\u6765\u200b\u7684\u200b\u8fd4\u56de\u503c\u200b\uff0c\u200b\u6216\u8005\u200b\u7528\u200b<code>_</code>\u200b\u6765\u200b\u5ffd\u7565\u200b\u8be5\u200b\u8fd4\u56de\u503c\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u8fd9\u79cd\u200b\u672a\u6765\u200b\u53ef\u80fd\u200b\u53d8\u52a8\u200b\u7684\u200b\u591a\u200b\u8fd4\u56de\u503c\u200b\u51fd\u6570\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5982\u679c\u200b\u4e00\u200b\u5f00\u59cb\u200b\u5c31\u200b\u4f7f\u7528\u200bNameTuple\u200b\u7c7b\u578b\u200b\u5bf9\u200b\u8fd4\u56de\u503c\u200b\u8fdb\u884c\u200b\u5efa\u6a21\u200b\uff0c\u200b\u8c03\u7528\u200b\u65b9\u5f0f\u200b\u5c31\u200b\u4f1a\u200b\u53d8\u5f97\u200b\u7b80\u5355\u200b\u8bb8\u591a\u200b\uff1a <pre><code>from typing import NamedTuple\n\nclass Address(NamedTuple):\n    \"\"\"\u200b\u5730\u5740\u200b\u4fe1\u606f\u200b\u7ed3\u679c\u200b\"\"\"\n    country: str\n    province: str\n    city: str\n\ndef latlon_to_address(lat, lon):\n    return Address(\n        country=country,\n        province=province,\n        city=city,\n    )\n\n\naddr = latlon_to_address(lat, lon)\n#\u200b\u4f7f\u7528\u200b\u5c5e\u6027\u200b\u540d\u6765\u200b\u4f7f\u7528\u200baddr\n# addr.country / addr.province / addr.city\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_29","title":"\u6761\u4ef6\u200b\u5206\u652f\u200b\u63a7\u5236\u6d41","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_30","title":"\u4fee\u6539\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5e03\u5c14\u503c","text":"<p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u628a\u200b\u67d0\u4e2a\u200b\u5bf9\u8c61\u200b\u7528\u4e8e\u200b\u5206\u652f\u200b\u5224\u65ad\u200b\u65f6\u200b\uff0c\u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u5bf9\u200b\u5b83\u200b\u8fdb\u884c\u200b\u201c\u200b\u771f\u503c\u200b\u6d4b\u8bd5\u200b\u201d\uff0c\u200b\u8ba1\u7b97\u200b\u5e03\u5c14\u503c\u200b\uff0c\u200b\u800c\u200b\u6240\u6709\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u7c7b\u200b\u548c\u200b\u7c7b\u200b\u5b9e\u4f8b\u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u90fd\u200b\u4e3a\u200bTrue\u3002 <pre><code>In [1]: class Foo:\n   ...:     pass\n   ...:\n\nIn [2]: bool(Foo)\nOut[2]: True\n\nIn [3]: bool(Foo())\nOut[3]: True\n</code></pre></p> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u6709\u4e9b\u200b\u6b7b\u677f\u200b\uff0c\u200b\u770b\u200b\u4e0b\u200b\u4e0b\u8ff0\u200b\u4ee3\u7801\u200b\uff1a <pre><code>In [4]: class UserCollection:\n   ...:     \"\"\"\u200b\u7528\u4e8e\u200b\u4fdd\u5b58\u200b\u591a\u4e2a\u200b\u7528\u6237\u200b\u7684\u200b\u96c6\u5408\u200b\u5de5\u5177\u200b\u7c7b\u200b\"\"\"\n   ...:     def __init__(self, users):\n   ...:         self.items = users\n   ...:\n\nIn [5]: users = UserCollection(['yanghe','raymond'])\n\nIn [8]: if len(users.items) &gt; 0:\n   ...:     print(\"There's some users in collection!\")\n   ...:\nThere's some users in collection!\n</code></pre></p> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u5206\u652f\u200b\u5224\u65ad\u200b\u8bed\u53e5\u200b\u53ef\u4ee5\u200b\u66f4\u200b\u7b80\u5355\u200b\uff0c\u200b\u53ea\u8981\u200b\u7ed9\u200b<code>UserCollection</code>\u200b\u7c7b\u200b\u5b9e\u73b0\u200b<code>__len__</code>\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\uff0cusers\u200b\u5bf9\u8c61\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u7528\u4e8e\u200b\u201d\u200b\u771f\u503c\u200b\u6d4b\u8bd5\u200b\u201c\uff1a <pre><code>In [11]: class UserCollection:\n    ...:     \"\"\"\u200b\u7528\u4e8e\u200b\u4fdd\u5b58\u200b\u591a\u4e2a\u200b\u7528\u6237\u200b\u7684\u200b\u96c6\u5408\u200b\u5de5\u5177\u200b\u7c7b\u200b\"\"\"\n    ...:     user: list\n    ...:     def __init__(self, users):\n    ...:         self.items = users\n    ...:     def __len__(self):\n    ...:         return  len(self.items)\n    ...:\n\nIn [12]: users = UserCollection(['yanghe', 'raymond'])\n\nIn [13]: if users:\n    ...:     print(\"There's some users in collection!\")\n    ...:\nThere's some users in collection!\n</code></pre></p> <p>Python\u200b\u5728\u200b\u8ba1\u7b97\u200b\u8fd9\u200b\u7c7b\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5e03\u5c14\u503c\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u53d7\u5230\u200b<code>len(users)</code>\u200b\u7ed3\u679c\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u52a0\u5165\u200b\u7ed3\u679c\u200b\u4e3a\u200b0\uff0c\u200b\u5e03\u5c14\u503c\u200b\u4e3a\u200b<code>False</code>\uff0c\u200b\u53cd\u4e4b\u200b\u4e3a\u200b<code>True</code></p> <p>\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b<code>__bool__</code>\u200b\u548c\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5e03\u5c14\u503c\u200b\u4e5f\u200b\u6709\u5173\u200b\uff0c\u200b\u4e3a\u200b\u5bf9\u8c61\u200b\u5b9a\u4e49\u200b<code>__bool__</code>\u200b\u65b9\u6cd5\u200b\u540e\u200b\uff0c\u200b\u5bf9\u200b\u5b83\u200b\u8fdb\u884c\u200b\u5e03\u5c14\u503c\u200b\u8fd0\u7b97\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u7684\u200b\u8c03\u7528\u200b\u7ed3\u679c\u200b\uff1a <pre><code>In [14]: class ScoreJudger:\n    ...:     \"\"\"\u200b\u4ec5\u5f53\u200b\u5206\u6570\u200b\u5927\u4e8e\u200b60\u200b\u65f6\u4e3a\u200b\u771f\u200b\"\"\"\n    ...:     def __init__(self, score:int):\n    ...:         self.score = score\n    ...:     def __bool__(self):\n    ...:         return self.score &gt;= 60\n    ...:\n\nIn [15]: bool(ScoreJudger(60))\nOut[15]: True\n\nIn [16]: bool(ScoreJudger(59))\nOut[16]: False\n</code></pre></p> <p>\u200b\u5047\u5982\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u540c\u65f6\u200b\u5b9a\u4e49\u200b\u4e86\u200b<code>__len__</code>\u200b\u548c\u200b<code>__bool__</code>\u200b\u4e24\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u89e3\u91ca\u5668\u200b\u4f1a\u200b\u4f18\u5148\u200b\u4f7f\u7528\u200b<code>__bool__</code>\u200b\u65b9\u6cd5\u200b\u7684\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#noneis","title":"\u4e0e\u200bNone\u200b\u6bd4\u8f83\u200b\u65f6\u200b\u4f7f\u7528\u200bis\u200b\u8fd0\u7b97\u7b26","text":"<p>\u200b\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u53cc\u7b49\u200b\u53f7\u200b\u8fd0\u7b97\u7b26\u200b<code>==</code>\uff1a <pre><code>In [17]: x, y, z = 1, 1, 2\n\nIn [18]: x == y\nOut[18]: True\n\nIn [19]: x == z\nOut[19]: False\n</code></pre></p> <p>\u200b\u5bf9\u4e8e\u200b\u81ea\u5b9a\u4e49\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5728\u200b<code>==</code>\u200b\u8fd0\u7b97\u200b\u65f6\u200b\u884c\u4e3a\u200b\u65f6\u200b\u53ef\u64cd\u7eb5\u200b\u7684\u200b\uff1a\u200b\u53ea\u8981\u200b\u5b9e\u73b0\u200b<code>__eq__</code>\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u5c31\u884c\u200b\uff1a <pre><code>In [21]: class EqualWithAnything:\n    ...:     \"\"\"\u200b\u4e0e\u200b\u4efb\u4f55\u200b\u5bf9\u8c61\u200b\u76f8\u7b49\u200b\"\"\"\n    ...:     def __eq__(self, other):\n    ...:         # other: \u200b\u53cc\u7b49\u200b\u53f7\u200b\u5de6\u8fb9\u200b\u7684\u200b\u5bf9\u8c61\u200b\n    ...:         return True\n    ...:\n\nIn [22]: foo = EqualWithAnything()\n\nIn [23]: foo == 'string'\nOut[23]: True\n\nIn [24]: foo == None\nOut[24]: True\n</code></pre></p> <p>\u200b\u53cc\u7b49\u200b\u53f7\u200b<code>==</code>\u200b\u7684\u200b\u884c\u4e3a\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u6539\u53d8\u200b\uff0c\u200b\u4e25\u683c\u200b\u68c0\u67e5\u200b\u67d0\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u4e3a\u200bNone\uff0c\u200b\u9700\u8981\u200b\u7528\u5230\u200b<code>is</code>\u200b\u8fd0\u7b97\u7b26\u200b\uff0c\u200b\u4e24\u8005\u200b\u7684\u200b\u533a\u522b\u200b\uff1a 1. <code>==</code>\u200b\u5bf9\u6bd4\u200b\u4e24\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u503c\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b\uff0c\u200b\u884c\u4e3a\u200b\u53ef\u200b\u88ab\u200b<code>__eq__</code>\u200b\u65b9\u6cd5\u200b\u91cd\u8f7d\u200b\uff1b 2. is\u200b\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u5728\u200b\u5185\u5b58\u200b\u91cc\u200b\u65f6\u200b\u540c\u4e00\u4e2a\u200b\u4e1c\u897f\u200b\uff08\u200b\u5730\u5740\u200b\uff09\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6bd4\u8f83\u200b<code>id(obj) == id(obj)</code>\uff0c\u200b\u65e0\u6cd5\u200b\u88ab\u200b\u91cd\u8f7d\u200b</p> <p>\u200b\u5224\u65ad\u200b\u67d0\u4e2a\u200b\u5bf9\u8c61\u200b\u4e3a\u200bNone\u200b\u65f6\u200b\uff0c\u200b\u5e94\u8be5\u200b\u4f7f\u7528\u200bis\u200b\u8fd0\u7b97\u7b26\u200b\uff1a <pre><code>In [25]: foo is None\nOut[25]: False\n\nIn [26]: foo == None\nOut[26]: True\n</code></pre></p> <p>\u200b\u4ec5\u200b\u5f53\u200b\u4f60\u200b\u9700\u8981\u200b\u5224\u65ad\u200b\u67d0\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u662f\u200bNone\u3001True\u3001False\uff0c\u200b\u4f7f\u7528\u200bis\uff0c\u200b\u5426\u5219\u200b\u4f7f\u7528\u200b<code>==</code></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_31","title":"\u6848\u4f8b","text":"<pre><code>import bisect  \nimport random  \n# from typing import List  \n\n\nclass Movie:  \n    \"\"\"\u200b\u7535\u5f71\u200b\u5bf9\u8c61\u200b\u6570\u636e\u200b\u7c7b\u200b\"\"\"  \n\n    def __init__(self, name: str, year: int, rating: str):  \n        self.name = name  \n        self.year = year  \n        self.rating = rating  \n\n    @property  \n    def rank(self) -&gt; str:  \n        \"\"\"\u200b\u6309\u7167\u200b\u8bc4\u5206\u200b\u5bf9\u200b\u7535\u5f71\u5206\u7ea7\u200b\"\"\"  \n        # \u200b\u5df2\u7ecf\u200b\u6392\u597d\u5e8f\u200b\u7684\u200b\u8bc4\u7ea7\u200b\u5206\u754c\u70b9\u200b  \n        breakpoints = (6, 7, 8, 8.5)  \n        # \u200b\u5404\u200b\u8bc4\u5206\u200b\u533a\u95f4\u200b\u522b\u540d\u200b  \n        grades = ('D', 'C', 'B', 'A', 'S')  \n        index = bisect.bisect(breakpoints, float(self.rating))  \n        return grades[index]  \n\n\ndef get_sorted_movies(movies: list[Movie], sorting_type: str) -&gt; list[Movie]:  \n    sorting_algos = {  \n        \"name\": (lambda movie: movie.name.lower(), False),  \n        \"rating\": (lambda movie: float(movie.rating), True),  \n        \"year\": (lambda movie: movie.year, True),  \n        \"random\": (lambda movie: random.random(), False)  \n    }  \n    try:  \n        key_func, reverse = sorting_algos[sorting_type]  \n    except KeyError:  \n        raise RuntimeError(f\"Unknown sorting type: {sorting_type}\")  \n    sorted_movies = sorted(movies, key=key_func, reverse=reverse)  \n    return sorted_movies  \n\n\nif __name__ == \"__main__\":  \n    movies = [  \n        {'name': 'The Dark Knight', 'year': 2008, 'rating': '9'},  \n        {'name': 'Kaili Blues', 'year': 2015, 'rating': '7.3'},  \n    ]  \n    movie_items = []  \n    for movie_json in movies:  \n        movie = Movie(**movie_json)  \n        movie_items.append(movie)  \n    sorted_movies = get_sorted_movies(movie_items, \"name\")  \n    for movie in sorted_movies:  \n        print(f\"[{movie.rank}] {movie.name}({movie.year}) | rating: {movie.rating}\")\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#anyall","title":"\u4f7f\u7528\u200bany()/all()\u200b\u51fd\u6570\u200b\u6784\u5efa\u200b\u6761\u4ef6\u200b\u8868\u8fbe\u5f0f","text":"<ul> <li><code>all(iterable)</code>: \u200b\u4ec5\u5f53\u200biterable\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u6210\u5458\u200b\u4e3a\u200b\u771f\u200b\u624d\u200b\u8fd4\u56de\u200b<code>True</code>\uff0c\u200b\u5426\u5219\u200b\u8fd4\u56de\u200b<code>False</code></li> <li><code>any(iterable)</code>: \u200b\u53ea\u8981\u200biterable\u200b\u4e2d\u200b\u7684\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u6210\u5458\u200b\u5e03\u5c14\u503c\u200b\u4e3a\u200b\u4e3a\u200b\u771f\u200b\u8fd4\u56de\u200b<code>True</code>\uff0c\u200b\u5426\u5219\u200b\u8fd4\u56de\u200b<code>False</code></li> </ul> <p>\u200b\u9700\u8981\u200b\u5224\u65ad\u200b\u4e00\u4e2a\u200b\u5217\u8868\u200b\u91cc\u200b\u7684\u200b\u6240\u6709\u200b\u6570\u5b57\u200b\u662f\u4e0d\u662f\u200b\u90fd\u200b\u5927\u4e8e\u200b10\uff0c\u200b\u5982\u679c\u200b\u7528\u200b\u666e\u901a\u200b\u5faa\u73af\u200b\uff1a <pre><code>In [45]: def all_numbers_gt_10(numbers):\n    ...:     \"\"\"\u200b\u4ec5\u5f53\u200b\u5e8f\u5217\u200b\u4e2d\u200b\u7684\u200b\u6570\u5b57\u200b\u90fd\u200b\u5927\u4e8e\u200b10\u200b\u65f6\u200b\uff0c\u200b\u8fd4\u56de\u200bTrue\"\"\"\n    ...:     if not numbers:\n    ...:         return False\n    ...:     for n in numbers:\n    ...:         if n &lt;= 10:\n    ...:             return False\n    ...:     return True\n    ...:\n</code></pre></p> <p>\u200b\u4f7f\u7528\u200b<code>all()</code>\u200b\u5185\u7f6e\u200b\u51fd\u6570\u200b\uff0c\u200b\u914d\u5408\u200b\u751f\u6210\u5668\u200b\u8868\u8fbe\u5f0f\u200b\uff1a <pre><code>In [46]: def all_numbers_gt_10_2(numbers):\n    ...:     return bool(numbers) and all(n &gt; 10 for n in numbers)\n    ...:\n\nIn [47]: all_numbers_gt_10_2([1,2,3,4])\nOut[47]: False\n\nIn [48]: all_numbers_gt_10_2([11,12,13])\nOut[48]: True\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_32","title":"\u5f02\u5e38\u200b\u4e0e\u200b\u9519\u8bef\u5904\u7406","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#raise","title":"\u4f7f\u7528\u200b\u7a7a\u200braise\u200b\u8bed\u53e5","text":"<p>\u200b\u5728\u200b\u5904\u7406\u200b\u5f02\u5e38\u200b\u65f6\u200b\uff0c\u200b\u6709\u65f6\u200b\u6211\u4eec\u200b\u60f3\u200b\u8bb0\u5f55\u200b\u4e0b\u200b\u67d0\u4e2a\u200b\u5f02\u5e38\u200b\uff0c\u200b\u7136\u540e\u200b\u628a\u200b\u5b83\u200b\u91cd\u65b0\u200b\u629b\u51fa\u200b\uff0c\u200b\u4ea4\u7531\u200b\u4e0a\u5c42\u200b\u5904\u7406\u200b\u3002\u200b\u8fd9\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e0d\u5e26\u200b\u53c2\u6570\u200b\u7684\u200b<code>raise</code>\u200b\u8bed\u53e5\u200b\u3002 <pre><code>In [1]: def incr_by_key(d, key):\n   ...:     try:\n   ...:         d[key] += 1\n   ...:     except KeyError:\n   ...:         print(f\"key {key} does not exists, reraise the exception\")\n   ...:         raise\n   ...:\n\nIn [2]: incr_by_key({}, \"foo\")\nkey foo does not exists, reraise the exception\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\nCell In[2], line 1\n----&gt; 1 incr_by_key({}, \"foo\")\n\nCell In[1], line 3, in incr_by_key(d, key)\n      1 def incr_by_key(d, key):\n      2     try:\n----&gt; 3         d[key] += 1\n      4     except KeyError:\n      5         print(f\"key {key} does not exists, reraise the exception\")\n\nKeyError: 'foo'\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_33","title":"\u629b\u51fa\u200b\u5f02\u5e38\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u8fd4\u56de\u200b\u9519\u8bef","text":"<pre><code>class CreateItemError(Exception):\n    \"\"\"\u200b\u521b\u5efa\u200bItem\u200b\u5931\u8d25\u200b\"\"\"\n\ndef create_item(name):\n    \"\"\"\n    \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200bItem\n    :raises: \u200b\u5f53\u200b\u65e0\u6cd5\u200b\u521b\u5efa\u200b\u65f6\u200b\u629b\u51fa\u200b CreateItemError\n    \"\"\"\n    if len(name) &gt; MAX_LENGTH_OF_NAME:\n        raise CrateItemError('name of item is  too long')\n    if len(get_current_items()) &gt; MAX_ITEMS_QUOTA:\n        raise CrateItemError('item is full')\n    return Item(name=name)\n\ndef create_from_input():\n    name = input()\n    try:\n        item = create_item(name)\n    except CrateItemError as e:\n        print(f\"create item failed: {e}\")\n    else:\n        print(f\"item&lt;{name}&gt; created\")\n</code></pre> <p>\u200b\u6700\u597d\u200b\u5728\u200b\u51fd\u6570\u200b\u6587\u6863\u200b\u91cc\u9762\u200b\u8bf4\u660e\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b\u7c7b\u578b\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_34","title":"\u4e0a\u4e0b\u6587\u200b\u7ba1\u7406\u5668\u200b\u5ffd\u7565\u200b\u5f02\u5e38","text":"<pre><code>class ignore_closed:\n    \"\"\"\u200b\u5ffd\u7565\u200b\u5df2\u7ecf\u200b\u5173\u95ed\u200b\u7684\u200b\u8fde\u63a5\u200b\"\"\"\n    def __enter__(self):\n        pass\n    def __exit__(self,exc_type, exc_value, traceback):\n        if exc_type == AlreadyClosedError:\n            return True\n        return False\n</code></pre> <p>\u200b\u5f53\u200b\u4f60\u200b\u60f3\u200b\u5ffd\u7565\u200bAlreadyClosedError\u200b\u5f02\u5e38\u200b\u65f6\u200b\uff0c\u200b\u53ea\u8981\u200b\u628a\u200b\u4ee3\u7801\u200b\u7528\u200bwith\u200b\u8bed\u53e5\u200b\u5305\u88f9\u200b\u8d77\u6765\u200b\u5373\u53ef\u200b\uff1a <pre><code>with ignore_closed():\n    close_conn(conn)\n</code></pre></p> <p>\u200b\u7528\u200b\u7b2c\u4e8c\u79cd\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u5ffd\u7565\u200b\uff1a <pre><code>from contextlib import suppress\n\nwith suppress(AlreadyClosedError):\n    close_conn(conn)\n</code></pre></p> <p>\u200b\u5982\u679c\u200b\u6709\u200b\u4e0a\u4e0b\u200b\u95ee\u200b\u7ba1\u7406\u5668\u200b\u6709\u200b\u5f02\u5e38\u200b\u629b\u51fa\u200b\uff0c\u200b\u8fd9\u200b\u4e09\u4e2a\u200b\u53c2\u6570\u200b\u5177\u4f53\u5185\u5bb9\u200b\u662f\u200b\uff1a 1. <code>exc_type</code>\uff1a \u200b\u5f02\u5e38\u200b\u7684\u200b\u7c7b\u578b\u200b 2. <code>exc_value</code>\uff1a\u200b\u5f02\u5e38\u200b\u5bf9\u8c61\u200b 3. <code>traceback</code>\uff1a\u200b\u9519\u8bef\u200b\u7684\u200b\u5806\u6808\u200b\u5bf9\u8c61\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#contextmanager","title":"\u4f7f\u7528\u200bcontextmanager\u200b\u88c5\u9970\u200b\u5668","text":"<pre><code>from contextlib import contextmanager\n\n@contextmanager\ndef create_conn_obj(host, port, timeout=None):\n    \"\"\"\u200b\u521b\u5efa\u200b\u8fde\u63a5\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u9000\u51fa\u200b\u4e0a\u4e0b\u6587\u200b\u65f6\u200b\u81ea\u52a8\u200b\u5173\u95ed\u200b\"\"\"\n    conn = create_conn(host, port, timeout=timeout)\n    try:\n        yield conn\n    finally:\n        conn.close()\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_35","title":"\u4e0d\u8981\u200b\u624b\u52a8\u200b\u6821\u9a8c\u200b\u6570\u636e","text":"<p>\u200b\u5728\u200b\u7f16\u5199\u200b\u4ee3\u7801\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c3d\u91cf\u907f\u514d\u200b\u624b\u52a8\u200b\u6821\u9a8c\u200b\u4efb\u4f55\u200b\u6570\u636e\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6570\u636e\u200b\u6821\u9a8c\u200b\u4efb\u52a1\u200b\u72ec\u7acb\u6027\u200b\u5f88\u5f3a\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5e94\u8be5\u200b\u5f15\u5165\u200b\u9002\u5408\u200b\u7684\u200b\u7b2c\u4e09\u65b9\u200b\u6821\u9a8c\u200b\u6a21\u5757\u200b\uff0c\u200b\u6216\u8005\u200b\u81ea\u5df1\u200b\u5b9e\u73b0\u200b</p> <pre><code>In [8]: def input_a_number_with_pydantic():\n   ...:     while True:\n   ...:         number = input(\"please input a number (0-100):\")\n   ...:         # \u200b\u5b9e\u4f8b\u200b\u5316\u200b pydantic \u200b\u6a21\u578b\u200b\uff0c\u200b\u6355\u83b7\u200b\u6821\u9a8c\u200b\u9519\u8bef\u200b\u5f02\u5e38\u200b\n   ...:         try:\n   ...:             number_input = NumberInput(number=number)\n   ...:         except ValidationError as e:\n   ...:             print(e)\n   ...:             continue\n   ...:         number = number_input.number\n   ...:         break\n   ...:     print(f\"Your number is {number}\")\n   ...:\n\nIn [9]: input_a_number_with_pydantic()\nplease input a number (0-100):-1\n1 validation error for NumberInput\nnumber\n  ensure this value is greater than or equal to 0 (type=value_error.number.not_ge; limit_value=0)\nplease input a number (0-100):101\n1 validation error for NumberInput\nnumber\n  ensure this value is less than or equal to 100 (type=value_error.number.not_le; limit_value=100)\nplease input a number (0-100):1\nYour number is 1\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_36","title":"\u629b\u51fa\u200b\u53ef\u200b\u533a\u5206\u200b\u7684\u200b\u5f02\u5e38","text":"<p>\u200b\u5229\u7528\u200b\u5f02\u5e38\u200b\u95f4\u200b\u7684\u200b\u7ee7\u627f\u200b\u5173\u7cfb\u200b\uff0c\u200b\u8bbe\u8ba1\u200b\u4e00\u4e9b\u200b\u66f4\u200b\u7cbe\u51c6\u200b\u7684\u200b\u5f02\u5e38\u200b\u5b50\u7c7b\u200b\uff1a <pre><code>class CreateItemError(Exception):\n    \"\"\"\u200b\u521b\u5efa\u200b Item \u200b\u5931\u8d25\u200b\"\"\"\n\nclass CreateErrorItemsFull(CreateItemError):\n    \"\"\"\u200b\u5f53\u524d\u200b\u7684\u200bItem\u200b\u5bb9\u5668\u200b\u5df2\u6ee1\u200b\"\"\"\n\ndef create_item(name):\n    if len(name) &gt; MAX_LENGTH_OF_NAME:\n        raise CreateItemError(\"name of item is too long\")\n    if len(get_current_items()) &gt; MAX_ITEMS_QUOTA:\n        raise CreateErrorItemsFull(\"items if full\")\n    return Item(name=name)\n\ndef create_from_input():\n    name = input()\n    try:\n        item = create_item(name):\n    except CreateErrorItemsFull as e:\n        clear_all_items()\n        print(f\"create item failed: {e}\")\n    except CreateItemError as e:\n        print(f\"create item faild: {e}\")\n    else:\n        print(f\"item&lt;{name}&gt; created\")\n</code></pre></p> <p>\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u4e00\u4e9b\u200b\u5305\u542b\u200b\u989d\u5916\u200b\u5c5e\u6027\u200b\u7684\u200b\u5f02\u5e38\u200b\u7c7b\u200b\uff0c\u200b\u6bd4\u5982\u200b\u201c\u200b\u9519\u8bef\u4ee3\u7801\u200b\uff08err_code\uff09\u201d\u200b\u7684\u200bCreateItemError\u200b\u7c7b\u200b\uff1a <pre><code>In [10]: class CreateItemError(Exception):\n    ...:     \"\"\"\n    ...:     \u200b\u521b\u5efa\u200bItem\u200b\u5931\u8d25\u200b\n    ...:     :param error_code: \u200b\u9519\u8bef\u4ee3\u7801\u200b\n    ...:     :param message: \u200b\u9519\u8bef\u4fe1\u606f\u200b\n    ...:     \"\"\"\n    ...:     def __init(self, error_code, message):\n    ...:         self.error_code = error_code\n    ...:         self.message = message\n    ...:         super().__init__(f\"{self.error_code} - {self.message}\")\n    ...:\n\nIn [11]: raise CreateItemError(\"name_too_long\", \"name of item is too long\")\n---------------------------------------------------------------------------\nCreateItemError                           Traceback (most recent call last)\nCell In[11], line 1\n----&gt; 1 raise CreateItemError(\"name_too_long\", \"name of item is too long\")\n\nCreateItemError: ('name_too_long', 'name of item is too long')\n\nIn [12]: raise CreateItemError(\"item_full\", \"items is full\")\n---------------------------------------------------------------------------\nCreateItemError                           Traceback (most recent call last)\nCell In[12], line 1\n----&gt; 1 raise CreateItemError(\"item_full\", \"items is full\")\n\nCreateItemError: ('item_full', 'items is full')\n</code></pre></p> <p>\u200b\u8fd9\u6837\u200b\u8c03\u7528\u200b\u65b9\u5728\u200b\u6355\u83b7\u200b\u5f02\u5e38\u200b\u540e\u200b\uff0c\u200b\u4e5f\u200b\u80fd\u200b\u6839\u636e\u200b\u5f02\u5e38\u200b\u5bf9\u8c61\u200b\u7684\u200berror_code\u200b\u6765\u200b\u7cbe\u786e\u200b\u5206\u8fa8\u200b\u5f02\u5e38\u200b\u7c7b\u578b\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_37","title":"\u7a7a\u200b\u5bf9\u8c61\u200b\u6a21\u5f0f","text":"<pre><code>QUALIFIED_POINTS = 80\n\nclass UserPoint:\n    \"\"\"\u200b\u7528\u6237\u200b\u5f97\u5206\u200b\u8bb0\u5f55\u200b\"\"\"\n    def __init__(self, username, points):\n        self.username = username\n        self.points = points\n    def is_qualified(self):\n        \"\"\"\u200b\u8fd4\u56de\u200b\u5f97\u5206\u200b\u662f\u5426\u200b\u5408\u683c\u200b\"\"\"\n        return self.points &gt;= QUALIFIED_POINTS\n\nclass NullUserPoint:\n    \"\"\"\u200b\u4e00\u4e2a\u200b\u7a7a\u200b\u7684\u200b\u7528\u6237\u200b\u5f97\u5206\u200b\u8bb0\u5f55\u200b\"\"\"\n    username = 0\n    points = 0\n    def is_qualified(self):\n        return False\n\ndef make_userpoint(point_string):\n    \"\"\"\u200b\u4ece\u200b\u5b57\u7b26\u4e32\u200b\u521d\u59cb\u5316\u200b\u4e00\u6761\u200b\u5f97\u5206\u200b\u8bb0\u5f55\u200b\n    :param point_string: \u200b\u5f62\u200b\u5982\u200bpiglei 1 \u200b\u7684\u200b\u8868\u793a\u200b\u5f97\u5206\u200b\u8bb0\u5f55\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\n    :return: \u200b\u5982\u679c\u200b\u8f93\u5165\u200b\u5408\u6cd5\u200b\uff0c\u200b\u8fd4\u56de\u200bUserPoint\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5426\u5219\u200b\u8fd4\u56de\u200bNullUserPoint\n    \"\"\"\n    try:\n        username, points = point_string.split()\n        points = int(points)\n    except ValueError:\n        return NullUserPoint()\n    if points &lt; 0:\n        return NullUserPoint()\n    return UserPoint(username, points)\n\ndef count_qualified(points_data):\n    \"\"\"\u200b\u8ba1\u7b97\u200b\u5f97\u5206\u200b\u5408\u683c\u200b\u603b\u200b\u4eba\u6570\u200b\n    :param points_data: \u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u200b\u7684\u200b\u7528\u6237\u200b\u5f97\u5206\u200b\u5217\u8868\u200b\n    \"\"\"\n    return sum(make_userpoints(s).isqualifed() for s in points_data)\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_38","title":"\u5faa\u73af\u200b\u4e0e\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_39","title":"\u8fed\u4ee3\u200b\u5668\u200b\u4e0e\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61","text":"<p>\u200b\u8fed\u4ee3\u200b\u5668\u200b\u4e0e\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\u7684\u200b\u533a\u522b\u200b\uff1a - \u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\u4e0d\u200b\u4e00\u5b9a\u200b\u662f\u200b\u8fed\u4ee3\u200b\u5668\u200b\uff0c\u200b\u4f46\u200b\u8fed\u4ee3\u200b\u5668\u200b\u4e00\u5b9a\u200b\u662f\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b - \u200b\u5bf9\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\u4f7f\u7528\u200b<code>iter()</code>\u200b\u4f1a\u200b\u8fd4\u56de\u200b\u8fed\u4ee3\u200b\u5668\u200b\uff0c\u200b\u8fed\u4ee3\u200b\u5668\u5219\u200b\u8fd4\u56de\u200b\u5176\u200b\u81ea\u8eab\u200b - \u200b\u6bcf\u4e2a\u200b\u8fed\u4ee3\u200b\u5668\u200b\u7684\u200b\u7684\u200b\u88ab\u200b\u8fed\u4ee3\u200b\u8fc7\u7a0b\u200b\u662f\u200b\u4e00\u6b21\u6027\u200b\u7684\u200b\uff0c\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\u5219\u200b\u4e0d\u200b\u4e00\u5b9a\u200b - \u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\u53ea\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b<code>__iter__</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u200b\u8fed\u4ee3\u200b\u5668\u8981\u200b\u989d\u5916\u200b\u5b9e\u73b0\u200b<code>__next__</code>\u200b\u65b9\u6cd5\u200b</p> <pre><code>In [8]: class Range7Iterator:\n   ...:     def __init__(self, range_obj):\n   ...:         self.range_obj = range_obj\n   ...:         self.current = range_obj.start\n   ...:     def __iter__(self):\n   ...:         return self\n   ...:     def __next__(self):\n   ...:         while True:\n   ...:             if self.current &gt;= self.range_obj.end:\n   ...:                 raise StopIteration\n   ...:             if self.num_is_valid(self.current):\n   ...:                 ret = self.current\n   ...:                 self.current += 1\n   ...:                 return ret\n   ...:             self.current += 1\n   ...:     def num_is_valid(self, num):\n   ...:         if num == 0:\n   ...:             return False\n   ...:         return num % 7 == 0 or '7' in str(num)\n   ...:\n\nIn [9]: class Range7:\n   ...:     \"\"\"\u200b\u751f\u6210\u200b\u67d0\u4e2a\u200b\u8303\u56f4\u200b\u53ef\u200b\u88ab\u200b7\u200b\u6574\u9664\u200b\u6216\u200b\u5305\u542b\u200b7\u200b\u7684\u200b\u6570\u5b57\u200b\"\"\"\n   ...:     def __init__(self, start, end):\n   ...:         self.start = start\n   ...:         self.end = end\n   ...:     def __iter__(self):\n   ...:         # \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u8fed\u4ee3\u200b\u5668\u200b\u5bf9\u8c61\u200b\n   ...:         return Range7Iterator(self)\n   ...:\n\n# \u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\nIn [10]: r = Range7(0, 20)\n\nIn [11]: tuple(r)\nOut[11]: (7, 14, 17)\n\nIn [12]: tuple(r)\nOut[12]: (7, 14, 17)\n\n# \u200b\u8fed\u4ee3\u200b\u5668\u200b\nIn [13]: r = Range7Iterator(r)\n\nIn [14]: tuple(r)\nOut[14]: (7, 14, 17)\n\nIn [15]: tuple(r)\nOut[15]: ()\n\nIn [16]: r\nOut[16]: &lt;__main__.Range7Iterator at 0x2213941dea0&gt;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_40","title":"\u751f\u6210\u5668\u200b\u662f\u200b\u8fed\u4ee3\u200b\u5668","text":"<pre><code>In [19]: def range_7_gen(start, end):\n    ...:     \"\"\"\u200b\u751f\u6210\u5668\u200b\u7248\u672c\u200b\u7684\u200bRange7Iterator\"\"\"\n    ...:     num = start\n    ...:     while num &lt; end:\n    ...:         if num != 0 and(num % 7 == 0 or \"7\" in str(num)):\n    ...:             yield num\n    ...:         num += 1\n    ...:\n\nIn [20]: nums = range_7_gen(0, 20)\n\nIn [21]: iter(nums)\nOut[21]: &lt;generator object range_7_gen at 0x0000022138F89E00&gt;\n\nIn [22]: iter(nums) is nums\nOut[22]: True\n\nIn [23]: next(nums)\nOut[23]: 7\n\nIn [24]: next(nums)\nOut[24]: 14\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#itertools","title":"\u4f7f\u7528\u200bitertools\u200b\u6a21\u5757\u200b\u4f18\u5316\u200b\u5faa\u73af","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#product","title":"\u4f7f\u7528\u200bproduct()\u200b\u6241\u5e73\u5316\u200b\u591a\u5c42\u200b\u5d4c\u5957\u5faa\u73af","text":"<pre><code>def find_twelve(num_list1, num_list2, num_list3):\n    \"\"\"\u200b\u4ece\u200b\u4e09\u4e2a\u200b\u6570\u5b57\u200b\u5217\u8868\u200b\u4e2d\u200b\uff0c\u200b\u5bfb\u627e\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u548c\u200b\u4e3a\u200b12\u200b\u7684\u200b\u4e09\u4e2a\u200b\u6570\u200b\"\"\"\n    for num1 in num_list1:\n        for num2 in num_list2:\n            for num3 in num_list3:\n                if num1 + num2 + num3 == 12:\n                    return num1, num2, num3\n</code></pre> <p>\u200b\u5bf9\u4e8e\u200b\u5d4c\u5957\u200b\u904d\u5386\u200b\u591a\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u591a\u5c42\u200b\u5faa\u73af\u200b\u4ee3\u7801\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200bproduct()\u200b\u51fd\u6570\u200b\u6765\u200b\u4f18\u5316\u200b\u5b83\u200b\uff0cproduct()\u200b\u63a5\u6536\u200b\u591a\u4e2a\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u7136\u540e\u200b\u6839\u636e\u200b\u4ed6\u4eec\u200b\u7684\u200b\u7b1b\u5361\u5c14\u200b\u79ef\u200b\u4e0d\u65ad\u200b\u751f\u6210\u200b\u7ed3\u679c\u200b\uff1a <pre><code>In [1]: from itertools import product\n\nIn [2]: list(product([1,2],[3,4]))\nOut[2]: [(1, 3), (1, 4), (2, 3), (2, 4)]\n</code></pre></p> <pre><code>In [4]: def find_twelve_v2(num_list1, num_list2, num_list3):\n   ...:     for num1, num2, num3 in product(num_list1, num_list2, num_list3):\n   ...:         if num1 + num2 + num3 == 12:\n   ...:             return num1, num2, num3\n   ...:\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#islice","title":"\u4f7f\u7528\u200bislice()\u200b\u5b9e\u73b0\u200b\u5faa\u73af\u200b\u5185\u200b\u9694\u884c\u200b\u5904\u7406","text":"<p>\u200b\u4f18\u5316\u200b\u4e4b\u524d\u200b\uff1a <pre><code>def parse_titles(filename):\n    \"\"\"\u200b\u4ece\u200b\u9694\u884c\u200b\u6570\u636e\u6587\u4ef6\u200b\u4e2d\u200b\u8bfb\u53d6\u200b Reddit \u200b\u4e3b\u9898\u200b\u540d\u79f0\u200b\"\"\"\n    with open(filename, 'r') as fp:\n        for i,line in enumerate(fp):\n            # \u200b\u8df3\u8fc7\u200b\u65e0\u200b\u610f\u4e49\u200b\u7684\u200b\u201d---\u201c\u200b\u5206\u9694\u7b26\u200b\n            if i % 2 == 0:\n                yield line.strip()\n</code></pre></p> <p><code>islice(seq, start, end, step)</code>\u200b\u51fd\u6570\u200b\u548c\u200b\u6570\u7ec4\u200b\u5207\u7247\u200b\u64cd\u4f5c\u200b<code>list(start:stop:step)</code>\u200b\u63a5\u6536\u200b\u7684\u200b\u53c2\u6570\u200b\u51e0\u4e4e\u200b\u5b8c\u5168\u4e00\u81f4\u200b\uff0c\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5728\u200b\u5faa\u73af\u200b\u5185\u90e8\u200b\u5b9e\u73b0\u200b\u9694\u884c\u200b\u5904\u7406\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u7b2c\u4e09\u4e2a\u200b\u53c2\u6570\u200b<code>step</code>\uff08\u200b\u6b65\u957f\u200b\uff09\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b2\uff1a <pre><code>from itertools import islice\ndef parse_titles_v2(filename):\n    with open(filename, 'r') as fp:\n        # \u200b\u8bbe\u7f6e\u200bstep=2, \u200b\u8df3\u8fc7\u200b\u65e0\u200b\u610f\u4e49\u200b\u7684\u200b \"---\"\u200b\u5206\u9694\u7b26\u200b\n        for line in islice(fp, 0, None, 2):\n            yield line.strip()\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#takewhilebreak","title":"\u4f7f\u7528\u200btakewhile()\u200b\u66ff\u4ee3\u200bbreak\u200b\u8bed\u53e5","text":"<p>\u200b\u4f18\u5316\u200b\u4e4b\u524d\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a <pre><code>for user in users:\n    # \u200b\u5f53\u200b\u7b2c\u4e00\u4e2a\u200b\u4e0d\u200b\u5408\u683c\u200b\u7684\u200b\u7528\u6237\u200b\u51fa\u73b0\u200b\u540e\u200b\uff0c\u200b\u4e0d\u518d\u200b\u8fdb\u884c\u200b\u540e\u9762\u200b\u7684\u200b\u5904\u7406\u200b\n    if not is qualified(user):\n        break\n</code></pre> <code>takewhile(predicate, iterable)</code>\u200b\u4f1a\u200b\u5728\u200b\u7b2c\u4e8c\u4e2a\u200b\u53c2\u6570\u200biterable\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u4e0d\u65ad\u200b\u4f7f\u7528\u200b\u5f53\u524d\u200b\u503c\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u8c03\u7528\u200b<code>predicate()</code>\u200b\u51fd\u6570\u200b\uff0c\u200b\u5e76\u200b\u5bf9\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u771f\u503c\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u5982\u679c\u200b\u4e3a\u200bTrue\uff0c\u200b\u8fd4\u56de\u200b\u5f53\u524d\u200b\u503c\u200b\u5e76\u200b\u7ee7\u7eed\u200b\u8fdb\u884c\u200b\u8fed\u4ee3\u200b\uff0c\u200b\u5426\u5219\u200b\u7acb\u5373\u200b\u4e2d\u65ad\u200b\u672c\u6b21\u200b\u8fed\u4ee3\u200b\uff1a <pre><code>form itertools import takewhile\nfor user in takewhile(is_qualified, users):\n    # \u200b\u5176\u5b83\u200b\u903b\u8f91\u200b\u3002\u3002\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_41","title":"\u6848\u4f8b","text":"<p>\u200b\u8bfb\u53d6\u200b\u4e00\u4e2a\u200b\u4e3a\u200b4GB\u200b\u7684\u200b\u6587\u4ef6\u200b\uff0c\u200b\u884c\u6570\u200b\u4e3a\u200b1 <pre><code>from itertools import partial\nfrom collections import defaultdict\n\n\ndef read_file_digits(fp, block_size=1024*8):\n    \"\"\"\u200b\u751f\u6210\u5668\u200b\u51fd\u6570\u200b\uff1a\u200b\u5206\u5757\u200b\u8bfb\u53d6\u200b\u6587\u4ef6\u200b\u5185\u5bb9\u200b\uff0c\u200b\u8fd4\u56de\u200b\u5176\u4e2d\u200b\u7684\u200b\u6570\u5b57\u200b\u5b57\u7b26\u200b\"\"\"\n    _read = partial(fp.read, block_size):\n    # \u200b\u5982\u679c\u200b_read\u200b\u53d8\u91cf\u200b\u4e3a\u7a7a\u200b\uff08''\uff09\u200b\u5219\u200b\u505c\u6b62\u200b\u8fed\u4ee3\u200b\n    for chunk in iter(_read, ''):\n        for s in chunk:\n            if s.isdigit():\n                yield s\n\n\ndef count_even_groups(fname):\n    counter = defaultdict(int)\n    with open(fname) as fp:\n        for num in read_file_digits(fp):\n            if int(num) % 2 == 0:\n                counter(int(num)) += 1\n        return counter\n</code></pre></p> <p>\u200b\u8fd9\u4e2a\u200b\u6848\u4f8b\u200b\u544a\u8bc9\u200b\u6211\u4eec\u200b\uff0c\u200b\u7f16\u5199\u200b\u5faa\u73af\u200b\u65f6\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u65f6\u5e38\u200b\u95ee\u200b\u81ea\u5df1\u200b\uff1a\u201c\u200b\u5faa\u73af\u4f53\u200b\u7684\u200b\u4ee3\u7801\u200b\u662f\u4e0d\u662f\u200b\u8fc7\u957f\u200b\uff0c\u200b\u8fc7\u4e8e\u200b\u590d\u6742\u200b\uff1f\u201d\u200b\u5982\u679c\u200b\u7b54\u6848\u200b\u80af\u5b9a\u200b\uff0c\u200b\u90a3\u200b\u5c31\u200b\u8bd5\u200b\u7740\u200b\u628a\u200b\u4ee3\u7801\u200b\u6309\u200b\u804c\u8d23\u200b\u5206\u7c7b\u200b\uff0c\u200b\u62bd\u8c61\u200b\u6210\u200b\u72ec\u7acb\u200b\u7684\u200b\u751f\u6210\u5668\u200b\uff08\u200b\u6216\u200b\u8fed\u4ee3\u200b\u5668\u200b\uff09\u200b\u5427\u200b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#nextkey","title":"\u5de7\u7528\u200bnext\u200b\u51fd\u6570\u200b\u83b7\u53d6\u200b\u5b57\u5178\u200b\u7b2c\u4e00\u4e2a\u200bkey","text":"<pre><code>next(iter(d.keys()))\n</code></pre> <p>\u200b\u6709\u200b\u4e00\u4e2a\u200b\u5f88\u5927\u200b\u7684\u200b\u6570\u5b57\u200b\u5217\u8868\u200b\uff0c\u200b\u7528\u200b\u751f\u6210\u5668\u200b\u83b7\u53d6\u200b\u80fd\u200b\u88ab\u200b7\u200b\u6574\u9664\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u6570\u5b57\u200b\uff1a <pre><code>In [1]: numbers = [3,6,8,2,21,30,42]\n\nIn [2]: next(i for i in numbers if i % 7 == 0)\nOut[2]: 21\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_42","title":"\u5f53\u5fc3\u200b\u5df2\u200b\u88ab\u200b\u8017\u5c3d\u200b\u7684\u200b\u751f\u6210\u5668","text":"<pre><code>In [3]: numbers = [1,2,3]\n\nIn [4]: numbers = (i * 2 for i in numbers)\n\nIn [5]: 4 in numbers\nOut[5]: True\n\nIn [6]: 4 in numbers\nOut[6]: False\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u751f\u6210\u5668\u200b\u8f6c\u4e3a\u200b\u5217\u8868\u200b\u540e\u200b\u518d\u200b\u8c03\u7528\u200b <pre><code>In [17]: numbers_2 = list(i * 2 for i in numbers)\n\nIn [18]: 4 in numbers_2\nOut[18]: True\n\nIn [19]: 4 in numbers_2\nOut[19]: True\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_43","title":"\u51fd\u6570","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_44","title":"\u5b9a\u4e49\u200b\u7279\u6b8a\u200b\u5bf9\u8c61\u200b\u6765\u200b\u533a\u5206\u200b\u662f\u5426\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u9ed8\u8ba4\u200b\u53c2\u6570","text":"<p>\u200b\u65e0\u6cd5\u200b\u4e25\u683c\u200b\u533a\u5206\u200b\u8c03\u7528\u200b\u65b9\u200b\u662f\u4e0d\u662f\u200b\u771f\u7684\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u8fd9\u4e2a\u200b<code>None</code>\u200b\u4f5c\u4e3a\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b: <pre><code>def dump_value(value, extra=None):\n    if extra is None\n        # \u200b\u65e0\u6cd5\u200b\u533a\u5206\u200b\u662f\u5426\u200b\u63d0\u4f9b\u200bNone\u200b\u662f\u4e0d\u662f\u200b\u4e3b\u52a8\u200b\u4f20\u5165\u200b\u7684\u200b\n\n# \u200b\u4e24\u79cd\u200b\u8c03\u7528\u200b\u65b9\u5f0f\u200b\ndump_value(value)\ndump_value(value, extra=None)\n</code></pre></p> <p>\u200b\u8981\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u5bf9\u8c61\u200b\uff08\u200b\u6807\u8bb0\u53d8\u91cf\u200b\uff09\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u53c2\u6570\u200b\uff1a <pre><code># object \u200b\u901a\u5e38\u200b\u4e0d\u4f1a\u200b\u5355\u72ec\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4f46\u662f\u200b\u62ff\u6765\u200b\u505a\u200b\u8fd9\u79cd\u200b\u6807\u8bb0\u53d8\u91cf\u200b\u521a\u521a\u200b\u597d\u200b\n_not_set = object()\ndef dump_value(value, extra=_not_set)\n    if extra is _not_set:\n        # \u200b\u8c03\u7528\u200b\u53d1\u200b\u6ca1\u6709\u200b\u4f20\u9012\u200bextra\u200b\u53c2\u6570\u200b\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#functools","title":"functools","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#functoolspartial","title":"functools.partial()","text":"<p>...</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#functoolslru_cache","title":"functools.lru_cache()","text":"<pre><code>In [5]: from functools import lru_cache\n\nIn [6]: @lru_cache(maxsize=None)\n   ...: def calculate_score(class_id):\n   ...:     print(f'Calculating score for class: {class_id}...')\n   ...:     # \u200b\u6a21\u62df\u200b\u4e00\u4e9b\u200b\u901f\u5ea6\u200b\u5f88\u6162\u200b\u7684\u200b\u4ee3\u7801\u200b\n   ...:     time.sleep(60)\n   ...:     return 42\n   ...:\n# \u200b\u6ca1\u6709\u200b\u547d\u4e2d\u200b\u7f13\u5b58\u200b\uff0c\u200b\u6267\u884c\u200b\u8f83\u6162\u200b\nIn [7]: calculate_score(100)\nCalculating score for class: 100...\nOut[7]: 42\n\nIn [8]: calculate_score(100)\nOut[8]: 42\n</code></pre> <p>\u200b\u4f7f\u7528\u200blru_cache()\u200b\u88c5\u9970\u200b\u5668\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b\u53ef\u9009\u200b\u7684\u200b<code>maxsize</code>\u200b\u53c2\u6570\u200b\uff0c\u200b\u8be5\u200b\u53c2\u6570\u200b\u4ee3\u8868\u200b\u5f53\u524d\u200b\u51fd\u6570\u200b\u53ef\u4ee5\u200b\u4fdd\u5b58\u200b\u591a\u5c11\u200b\u4e2a\u200b\u7f13\u5b58\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5f53\u200b\u8d85\u8fc7\u200b\u65f6\u200b\uff0c\u200b\u7a0b\u5e8f\u200b\u4f1a\u200b\u57fa\u4e8e\u200b\u201c\u200b\u6700\u8fd1\u200b\u6700\u5c11\u200b\u4f7f\u7528\u200b\u201d\u200b\u7b97\u6cd5\u200b\u4e22\u6389\u200b\u65e7\u200b\u7f13\u5b58\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b<code>maxsize</code>\u200b\u53c2\u6570\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b128\uff0c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200bNone\uff0c\u200b\u4ee3\u8868\u200b\u4e0d\u200b\u5254\u9664\u200b\u7f13\u5b58\u200b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_45","title":"\u6848\u4f8b","text":"<p>\u200b\u4f7f\u7528\u200b\u95ed\u5305\u200b\u66ff\u6362\u200b\u6709\u200b\u72b6\u6001\u200b\u51fd\u6570\u200b <pre><code>In [2]: def make_cyclic_mosaic():\n   ...:     \"\"\"\n   ...:     \u200b\u5c06\u200b\u5339\u914d\u200b\u5230\u200b\u7684\u200b\u6a21\u5f0f\u200b\u66ff\u6362\u6210\u200b\u5176\u5b83\u200b\u5b57\u7b26\u200b\uff0c\u200b\u4f7f\u7528\u200b\u95ed\u5305\u200b\u5b9e\u73b0\u200b\u8f6e\u6362\u200b\u5b57\u7b26\u200b\u6548\u679c\u200b\n   ...:     \"\"\"\n   ...:     char_index = 0\n   ...:     mosaic_chars = [\"*\", \"x\"]\n   ...:     def _mosaic(matchobj):\n   ...:         nonlocal char_index\n   ...:         char = mosaic_chars[char_index]\n   ...:         char_index = (char_index + 1) % len(mosaic_chars)\n   ...:         length = len(matchobj.group())\n   ...:         return char * length\n   ...:     return _mosaic\n   ...:\n\nIn [3]: import re\n\nIn [4]: re.sub(r'\\d+', make_cyclic_mosaic(), \"\u200b\u5546\u5e97\u200b\u5171\u200b10\u200b\u4e2a\u200b\u82f9\u679c\u200b\uff0c\u200b\u5c0f\u660e\u200b\u4ee5\u200b12\u200b\u5143\u200b\u6bcf\u65a4\u200b\u7684\u200b\u4ef7\u683c\u200b\u4e70\u200b\u8d70\u200b\u4e86\u200b\")\nOut[4]: '\u200b\u5546\u5e97\u200b\u5171\u200b**\u200b\u4e2a\u200b\u82f9\u679c\u200b\uff0c\u200b\u5c0f\u660e\u200b\u4ee5\u200bxx\u200b\u5143\u200b\u6bcf\u65a4\u200b\u7684\u200b\u4ef7\u683c\u200b\u4e70\u200b\u8d70\u200b\u4e86\u200b'\n\nIn [5]: re.sub(r'\\d+', make_cyclic_mosaic(), \"\u200b\u5546\u5e97\u200b\u5171\u200b10\u200b\u4e2a\u200b\u82f9\u679c\u200b\uff0c\u200b\u5c0f\u660e\u200b\u4ee5\u200b12\u200b\u5143\u200b\u6bcf\u65a4\u200b\u7684\u200b\u4ef7\u683c\u200b\u4e70\u200b\u8d70\u200b\u4e86\u200b\")\nOut[5]: '\u200b\u5546\u5e97\u200b\u5171\u200b**\u200b\u4e2a\u200b\u82f9\u679c\u200b\uff0c\u200b\u5c0f\u660e\u200b\u4ee5\u200bxx\u200b\u5143\u200b\u6bcf\u65a4\u200b\u7684\u200b\u4ef7\u683c\u200b\u4e70\u200b\u8d70\u200b\u4e86\u200b'\n</code></pre></p> <p>\u200b\u4f7f\u7528\u200b\u7c7b\u6765\u200b\u66ff\u6362\u200b\u6709\u200b\u72b6\u6001\u200b\u51fd\u6570\u200b\uff1a <pre><code>In [9]: class CyclicMosaic:\n   ...:     \"\"\"\u200b\u4f7f\u7528\u200b\u4f1a\u200b\u8f6e\u6362\u200b\u7684\u200b\u5c4f\u853d\u200b\u5b57\u7b26\u200b\uff0c\u200b\u57fa\u4e8e\u200b\u7c7b\u200b\u5b9e\u73b0\u200b\"\"\"\n   ...:     _chars = [\"*\", \"x\"]\n   ...:     def __init__(self):\n   ...:         self._char_index = 0\n   ...:     def generate(self, matchobj):\n   ...:         char = self._chars[self._char_index]\n   ...:         self._char_index = (self._char_index + 1) % len(self._chars)\n   ...:         length = len(matchobj.group())\n   ...:         return char * length\n   ...:\n\nIn [10]: re.sub(r\"\\d+\", CyclicMosaic().generate, \"\u200b\u5546\u5e97\u200b\u7528\u200b\u6709\u200b100\u200b\u4e2a\u200b\u82f9\u679c\u200b\uff0c\u200b\u5c0f\u660e\u200b\u4ee5\u200b12\u200b\u5143\u200b\u6bcf\u65a4\u200b\u7684\u200b\u4ef7\u683c\u200b\u4e70\u200b\u8d70\u200b\u4e86\u200b8\u200b\u4e2a\u200b\")\nOut[10]: '\u200b\u5546\u5e97\u200b\u7528\u200b\u6709\u200b***\u200b\u4e2a\u200b\u82f9\u679c\u200b\uff0c\u200b\u5c0f\u660e\u200b\u4ee5\u200bxx\u200b\u5143\u200b\u6bcf\u65a4\u200b\u7684\u200b\u4ef7\u683c\u200b\u4e70\u200b\u8d70\u200b\u4e86\u200b*\u200b\u4e2a\u200b'\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#lambda","title":"\u4f60\u200b\u6ca1\u6709\u200b\u90a3\u4e48\u200b\u9700\u8981\u200blambda","text":"<pre><code>In [6]: l = ['11','1','2']\n\nIn [7]: sorted(l, key=lambda n:int(n))\nOut[7]: ['1', '2', '11']\n</code></pre> <p>\u200b\u4e0a\u9762\u200b\u7684\u200b\u533f\u540d\u200b\u51fd\u6570\u200b\uff0c\u200b\u5176\u5b9e\u200b\u4ec0\u4e48\u200b\u4e5f\u200b\u6ca1\u5e72\u200b\uff0c\u200b\u77e5\u8bc6\u200b\u628a\u200b\u8c03\u7528\u200b\u7684\u200b\u503c\u200b\u4f20\u7ed9\u200b\u4e86\u200bint\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8fd9\u4e48\u200b\u5199\u200b\uff1a <pre><code>In [9]: sorted(l, key=int)\nOut[9]: ['1', '2', '11']\n</code></pre></p> <p>\u200b\u7528\u200blambda\u200b\u83b7\u53d6\u200b\u5b57\u5178\u200b\u67d0\u4e2a\u200bkey\u200b\u7684\u200b\u503c\u200b: <pre><code>sorted(data, key=lambda obj:obj['name'])\n</code></pre> \u200b\u53ef\u4ee5\u200b\u6539\u4e3a\u200b\u4f7f\u7528\u200b<code>operator</code>\u200b\u6a21\u5757\u200b\u91cc\u200b\u7684\u200b\u51fd\u6570\u200b\u6765\u200b\u4ee3\u66ff\u200b\uff1a <pre><code>In [10]: from operator import itemgetter\n\n# \u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u7b49\u540c\u4e8e\u200bobj['name']\nIn [11]: itemgetter('name')\nOut[11]: operator.itemgetter('name')\n\nIn [12]: itemgetter('name')({\"name\":\"foo\"})\nOut[12]: 'foo'\n</code></pre></p> <pre><code>sorted(data, key=itemgetter(\"name\"))\n</code></pre> <p>\u200b\u9664\u4e86\u200b<code>itemgetter()</code>\u200b\u4ee5\u5916\u200b\uff0c<code>operator</code>\u200b\u6a21\u5757\u200b\u91cc\u200b\u8fd8\u6709\u200b\u8bb8\u591a\u200b\u6709\u7528\u200b\u7684\u200b\u51fd\u6570\u200b\uff0c\u200b\u5b83\u4eec\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u7528\u6765\u200b\u66ff\u4ee3\u200b\u7b80\u5355\u200b\u7684\u200b\u64cd\u4f5c\u200b\u8fd0\u7b97\u200b\u7c7b\u200b\u533f\u540d\u200b\u51fd\u6570\u200b\uff0c\u200b\u6bd4\u5982\u200b<code>add()</code>\u3001<code>attrgetter()</code>\u200b\u7b49\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_46","title":"\u88c5\u9970\u200b\u5668","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#functoolswraps","title":"\u4f7f\u7528\u200bfunctools.wraps()\u200b\u4fee\u9970\u200b\u5305\u88c5\u200b\u51fd\u6570","text":"<p>\u200b\u7531\u4e8e\u200b\u88c5\u9970\u200b\u5668\u200b\u51fd\u6570\u200b\u4f1a\u200b\u91cd\u65b0\u200b\u5b9a\u4e49\u200b\u88ab\u200b\u88c5\u9970\u200b\u5668\u200b\u7684\u200b\u51fd\u6570\u200b\u5c5e\u6027\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u4f7f\u7528\u200bwraps\u200b\u88c5\u9970\u200b\u5668\u6765\u200b\u4fdd\u7559\u200b\u539f\u51fd\u6570\u200b\u7684\u200b\u5c5e\u6027\u200b <pre><code>from functools import wraps\nimport time\ndef timer(print_args=False):\n    \"\"\"\u200b\u88c5\u9970\u200b\u5668\u200b: \u200b\u6253\u5370\u51fd\u6570\u200b\u8017\u65f6\u200b\"\"\"\n    def decorator(func):\n        @wraps(func)\n        def wrapper(*args, **kwargs):\n            st = time.perf_counter()\n            ret = func(*args, **kwargs)\n            if print_args:\n                print(f\"{func.__name__}, args: {args}, kwargs: {kwargs}\")\n            return ret\n        return wrapper\n    return decorator\n\ndef calls_counter(func):\n    \"\"\"\n    \u200b\u88c5\u9970\u200b\u5668\u200b\uff1a\u200b\u8bb0\u5f55\u200b\u51fd\u6570\u200b\u88ab\u200b\u8c03\u7528\u200b\u4e86\u200b\u591a\u5c11\u200b\u6b21\u200b\n    \"\"\"\n    counter = 0\n    @wraps(func)\n    def decorate(*args, **kwargs):\n        nonlocal counter\n        counter += 1\n        return func(*args, **kwargs)\n    def print_counter():\n        print(f\"Counter: {counter}\")\n    decorate.print_counter = print_counter\n    return decorate\n\n@timer(print_args=True)\n@calls_counte\ndef random_sleep():\n    \"\"\"\u200b\u968f\u673a\u200b\u5c0f\u7761\u200b\u4e00\u4f1a\u200b\"\"\"\n    time.sleep(random.random())\n\nIn [79]: random_sleep.__doc__\nOut[79]: '\u200b\u968f\u673a\u200b\u5c0f\u7761\u200b\u4e00\u4f1a\u200b'\n\nIn [80]: random_sleep.__name__\nOut[80]: 'random_sleep'\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_47","title":"\u88c5\u9970\u200b\u5668\u200b\u5b9e\u73b0\u200b\u53ef\u200b\u9009\u200b\u53c2\u6570","text":"<pre><code>In [96]: def delayed_start(func=None, *, duration=1):\n    ...:     \"\"\"\n    ...:     \u200b\u5728\u200b\u6267\u884c\u200b\u88ab\u200b\u88c5\u9970\u200b\u51fd\u6570\u200b\u4e4b\u524d\u200b\uff0c\u200b\u7b49\u5f85\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\n    ...:     :param duration: \u200b\u9700\u8981\u200b\u7b49\u5f85\u200b\u7684\u200b\u79d2\u6570\u200b\n    ...:     \"\"\"\n    ...:     def decorator(_func):\n    ...:         def wrapper(*args, **kwargs):\n    ...:             print(func, duration)\n    ...:             print(f\"Wait for {duration} second before starting...\")\n    ...:             time.sleep(duration)\n    ...:             return _func(*args, **kwargs)\n    ...:         return wrapper\n    ...:     if func is None:\n    ...:         return decorator\n    ...:     else:\n    ...:         return decorator(func)\n    ...:\n\nIn [97]: @delayed_start\n    ...: def foo():\n    ...:     print(\"hello\")\n    ...:\n\nIn [98]: foo()\n&lt;function foo at 0x000002708C931E10&gt; 1\nWait for 1 second before starting...\nhello\n\nIn [99]: @delayed_start(duration=1)\n    ...: def foo():\n    ...:     print(\"hello\")\n    ...:\n\nIn [100]: foo()\nNone 1\nWait for 1 second before starting...\nhello\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_48","title":"\u7528\u7c7b\u200b\u5b9e\u73b0\u200b\u88c5\u9970\u200b\u5668\u200b(\u200b\u51fd\u6570\u200b\u66ff\u6362\u200b)","text":"<pre><code>In [12]: from functools import wraps\nIn [13]: import time\nIn [14]: import random\n\nIn [11]: class timer:\n    ...:     \"\"\"\n    ...:     \u200b\u88c5\u9970\u200b\u5668\u200b\uff1a \u200b\u6253\u5370\u51fd\u6570\u200b\u8017\u65f6\u200b\n    ...:     :param print_args: \u200b\u662f\u5426\u200b\u6253\u5370\u200b\u65b9\u6cd5\u200b\u540d\u200b\u548c\u200b\u53c2\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200bFalse\n    ...:     \"\"\"\n    ...:     def __init__(self, print_args):\n    ...:         self.print_args = print_args\n    ...:     def __call__(self, func):\n    ...:         @wraps(func)\n    ...:         def decorated(*args, **kwargs):\n    ...:             st = time.perf_counter()\n    ...:             ret = func(*args, **kwargs)\n    ...:             if self.print_args:\n    ...:                 print(f\"{func.__name__}, args: {args}, kwargs: {kwargs}\")\n    ...:             print(\"time cost: {} seonds\".format(time.perf_counter() - st))\n    ...:             return ret\n    ...:         return decorated\n    ...:\n\nIn [22]: @timer(print_args=True)\n    ...: def random_sleep():\n    ...:     \"\"\"\u200b\u968f\u673a\u200b\u5c0f\u7761\u200b\u4e00\u4f1a\u200b\"\"\"\n    ...:     time.sleep(random.random())\n    ...:\n\nIn [23]: random_sleep()\nrandom_sleep, args: (), kwargs: {}\ntime cost: 0.34521829999721376 seonds\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_49","title":"\u7528\u7c7b\u200b\u5b9e\u73b0\u200b\u88c5\u9970\u200b\u5668\u200b(\u200b\u5b9e\u4f8b\u200b\u66ff\u6362\u200b)","text":"<pre><code>In [9]: class DelayedStart:\n   ...:     \"\"\"\u200b\u5728\u200b\u6267\u884c\u200b\u88ab\u200b\u88c5\u9970\u200b\u51fd\u6570\u200b\u524d\u200b\uff0c\u200b\u7b49\u5f85\u200b1\u200b\u79d2\u949f\u200b\"\"\"\n   ...:     def __init__(self, func):\n   ...:         update_wrapper(self, func)\n   ...:         self.func = func\n   ...:     def __call__(self, *args, **kwargs):\n   ...:         print(f\"Wait for 1 second before starting...\")\n   ...:         time.sleep(1)\n   ...:         return self.func(*args, **kwargs)\n   ...:     def eager_call(self, *args, **kwargs):\n   ...:         \"\"\"\u200b\u8df3\u8fc7\u200b\u7b49\u5f85\u200b\uff0c\u200b\u7acb\u5373\u200b\u6267\u884c\u200b\u88ab\u200b\u88c5\u9970\u200b\u51fd\u6570\u200b\"\"\"\n   ...:         print(\"Call without delay\")\n   ...:         return self.func(*args, **kwargs)\n   ...:\n\nIn [10]: @DelayedStart\n    ...: def hello():\n    ...:     print(\"hello world\")\n    ...:\n\nIn [11]: hello\nOut[11]: &lt;__main__.DelayedStart at 0x2723ea71180&gt;\n\nIn [12]: type(hello)\nOut[12]: __main__.DelayedStart\n\nIn [13]: hello.__name__\nOut[13]: 'hello'\n\nIn [14]: hello()\nWait for 1 second before starting...\nhello world\n\nIn [15]: hello.eager_call()\nCall without delay\nhello world\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_50","title":"\u7528\u7c7b\u200b\u5b9e\u73b0\u200b\u5e26\u6709\u200b\u53c2\u6570\u200b\u7684\u200b\u88c5\u9970\u200b\u5668","text":"<pre><code>In [16]: class DelayedStart:\n    ...:     \"\"\"\n    ...:     \u200b\u5728\u200b\u6267\u884c\u200b\u88ab\u200b\u88c5\u9970\u200b\u51fd\u6570\u200b\u4e4b\u524d\u200b\uff0c\u200b\u7b49\u5f85\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\n    ...:     :param func: \u200b\u88ab\u200b\u88c5\u9970\u200b\u7684\u200b\u51fd\u6570\u200b\n    ...:     :param duration: \u200b\u9700\u8981\u200b\u7b49\u5f85\u200b\u7684\u200b\u79d2\u6570\u200b\n    ...:     \"\"\"\n    ...:     def __init__(self, func, *, duration=1):\n    ...:         update_wrapper(self, func)\n    ...:         self.func = func\n    ...:         self.duration = duration\n    ...:     def __call__(self, *args, **kwargs):\n    ...:         print(f\"Wait for {self.duration} second before starting...\")\n    ...:         time.sleep(self.duration)\n    ...:         return self.func(*args, **kwargs)\n    ...:     def eager_call(self, *args, **kwargs):\n    ...:         \"\"\"\u200b\u8df3\u8fc7\u200b\u7b49\u5f85\u200b\uff0c\u200b\u7acb\u5373\u200b\u6267\u884c\u200b\u88ab\u200b\u88c5\u9970\u200b\u7684\u200b\u51fd\u6570\u200b\"\"\"\n    ...:         print(\"Call without delay\")\n    ...:         return self.func(*args, **kwargs)\n    ...:\n\nIn [17]: def delayed_start(**kwargs):\n    ...:     \"\"\"\u200b\u88c5\u9970\u200b\u5668\u200b\uff1a\u200b\u63a8\u8fdf\u200b\u67d0\u4e2a\u200b\u51fd\u6570\u200b\u7684\u200b\u6267\u884c\u200b\"\"\"\n    ...:     return partial(DelayedStart, **kwargs)\n    ...:\n\nIn [18]: from functools import *\n\nIn [19]: @delayed_start(duration=2)\n    ...: def hello():\n    ...:     print(\"hello world\")\n    ...:\n\nIn [20]: hello\nOut[20]: &lt;__main__.DelayedStart at 0x2723e014580&gt;\n\nIn [21]: hello()\nWait for 2 second before starting...\nhello world\n\nIn [22]: hello.eager_call()\nCall without delay\nhello world\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#wrapt","title":"\u4f7f\u7528\u200bwrapt\u200b\u6a21\u5757\u200b\u52a9\u529b\u200b\u88c5\u9970\u200b\u5668\u200b\u7f16\u5199","text":"<pre><code>In [29]: def provide_number(min_num, max_num):\n    ...:     @wrapt.decorator\n    ...:     def wrapper(wrapped, instance, args, kwargs):\n    ...:         num = random.randint(min_num, max_num)\n    ...:         args = (num,) + args\n    ...:         return wrapped(*args, **kwargs)\n    ...:     return wrapper\n    ...:\n\nIn [30]: @provide_number(1,100)\n    ...: def print_random_number(num):\n    ...:     print(num)\n    ...:\n\nIn [34]: print_random_number()\n98\n\nIn [35]: class Foo:\n    ...:     @provide_number(1,100)\n    ...:     def print_random_number(self, num):\n    ...:         print(num)\n    ...:\n\nIn [36]: Foo().print_random_number()\n82\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_51","title":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_52","title":"\u4fee\u6539\u200b\u5b9e\u4f8b\u200b\u5b57\u5178\u200b\u6570\u636e","text":"<pre><code>In [1]: class Person:\n   ...:     def __init__(self, name, age):\n   ...:         self.name = name\n   ...:         self.age = age\n   ...:     def say(self):\n   ...:         print(f\"Hi, My name is {self.name}, I'm {self.age}\")\n   ...:\n\nIn [2]: Person.__dict__\nOut[2]:\nmappingproxy({'__module__': '__main__',\n              '__init__': &lt;function __main__.Person.__init__(self, name, age)&gt;,\n              'say': &lt;function __main__.Person.say(self)&gt;,\n              '__dict__': &lt;attribute '__dict__' of 'Person' objects&gt;,\n              '__weakref__': &lt;attribute '__weakref__' of 'Person' objects&gt;,\n              '__doc__': None})\n\nIn [3]: p = Person(\"yanghe\",18)\n\nIn [4]: p.__dict__\nOut[4]: {'name': 'yanghe', 'age': 18}\n</code></pre> <ol> <li>\u200b\u7c7b\u200b\u7684\u200b<code>__dict__</code>\u200b\u91cc\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u7740\u200b\u7c7b\u200b\u7684\u200b\u6587\u6863\u200b\uff0c\u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b\u7b49\u200b\u6570\u636e\u200b</li> <li>\u200b\u5b9e\u4f8b\u200b<code>__dict__</code>\u200b\u91cc\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u7740\u200b\u5f53\u524d\u200b\u5b9e\u4f8b\u200b\u6240\u6709\u200b\u5c5e\u6027\u6570\u636e\u200b</li> </ol> <p>\u200b\u6709\u200b\u4e00\u4efd\u200b<code>Person</code>\u200b\u5b9e\u4f8b\u200b\u7684\u200b\u5c5e\u6027\u200b\u5b57\u5178\u200b\uff0c\u200b\u628a\u200b\u8fd9\u4efd\u200b\u5c5e\u6027\u200b\u5b57\u5178\u200b\u66f4\u65b0\u200b\u5230\u200b<code>Person</code>\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5f53\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b\u904d\u200b\u5386\u6765\u200b\u8bbe\u7f6e\u200b\u5c5e\u6027\u200b\uff1a <pre><code>In [5]: for key, value in d.items():\n   ...:     setattr(p, key, value)\n   ...:\n\nIn [6]: p.__dict__\nOut[6]: {'name': 'andrew', 'age': 20}\n</code></pre></p> <p>\u200b\u5728\u200b\u4f7f\u7528\u200b<code>setattr</code>\u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u7c7b\u200b\u7684\u200b<code>__setattr__</code>\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u6765\u200b\u63a7\u5236\u200b <pre><code>In [11]: class Person:\n    ...:     def __init__(self, name, age):\n    ...:         self.name = name\n    ...:         self.age = age\n    ...:     def say(self):\n    ...:         print(f\"Hi My name is {self.name}, I'm {self.age}\")\n    ...:     def __setattr__(self, name, value):\n    ...:         # \u200b\u4e0d\u200b\u5141\u8bb8\u200b\u8bbe\u7f6e\u200b\u5e74\u9f84\u200b\u5c0f\u4e8e\u200b0\n    ...:         if name == \"age\" and value &lt; 0:\n    ...:             raise ValueError(f\"Invalid age value: {value}\")\n    ...:         super().__setattr__(name, value)\n    ...:\n\nIn [12]: p = Person(\"yanghe\",30)\n\nIn [13]: p.age = -3\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\nCell In[13], line 1\n----&gt; 1 p.age = -3\n\nCell In[11], line 10, in Person.__setattr__(self, name, value)\n      7 def __setattr__(self, name, value):\n      8     # \u200b\u4e0d\u200b\u5141\u8bb8\u200b\u8bbe\u7f6e\u200b\u5e74\u9f84\u200b\u5c0f\u4e8e\u200b0\n      9     if name == \"age\" and value &lt; 0:\n---&gt; 10         raise ValueError(f\"Invalid age value: {value}\")\n     11     super().__setattr__(name, value)\n\nValueError: Invalid age value: -3\n</code></pre></p> <p>\u200b\u5982\u679c\u200b\u76f4\u63a5\u200b\u64cd\u4f5c\u200b<code>__dict__</code>\u200b\u5b57\u5178\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u65e0\u89c6\u200b\u8fd9\u4e2a\u200b\u9650\u5236\u200b\uff1a <pre><code>In [14]: p.__dict__[\"age\"] = -3\n\nIn [15]: p.say()\nHi My name is yanghe, I'm -3\n</code></pre></p> <p>\u200b\u6216\u8005\u200b\u4f7f\u7528\u200b<code>update</code>\u200b\u6765\u200b\u66f4\u65b0\u200b\uff1a <pre><code>In [7]: p.__dict__.update({\"name\":\"tom\",\"age\":30})\n\nIn [8]: p.__dict__\nOut[8]: {'name': 'tom', 'age': 30}\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#property","title":"property \u200b\u5c5e\u6027\u200b\u5bf9\u8c61","text":"<pre><code>In [1]: class FilePath:\n   ...:     def __init__(self, path):\n   ...:         self.path = path\n   ...:     @property\n   ...:     def basename(self):\n   ...:         \"\"\"\u200b\u83b7\u53d6\u200b\u6587\u4ef6\u540d\u200b\"\"\"\n   ...:         return self.path.rsplit(os.sep, 1)[-1]\n   ...:     @basename.setter\n   ...:     def basename(self, name):\n   ...:         \"\"\"\u200b\u4fee\u6539\u200b\u5f53\u524d\u200b\u8def\u5f84\u200b\u91cc\u200b\u7684\u200b\u6587\u4ef6\u540d\u200b\u90e8\u5206\u200b\"\"\"\n   ...:         new_path = self.path.rsplit(os.sep, 1)[:-1] + [name]\n   ...:         self.path = os.sep.join(new_path)\n   ...:     @basename.deleter\n   ...:     def basename(self):\n   ...:         raise RuntimeError(\"Can not delete basename!\")\n   ...:\n</code></pre> <p>\u200b\u9664\u4e86\u200b<code>@property</code>\u200b\u4ee5\u5916\u200b\uff0c\u200b\u63cf\u8ff0\u7b26\u200b\u4e5f\u200b\u80fd\u200b\u505a\u5230\u200b\u540c\u6837\u200b\u7684\u200b\u4e8b\u60c5\u200b\uff0c\u200b\u5e76\u4e14\u200b\u529f\u80fd\u200b\u66f4\u200b\u591a\u200b\uff0c\u200b\u66f4\u200b\u5f3a\u5927\u200b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_53","title":"\u9e2d\u5b50\u200b\u7c7b\u578b","text":"<p>\u200b\u53ea\u4f1a\u200b\u5173\u6ce8\u200b\u5bf9\u8c61\u200b\u7684\u200b\u884c\u4e3a\u200b\uff0c\u200b\u800c\u200b\u4e0d\u200b\u5173\u6ce8\u200b\u662f\u4e0d\u662f\u200b\u67d0\u4e2a\u200b\u5177\u4f53\u200b\u7684\u200b\u5bf9\u8c61\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u5f53\u200b\u770b\u5230\u200b\u4e00\u53ea\u200b\u9e1f\u200b\u8d70\u200b\u8d77\u6765\u200b\u50cf\u200b\u9e2d\u5b50\u200b\u3001\u200b\u6e38\u6cf3\u200b\u8d77\u6765\u200b\u50cf\u200b\u9e2d\u5b50\u200b\u3001\u200b\u53eb\u200b\u8d77\u6765\u200b\u4e5f\u200b\u50cf\u200b\u9e2d\u5b50\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u200b\u53ea\u200b\u9e1f\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u79f0\u4e3a\u200b\u9e2d\u5b50\u200b\u3002                                                               \u2014\u2014\u200b\u6765\u81ea\u200b\u201c\u200b\u9e2d\u5b50\u200b\u7c7b\u578b\u200b\u201d\u200b\u7684\u200b\u7ef4\u57fa\u767e\u79d1\u200b\u8bcd\u6761\u200b </p> <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u867d\u7136\u200bPython\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u68c0\u67e5\u200b\u7c7b\u578b\u200b\u7684\u200b\u51fd\u6570\u200b<code>isinstace()</code>\uff0c\u200b\u4f46\u662f\u200b\u9e2d\u5b50\u200b\u7c7b\u578b\u200b\u5e76\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f60\u200b\u4f7f\u7528\u200b\u5b83\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200b<code>hasattr</code>\u200b\u7ed9\u200b\u9e2d\u5b50\u200b\u7c7b\u578b\u200b\u589e\u52a0\u200b\u6821\u9a8c\u200b\uff0c\u200b\u5224\u65ad\u200b\u7c7b\u578b\u200b\u662f\u4e0d\u662f\u200b\u6709\u200b\u8be5\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6ca1\u6709\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u5c31\u8ba9\u200b\u5b83\u200b\u62a5\u9519\u200b\uff0c\u200b\u7edf\u8ba1\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u5143\u97f3\u200b\u6570\u91cf\u200b(\u200b\u589e\u52a0\u200b\u6821\u9a8c\u200b)\uff1a <pre><code>def count_vowels(fp):\n    \"\"\"\u200b\u7edf\u8ba1\u200b\u67d0\u4e2a\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u539f\u56e0\u200b\u5b57\u6bcd\u200b\uff08aeiou\uff09\u200b\u7684\u200b\u6570\u91cf\u200b\"\"\"\n    if not hasattr(fp, \"read\"):\n        raise TypeError(\"must provide a valid file object\")\n    VOWELS_LETTERS = {\"a\",\"e\",\"i\",\"o\",\"u\"}\n    count = 0\n    for line in fp:\n        for char in line:\n            if char.lower() in VOWELS_LETTERS:\n                count += 1\n    return count\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_54","title":"\u62bd\u8c61\u7c7b","text":"<p>\u200b\u53ea\u8981\u200b\u8be5\u7c7b\u200b\u5b9e\u73b0\u200b\u4e86\u200b<code>validate</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c31\u200b\u88ab\u200b\u5f53\u4f5c\u200b<code>Validator</code>\u200b\u7684\u200b\u5b50\u7c7b\u200b <pre><code>In [11]: class Validator(ABC):\n    ...:     \"\"\"\u200b\u6821\u9a8c\u200b\u5668\u200b\u62bd\u8c61\u7c7b\u200b\"\"\"\n    ...:     @classmethod\n    ...:     def __subclasshook__(cls, C):\n    ...:         \"\"\"\u200b\u4efb\u4f55\u200b\u63d0\u4f9b\u200b\u4e86\u200bvalidate\u200b\u65b9\u6cd5\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u90fd\u200b\u88ab\u200b\u5f53\u4f5c\u200bValidator\u200b\u7684\u200b\u5b50\u7c7b\u200b\"\"\"\n    ...:         if any(\"validate\" in B.__dict__ for B in C.__mro__):\n    ...:             return True\n    ...:         return NotImplemented\n    ...:     def validate(self, value):\n    ...:         raise NotImplemented\n    ...:\n\nIn [12]: class StringValidator:\n    ...:     def validate(self, value):\n    ...:         pass\n    ...:\n\nIn [13]: isinstance(StringValidator(), Validator)\nOut[13]: True\n</code></pre> \u200b\u901a\u8fc7\u200b<code>__subclasshook__</code>\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5b9a\u5236\u200b\u62bd\u8c61\u7c7b\u200b\u7684\u200b\u5b50\u7c7b\u200b\u5224\u65ad\u200b\u903b\u8f91\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u5b50\u7c7b\u200b\u53ea\u200b\u5173\u5fc3\u200b\u7ed3\u6784\u200b\uff0c\u200b\u4e0d\u200b\u5173\u5fc3\u200b\u5b9e\u9645\u200b\u7684\u200b\u7ee7\u627f\u200b\u903b\u8f91\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5e38\u200b\u79f0\u4e3a\u200b\u201c\u200b\u7ed3\u6784\u200b\u5316\u5b50\u200b\u7c7b\u200b\u201d\u3002</p> <p>\u200b\u62bd\u8c61\u7c7b\u200b\u5b9e\u73b0\u200b\u5b50\u7c7b\u200b\u7684\u200b\u6ce8\u518c\u200b\uff1a <pre><code>In [15]: class Foo:\n    ...:     pass\n    ...:\n\nIn [16]: isinstance(Foo, Validator)\nOut[16]: False\n\nIn [17]: Validator.register(Foo)\nOut[17]: __main__.Foo\n\nIn [18]: isinstance(Foo(), Validator)\nOut[18]: True\n\nIn [19]: issubclass(Foo, Validator)\nOut[19]: True\n</code></pre></p> <p>\u200b\u6709\u200b\u4e86\u200b\u62bd\u8c61\u7c7b\u200b\u4ee5\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b<code>isinstance(obj,type)</code>\u200b\u6765\u200b\u8fdb\u884c\u200b\u9e2d\u5b50\u200b\u7c7b\u578b\u200b\u7f16\u7a0b\u200b\u98ce\u683c\u200b\u7684\u200b\u7c7b\u578b\u200b\u6821\u9a8c\u200b\u4e86\u200b\uff0c\u200b\u53ea\u8981\u200b\u5f85\u200b\u5339\u914d\u200b\u7c7b\u578b\u200btype\u200b\u662f\u200b\u62bd\u8c61\u7c7b\u200b\uff0c\u200b\u7c7b\u578b\u200b\u68c0\u67e5\u200b\u5c31\u200b\u7b26\u5408\u200b\u9e2d\u5b50\u200b\u7c7b\u578b\u200b\u7f16\u7a0b\u200b\u98ce\u683c\u200b----\u200b\u53ea\u200b\u6821\u9a8c\u200b\u884c\u4e3a\u200b\uff0c\u200b\u4e0d\u200b\u6821\u9a8c\u200b\u7c7b\u578b\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_55","title":"\u5176\u5b83\u200b\u529f\u80fd","text":"<p>\u200b\u5229\u7528\u200b<code>abc</code>\u200b\u6a21\u5757\u200b\u7684\u200b<code>@abstractmethod</code>\u200b\u88c5\u9970\u200b\u5668\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u628a\u200b\u67d0\u4e2a\u200b\u65b9\u6cd5\u200b\u6807\u8bb0\u200b\u6210\u200b\u62bd\u8c61\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5982\u679c\u200b\u5728\u200b\u5b50\u7c7b\u200b\u6ca1\u6709\u200b\u91cd\u5199\u200b\u62bd\u8c61\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b83\u200b\u5c31\u200b\u65e0\u6cd5\u200b\u6b63\u5e38\u200b\u5b9e\u4f8b\u200b\u5316\u200b <pre><code>In [26]: class Validator(ABC):\n    ...:     \"\"\"\u200b\u6821\u9a8c\u200b\u5668\u200b\u62bd\u8c61\u7c7b\u200b\"\"\"\n    ...:     @abstractmethod\n    ...:     def validate(self, value):\n    ...:         raise NotImplemented\n    ...:\n\nIn [28]: class InvalidValidator(Validator):\n    ...:     ...\n    ...:\n\nIn [29]: obj = InvalidValidator()\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\nCell In[29], line 1\n----&gt; 1 obj = InvalidValidator()\n\nTypeError: Can't instantiate abstract class InvalidValidator with abstract methods validate\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#mixin","title":"Mixin\u200b\u6a21\u5f0f","text":"<p><code>Mixin</code>\u200b\u662f\u200b\u4e00\u79cd\u200b\u628a\u200b\u989d\u5916\u200b\u529f\u80fd\u200b\u201d\u200b\u6df7\u5165\u200b\u201c\u200b\u67d0\u4e2a\u200b\u7c7b\u200b\u7684\u200b\u6280\u672f\u200b\uff0c\u200b\u5728\u200bpython\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u7528\u200b\u591a\u91cd\u200b\u7ee7\u627f\u200b\u6765\u200b\u5b9e\u73b0\u200b<code>Mixin</code>\u200b\u6a21\u5f0f\u200b <pre><code>In [34]: class InfoDumperMixin:\n    ...:     \"\"\"Mixin: \u200b\u8f93\u51fa\u200b\u5f53\u524d\u200b\u5b9e\u4f8b\u200b\u4fe1\u606f\u200b\"\"\"\n    ...:     def dump_info(self):\n    ...:         d = self.__dict__\n    ...:         print(\"Number of mumbers: {}\".format(len(d)))\n    ...:         print(\"Details:\")\n    ...:         for key, value in d.items():\n    ...:             print(f\" - {key}: {value}\")\n    ...:\n\nIn [36]: class Person(InfoDumperMixin):\n    ...:     def __init__(self, name, age):\n    ...:         self.name = name\n    ...:         self.age = age\n    ...:\n\nIn [37]: p = Person(\"Jack\", 20)\n\nIn [38]: p.dump_info()\nNumber of mumbers: 2\nDetails:\n - name: Jack\n - age: 20\n</code></pre></p> <p>\u200b\u4f7f\u7528\u200b<code>Mixin</code>\u200b\u7c7b\u200b\u7684\u200b\u6ce8\u610f\u200b\u70b9\u200b\uff1a  1. \u200b\u4e3a\u4e86\u200b\u5b9e\u73b0\u200b\u67d0\u4e2a\u200b\u590d\u6742\u200b\u7684\u200b\u529f\u80fd\u200b  1. \u200b\u4e00\u4e2a\u200b\u7c7b\u200b\u901a\u5e38\u200b\u4f1a\u200b\u6df7\u5165\u200b\u591a\u4e2a\u200b\u7c7b\u200b  3. \u200b\u5927\u591a\u6570\u200b<code>Mixin</code>\u200b\u4e0d\u80fd\u200b\u5355\u72ec\u200b\u4f7f\u7528\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_56","title":"\u7ee7\u627f","text":"<p>\u200b\u7ee7\u627f\u200b\u662f\u200b\u4e00\u79cd\u200b\u6781\u4e3a\u200b\u673a\u5bc6\u200b\u5f97\u200b\u8026\u5408\u200b\u5173\u7cfb\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u7ee7\u627f\u200b\u60f9\u200b\u6765\u5f97\u200b\u9ebb\u70e6\u200b\uff0c\u200b\u6bcf\u5f53\u200b\u4f60\u200b\u521b\u5efa\u200b\u65b0\u200b\u7684\u200b\u7ee7\u627f\u200b\u5173\u7cfb\u200b\u65f6\u200b\uff0c\u200b\u5e94\u8be5\u200b\u8bd5\u7740\u200b\u95ee\u200b\u81ea\u5df1\u200b\u51e0\u4e2a\u200b\u95ee\u9898\u200b\uff1a - \u200b\u6211\u8981\u200b\u8ba9\u200bB\u200b\u7c7b\u200b\u7ee7\u627f\u200bA\u200b\u7c7b\u200b\uff0c\u200b\u4f46\u200bB\u200b\u7c7b\u200b\u548c\u200bA\u200b\u771f\u7684\u200b\u4ee3\u8868\u200b\u540c\u200b\u4e00\u79cd\u200b\u4e1c\u897f\u200b\u5417\u200b\uff1f\u200b\u5982\u679c\u200b\u5b83\u200b\u4e24\u200b\u4e0d\u662f\u200b\u540c\u7c7b\u200b\uff0c\u200b\u4e3a\u4ec0\u4e48\u200b\u8981\u200b\u7ee7\u627f\u200b\uff1f - \u200b\u5373\u4f7f\u200bB\u200b\u548c\u200bA\u200b\u7c7b\u65f6\u200b\u540c\u7c7b\u200b\uff0c\u200b\u90a3\u200b\u5b83\u4eec\u200b\u771f\u7684\u200b\u9700\u8981\u200b\u7ee7\u627f\u200b\u6765\u200b\u8868\u660e\u200b\u7c7b\u578b\u200b\u5173\u7cfb\u200b\u5417\u200b\uff1f\u200b\u8981\u200b\u77e5\u9053\u200b\uff0cPython\u200b\u65f6\u200b\u9e2d\u5b50\u200b\u7c7b\u578b\u200b\u7684\u200b\uff0c\u200b\u4f60\u200b\u4e0d\u7528\u200b\u7ee7\u627f\u200b\u4e5f\u200b\u80fd\u200b\u5b9e\u73b0\u200b\u591a\u6001\u200b\u3002 - \u200b\u5982\u679c\u200b\u7ee7\u627f\u200b\u53ea\u662f\u200b\u4e3a\u4e86\u200b\u8ba9\u200bB\u200b\u7c7b\u200b\u590d\u7528\u200bA\u200b\u7c7b\u200b\u7684\u200b\u51e0\u4e2a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u90a3\u4e48\u200b\u7528\u200b\u7ec4\u5408\u200b\u6765\u200b\u66ff\u4ee3\u200b\u7ee7\u627f\u200b\u4f1a\u200b\u4e0d\u4f1a\u200b\u66f4\u597d\u200b\uff1f</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#__init_subclass","title":"\u4f7f\u7528\u200b__init_subclass\u200b\u66ff\u4ee3\u200b\u5143\u7c7b","text":"<pre><code>In [1]: class Validator:\n   ...:     \"\"\"\u200b\u6821\u9a8c\u200b\u5668\u200b\u57fa\u7c7b\u200b\uff1a\u200b\u540c\u4e00\u200b\u6ce8\u518c\u200b\u6240\u6709\u200b\u6821\u9a8c\u200b\u5668\u7c7b\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u540e\u7eed\u200b\u4f7f\u7528\u200b\"\"\"\n   ...:     _validators = {}\n   ...:     def __init_subclass__(cls, **kwargs):\n   ...:         print(\"{} registered, extra kwargs: {}\".format(cls.__name__, kwargs))\n   ...:         Validator._validators[cls.__name__] = cls\n   ...:\n\nIn [2]: class StringValidator(Validator, foo=\"bar\"):\n   ...:     name = \"string\"\n   ...:\nStringValidator registered, extra kwargs: {'foo': 'bar'}\n\nIn [3]: class IntegerValidator(Validator):\n   ...:     name = \"int\"\n   ...:\nIntegerValidator registered, extra kwargs: {}\n\nIn [4]: Validator._validators\nOut[4]:\n{'StringValidator': __main__.StringValidator,\n 'IntegerValidator': __main__.IntegerValidator}\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_57","title":"\u5728\u200b\u5206\u652f\u200b\u4e2d\u200b\u5bfb\u627e\u200b\u591a\u6001\u200b\u7684\u200b\u5e94\u7528\u200b\u65f6\u673a","text":"<p>\u200b\u672a\u200b\u4f7f\u7528\u200b\u591a\u6001\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a <pre><code>class FancyLogger:\n    \"\"\"\u200b\u65e5\u5fd7\u200b\u7c7b\u200b\uff1a\u200b\u652f\u6301\u200b\u5411\u200b\u6587\u4ef6\u200b\u3001Redis\u3001ES\u200b\u7b49\u200b\u670d\u52a1\u200b\u8f93\u51fa\u200b\u65e5\u5fd7\u200b\"\"\"\n    _redis_max_length = 1024\n    def __init__(self, output_type=OutputType.FILE):\n        self.output_type = output_type\n    def log(self, message):\n        \"\"\"\u200b\u6253\u5370\u200b\u65e5\u5fd7\u200b\"\"\"\n        if self.output_type == OutputType.FILE:\n            ...\n        elif self.output_type == OutputType.REDIS:\n            ...\n        elif self.output_type == OutputType.ES:\n            ...\n        else:\n            raise TypeError('output type invalid')\n    def pre_process(self, message):\n        if self.output_type == OutputType.REDIS:\n            return message[:self._redis_max_length]\n</code></pre></p> <p>\u200b\u5bf9\u4e8e\u200b\u4e09\u79cd\u200b\u65e5\u5fd7\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u521b\u5efa\u200b\u4e0b\u9762\u200b\u7684\u200bWriter\u200b\u7c7b\u200b\uff1a <pre><code>class FileWriter:\n    def writer(self, message):\n        ...\n\nclass RedisWriter:\n    max_length = 1024\n    def write(self, message):\n        message = self._pre_process(message)\n    def _pre_process(self, message):\n        # Redis \u200b\u5bf9\u200b\u65e5\u5fd7\u200b\u6700\u5927\u200b\u957f\u5ea6\u200b\u6709\u200b\u9650\u5236\u200b\uff0c\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u88c1\u526a\u200b\n        return message[: self.max_length]\n\nclass EsWriter:\n    def writer(self.message):\n        ...\n</code></pre></p> <p>\u200b\u57fa\u4e8e\u200b\u8fd9\u4e9b\u200b\u4e0d\u540c\u200b\u7684\u200b<code>Writer</code>\u200b\u7c7b\u200b\uff0c <code>FancyLogger</code>\u200b\u53ef\u4ee5\u200b\u7b80\u5316\u200b\u6210\u200b\u4e0b\u9762\u200b\u8fd9\u6837\u200b\uff1a <pre><code>class FancyLogger:\n    \"\"\"\u200b\u65e5\u5fd7\u200b\u7c7b\u200b\uff1a\u200b\u652f\u6301\u200b\u5411\u200b\u6587\u4ef6\u200b\u3001Redis\u3001Es\u200b\u7b49\u200b\u670d\u52a1\u200b\u8f93\u51fa\u200b\u65e5\u5fd7\u200b\"\"\"\n    def __init__(self, output_writer=None):\n        self._writer = output_writer or FileWriter\n        ...\n    def log(self, message):\n        self._writer.write(message)\n</code></pre></p> <p>\u200b\u627e\u5230\u200b\u4f7f\u7528\u200b\u591a\u6001\u200b\u7684\u200b\u65f6\u673a\u200b\uff1a - \u200b\u6709\u200b\u8bb8\u591a\u200bif/else\u200b\u5224\u65ad\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8fd9\u4e9b\u200b\u5224\u65ad\u200b\u8bed\u53e5\u200b\u7684\u200b\u6761\u4ef6\u200b\u90fd\u200b\u975e\u5e38\u200b\u7c7b\u4f3c\u200b - \u200b\u6709\u200b\u8bb8\u591a\u200b\u9488\u5bf9\u200b\u7c7b\u578b\u200bisinstance()\u200b\u5224\u65ad\u200b\u903b\u8f91\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_58","title":"\u6709\u5e8f\u200b\u7ec4\u7ec7\u200b\u4f60\u200b\u7684\u200b\u7c7b\u200b\u65b9\u6cd5","text":"<ul> <li><code>__init__</code>\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u65b9\u6cd5\u200b\u5e94\u8be5\u200b\u603b\u662f\u200b\u653e\u5728\u200b\u7c7b\u200b\u7684\u200b\u6700\u200b\u524d\u9762\u200b\uff0c<code>__new__</code>\u200b\u65b9\u200b\u65b9\u6cd5\u200b\u540c\u7406\u200b</li> <li>\u200b\u516c\u6709\u200b\u65b9\u6cd5\u200b\u653e\u5230\u200b\u7c7b\u200b\u7684\u200b\u524d\u9762\u200b\uff0c\u200b\u79c1\u6709\u200b\u65b9\u6cd5\u200b\u5927\u90e8\u5206\u200b\u81ea\u8eab\u200b\u5b9e\u73b0\u200b\u7684\u200b\u7ec6\u8282\u200b\uff0c\u200b\u653e\u5230\u200b\u9760\u200b\u540e\u200b\u7684\u200b\u4f4d\u7f6e\u200b</li> <li>\u200b\u81f3\u4e8e\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u3001\u200b\u9759\u6001\u65b9\u6cd5\u200b\u548c\u200b\u5c5e\u6027\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u76f4\u63a5\u200b\u53c2\u8003\u200b\u516c\u6709\u200b/\u200b\u79c1\u6709\u200b\u7684\u200b\u601d\u8def\u200b\u5373\u53ef\u200b</li> <li>\u200b\u4ee5\u200b__\u200b\u5f00\u5934\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u6bd4\u8f83\u200b\u7279\u6b8a\u200b\uff0c\u200b\u6211\u4eec\u200b\u901a\u5e38\u200b\u6309\u7167\u200b\u65b9\u6cd5\u200b\u7684\u200b\u4e2d\u836f\u200b\u7a0b\u5ea6\u200b\u6765\u200b\u51b3\u5b9a\u200b\u4ed6\u4eec\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u6bd4\u5982\u200b\u8fed\u4ee3\u200b\u5668\u200b\u7684\u200b<code>__iter__</code>\u200b\u65b9\u6cd5\u200b\u5e94\u8be5\u200b\u653e\u5230\u200b\u975e\u5e38\u200b\u9760\u200b\u524d\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u662f\u200b\u6784\u6210\u200b\u7c7b\u200b\u63a5\u53e3\u200b\u7684\u200b\u91cd\u8981\u200b\u65b9\u6cd5\u200b</li> </ul>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_59","title":"\u51fd\u6570\u200b\u642d\u914d\u200b\uff0c\u200b\u5e72\u6d3b\u4e0d\u7d2f","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#api","title":"\u7528\u200b\u51fd\u6570\u200b\u964d\u4f4e\u200bAPI\u200b\u4f7f\u7528\u200b\u6210\u672c","text":"<p>requests.request()\u200b\u51fd\u6570\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u5185\u90e8\u200b\u5b9e\u73b0\u200b\uff1a <pre><code>from reqeust import sessions\ndef request(method, url **kwargs):\n    with sessions.Session() as session:\n        return session.request(method=method, url=url, **kwargs)\n</code></pre> \u200b\u5728\u200b\u4f7f\u7528\u8005\u200b\u89d2\u5ea6\u200b\u6765\u770b\u200b\uff0c\u200b\u663e\u7136\u200b\u8c03\u7528\u51fd\u6570\u200b\u6bd4\u200b\u5b9e\u4f8b\u200b\u5316\u200b<code>Session()</code>\u200b\u5bf9\u8c61\u200b\u8981\u200b\u8ba8\u559c\u200b\u5f97\u200b\u591a\u200b</p> <p>\u200b\u50cf\u200b\u4e0a\u9762\u200b\u8fd9\u79cd\u200b\u51fd\u6570\u200b\u642d\u914d\u200b\u9762\u5411\u5bf9\u8c61\u200b\u7684\u200b\u4ee3\u7801\u200b\u975e\u5e38\u200b\u591a\u89c1\u200b\uff0c\u200b\u6709\u70b9\u50cf\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\u4e2d\u200b<code>\u200b\u5916\u89c2\u200b\u6a21\u5f0f\u200b</code>\uff0c\u200b\u5728\u200b\u8be5\u200b\u6a21\u5f0f\u200b\u4e2d\u200b\uff0c\u200b\u51fd\u6570\u200b\u4f5c\u4e3a\u200b\u4e00\u79cd\u200b\u7b80\u5316\u200bAPI\u200b\u7684\u200b\u5de5\u5177\u200b\uff0c\u200b\u5c01\u88c5\u200b\u4e86\u200b\u590d\u6742\u200b\u7684\u200b\u9762\u5411\u5bf9\u8c61\u200b\u5171\u200b\u55ef\u200b\u90a3\u4e2a\u200b\uff0c\u200b\u5927\u5927\u964d\u4f4e\u200b\u4f7f\u7528\u200b\u6210\u672c\u200b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_60","title":"\u5b9e\u73b0\u200b\u9884\u200b\u7ed1\u5b9a\u200b\u65b9\u6cd5\u200b\u6a21\u5f0f","text":"<p>\u200b\u9884\u200b\u7ed1\u5b9a\u200b\u65b9\u6cd5\u200b\u6a21\u5f0f\u200b\u662f\u200b\u4e00\u79cd\u200b\u5c06\u200b\u5bf9\u8c61\u200b\u65b9\u6cd5\u200b\u7ed1\u5b9a\u200b\u4e3a\u200b\u51fd\u6570\u200b\u7684\u200b\u6a21\u5f0f\u200b\u3002 <pre><code>class AppConfig:\n    \"\"\"\u200b\u7a0b\u5e8f\u200b\u914d\u7f6e\u200b\u7c7b\u200b\uff0c\u200b\u4f7f\u7528\u200b\u9884\u200b\u7ed1\u5b9a\u200b\u6a21\u5f0f\u200b\"\"\"\n    def __init__(self):\n        ...\n    def get_database(self):\n        ...\n    def realod(self):\n        ...\n\n_config = AppConfig()\nget_database_config = _config.get_database\nreload_config = _config.reload\n</code></pre></p> <p>\u200b\u5176\u4ed6\u200b\u6a21\u5757\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8c03\u7528\u200b\u666e\u901a\u200b\u51fd\u6570\u200b\u4e00\u6837\u200b\u64cd\u4f5c\u200b\u5e94\u7528\u200b\u914d\u7f6e\u200b\u5bf9\u8c61\u200b\uff1a <pre><code>from project.config import get_database_conf\ndb_conf = get_database_conf()\nreload_config()\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_61","title":"\u9762\u5411\u5bf9\u8c61\u200b\u8bbe\u8ba1\u200b\u539f\u5219\u200b(\u200b\u4e0a\u200b)","text":"<p>\u200b\u5728\u200b\u9762\u5411\u5bf9\u8c61\u200b\u5bf9\u8c61\u200b\u9886\u57df\u200b\uff0c\u200b\u9664\u4e86\u200b23\u200b\u4e2d\u200b\u7ecf\u5178\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\u5916\u200b\uff0c\u200b\u8fd8\u6709\u200b\u8bb8\u591a\u200b\u7ecf\u5178\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u539f\u5219\u200b\u3002\u200b\u540c\u200b\u5177\u4f53\u200b\u7684\u200b\u8bbe\u8ba1\u6a21\u5f0f\u200b\u76f8\u6bd4\u200b\uff0c\u200b\u539f\u5219\u200b\u901a\u5e38\u200b\u66f4\u200b\u62bd\u8c61\u200b\u3001\u200b\u5b9e\u7528\u6027\u200b\u66f4\u5e7f\u200b\uff0c\u200b\u66f4\u200b\u9002\u5408\u200b\u878d\u5165\u200bPython\u200b\u7f16\u7a0b\u200b\u4e2d\u200b\u3002\u200b\u800c\u200b\u5728\u200b\u6240\u6709\u200b\u8bbe\u8ba1\u200b\u539f\u5219\u200b\u4e2d\u200b\uff0cSOLID\u200b\u6700\u4e3a\u200b\u6709\u540d\u200b\u3002 SOLID\u200b\u5355\u8bcd\u200b\u91cc\u200b\u7684\u200b5\u200b\u4e2a\u200b\u5b57\u6bcd\u200b\uff0c\u200b\u5206\u522b\u200b\u4ee3\u8868\u200b5\u200b\u6761\u200b\u8bbe\u8ba1\u200b\u539f\u5219\u200b\u3002 - S\uff1asingle responsibility principle\uff08\u200b\u5355\u4e00\u200b\u804c\u8d23\u200b\u539f\u5219\u200b\uff0cSRP\uff09 - O\uff1aopen-closed principle\uff08\u200b\u5f00\u653e\u200b\u2013\u200b\u5173\u95ed\u200b\u539f\u5219\u200b\uff0cOCP\uff09\u3002 - L\uff1aLiskov substitution principle\uff08\u200b\u91cc\u5f0f\u200b\u66ff\u6362\u200b\u539f\u5219\u200b\uff0cLSP\uff09\u3002 - I\uff1ainterface segregation principle\uff08\u200b\u63a5\u53e3\u9694\u79bb\u200b\u539f\u5219\u200b\uff0cISP\uff09\u3002 - D\uff1adependency inversion principle\uff08\u200b\u4f9d\u8d56\u200b\u5012\u7f6e\u200b\u539f\u5219\u200b\uff0cDIP\uff09\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_62","title":"\u7c7b\u578b\u200b\u6ce8\u89e3\u200b\u57fa\u7840","text":"<p>\u200b\u52a0\u4e0a\u200b\u7c7b\u578b\u200b\u6ce8\u89e3\u200b\u7684\u200b\u4ee3\u7801\u200b\uff1a <pre><code>In [1]: from typing import List\n\nIn [2]: class Duck:\n   ...:     def __init__(self, color: str):\n   ...:         self.color = color\n   ...:     def quack(self) -&gt; None:\n   ...:         print(f\"Hi, I'm a {self.color} duck!\")\n   ...:\n\nIn [3]: def create_random_ducks(number: int) -&gt; List[Duck]:\n   ...:     ducks: List[Duck] = []\n   ...:     for _ in number:\n   ...:         color = random.choice([\"yellow\", \"white\", \"gray\"])\n   ...:         ducks.append(Duck(color=color))\n   ...:     return ducks\n   ...:\n</code></pre></p> <p>typing\u200b\u65f6\u200b\u7c7b\u578b\u200b\u6ce8\u89e3\u200b\u7528\u5230\u200b\u7684\u200b\u4e3b\u8981\u200b\u6a21\u5757\u200b\uff0c\u200b\u9664\u4e86\u200bList\u200b\u4ee5\u5916\u200b\uff0c\u200b\u8be5\u200b\u6a21\u5757\u200b\u5185\u200b\u8fd8\u6709\u200b\u8bb8\u591a\u200b\u4e0e\u200b\u7c7b\u578b\u200b\u6709\u5173\u200b\u7684\u200b\u7279\u6b8a\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4e3e\u4f8b\u200b\u5982\u4e0b\u200b\uff1a - Dict: \u200b\u5b57\u5178\u200b\u7c7b\u578b\u200b\uff0c \u200b\u4f8b\u5982\u200b<code>Dict[Str, int]</code>\u200b\u4ee3\u8868\u200b\u952e\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u503c\u4e3a\u200b\u6574\u5f62\u200b\u7684\u200b\u5b57\u5178\u200b - Callable\uff1a\u200b\u53ef\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4f8b\u5982\u200b<code>Callable[[str,str],List[str]]</code>\u200b\u8868\u793a\u200b\u63a5\u6536\u200b\u4e24\u4e2a\u200b\u5b57\u7b26\u200b\u4f5c\u4e3a\u200b\u53c2\u6570\u200b\uff0c\u200b\u8fd4\u56de\u200b\u5b57\u7b26\u4e32\u200b\u5217\u8868\u200b\u7684\u200b\u53ef\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b - TextIO\uff1a\u200b\u4f7f\u7528\u200b\u6587\u672c\u200b\u534f\u8bae\u200b\u7684\u200b\u7c7b\u200b\u6587\u4ef6\u7c7b\u578b\u200b\uff0c\u200b\u76f8\u5e94\u200b\u7684\u200b\uff0c\u200b\u8fd8\u6709\u200b\u4e8c\u8fdb\u5236\u200b\u7c7b\u578b\u200bBinaryIO - Any\uff1a\u200b\u4ee3\u8868\u200b\u4efb\u4f55\u200b\u7c7b\u578b\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#ocp-","title":"OCP\uff1a\u200b\u5f00\u653e\u200b-\u200b\u5173\u95ed\u200b\u539f\u5219","text":"<p><code>SOLID</code>\u200b\u539f\u5219\u200b\u7684\u200b\u7b2c\u4e8c\u6761\u200b<code>OCP</code>\uff08\u200b\u5f00\u653e\u200b-\u200b\u5173\u95ed\u200b\u539f\u5219\u200b\uff09\u3002\u200b\u8be5\u200b\u539f\u5219\u200b\u8ba4\u4e3a\u200b\uff1a\u200b\u7c7b\u200b\u5e94\u8be5\u200b\u5bf9\u200b\u6269\u5c55\u200b\u5f00\u653e\u200b\uff0c\u200b\u5bf9\u200b\u4fee\u6539\u200b\u5173\u95ed\u200b\uff0c\u200b\u6362\u53e5\u8bdd\u8bf4\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e0d\u200b\u4fee\u6539\u200b\u67d0\u4e2a\u200b\u7c7b\u200b\u7684\u200b\u524d\u63d0\u200b\u4e0b\u200b\uff0c\u200b\u6269\u5c55\u200b\u5b83\u200b\u7684\u200b\u884c\u4e3a\u200b\u3002</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_63","title":"\u6570\u636e\u6a21\u578b\u200b\u4e0e\u200b\u63cf\u8ff0\u7b26","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_64","title":"\u5b57\u7b26\u4e32\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5","text":""},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#repr____str","title":"repr__\u200b\u548c\u200b__str","text":"<ul> <li><code>__repr__</code>\uff1a \u200b\u975e\u6b63\u5f0f\u200b\u573a\u666f\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4f7f\u7528\u200bprint\u200b\u6253\u5370\u200b\u51fa\u6765\u200b\uff0c\u200b\u6216\u8005\u200b\u7528\u200b<code>str()</code>\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5bf9\u200b\u7528\u6237\u200b\u53cb\u597d\u200b\u3002</li> <li><code>__str__</code>\uff1a\u200b\u6b63\u5f0f\u200b\u573a\u666f\u200b\uff0c\u200b\u5728\u200b\u8c03\u7528\u200b\u5bf9\u8c61\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u5feb\u901f\u200b\u77e5\u9053\u200b\u5bf9\u8c61\u200b\u91cc\u9762\u200b\u7684\u200b\u8be6\u7ec6\u200b\u5185\u5bb9\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u53ea\u200b\u5b9a\u4e49\u200b<code>__repr__</code>\uff0c\u200b\u90a3\u4e48\u200b<code>__repr__</code>\u200b\u7684\u200b\u7ed3\u679c\u200b\u4f1a\u200b\u7528\u4e8e\u200b\u6240\u6709\u200b\u9700\u8981\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u573a\u666f\u200b\u3002</li> </ul> <pre><code>class Person:\n    def __init__(self,name,age,favorite_color):\n        self.name = name\n        self.age = age\n        self.favorite_color = favorite_color\n    def __str__(self):\n        return self.name\n    def __repr__(self):\n        return '{cls_name}(name={name!r}, age={age!r}, favorite_color={color!r})'.format(\n            cls_name=self.__class__.__name__,\n            name=self.name,\n            age=self.age,\n            color=self.favorite_color,\n        )\n</code></pre> <pre><code>In [2]: p = Person(\"yanghe\",18,'black')\n\nIn [3]: p\nOut[3]: Person(name='yanghe', age=18, favorite_color='black')\n\nIn [4]: print(p)\nyanghe\n</code></pre> <p><code>!r</code>\u200b\u53ef\u4ee5\u200b\u7ed9\u200b\u683c\u5f0f\u5316\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u81ea\u52a8\u200b\u52a0\u4e0a\u200b\u5f15\u53f7\u200b\uff0c\u200b\u4f46\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\u6307\u5b9a\u200b\u683c\u5f0f\u5316\u200b\u5b57\u7b26\u4e32\u200b\u5fc5\u987b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u800c\u200b\u4e0d\u80fd\u200b\u76f4\u63a5\u200b\u7ed9\u200b\u4e00\u4e2a\u200b\u5b57\u7b26\u4e32\u200b\u6216\u8005\u200b\u5176\u5b83\u200b\u7c7b\u578b\u200b\u6570\u636e\u200b <pre><code>In [6]: age = \"18\"\n\nIn [7]: \"age is {age!r}\".format(age=age)\nOut[7]: \"age is '18'\"\n\nIn [8]: \"age is {age!r}\".format(age=18)\nOut[8]: 'age is 18'\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#format","title":"format","text":"<p>\u200b\u901a\u8fc7\u200b\u5b9a\u4e49\u200b<code>__format__</code>\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e3a\u200b\u4e00\u79cd\u200b\u5bf9\u8c61\u200b\u5b9a\u4e49\u200b\u591a\u79cd\u200b\u5b57\u7b26\u4e32\u200b\u7684\u200b\u8868\u73b0\u5f62\u5f0f\u200b\u3002 <pre><code>class Person:\n    def __init__(self, name, age, favorite_color):\n        self.name = name\n        self.age = age\n        self.favorite_color = favorite_color\n    def __format__(self, format_spec):\n        \"\"\"\u200b\u5b9a\u4e49\u200b\u5bf9\u8c61\u200b\u5728\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u5316\u200b\u7684\u200b\u884c\u4e3a\u200b\n        :param format_spec: \u200b\u9700\u8981\u200b\u7684\u200b\u683c\u5f0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b''\n        \"\"\"\n        if format_spec == \"verbose\":\n            return f\"{self.name}({self.age})[{self.favorite_color}]\"\n        elif format_spec == \"simple\":\n            return f\"{self.name}({self.age})\"\n        return self.name\n</code></pre></p> <pre><code>In [31]: p = Person(\"yanghe\",18, \"black\")\n\nIn [32]: \"{p:verbose}\".format(p=p)\nOut[32]: 'yanghe(18)[black]'\n\nIn [33]: f\"{p:verbose}\"\nOut[33]: 'yanghe(18)[black]'\n\nIn [34]: f\"{p:simple}\"\nOut[34]: 'yanghe(18)'\n\nIn [35]: f\"{p}\"\nOut[35]: 'yanghe'\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_65","title":"\u6bd4\u8f83\u200b\u91cd\u8f7d\u200b\u8fd0\u7b97\u7b26","text":"<p>\u200b\u6bd4\u8f83\u200b\u8fd0\u7b97\u7b26\u200b\u662f\u200b\u4e13\u95e8\u200b\u7528\u6765\u200b\u5bf9\u6bd4\u200b\u4e24\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u8fd0\u7b97\u7b26\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u8fd0\u7b97\u7b26\u200b\u76f8\u5173\u200b\u7684\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u6709\u200b\u516d\u4e2a\u200b\uff1a - <code>__lt__</code> \uff1aobj &lt; other - <code>__le__</code>\uff1aobj &lt;= other - <code>__eq__</code>\uff1aobj == other - <code>__ne__</code>\uff1aobj != other - <code>__gt__</code>\uff1aobj &gt; other - <code>__ge__</code>\uff1aobj =&gt; other</p> <p>\u200b\u4f8b\u5b50\u200b\uff1a\u200b\u4ee5\u200b\u6b63\u65b9\u5f62\u200b\u6765\u200b\u4e3e\u4f8b\u200b <pre><code>class Square:\n    \"\"\"\u200b\u6b63\u65b9\u5f62\u200b\n    :param length: \u200b\u8fb9\u957f\u200b\n    \"\"\"\n    def __init__(self, length):\n        self.length = length\n    def area(self):\n        return self.length ** 2\n    def __eq__(self, other):\n        # \u200b\u5728\u200b\u5224\u65ad\u200b\u4e24\u4e2a\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u76f8\u7b49\u200b\uff0c\u200b\u5148\u200b\u6821\u9a8c\u200bother\u200b\u662f\u5426\u200b\u4e3a\u200b\u5f53\u524d\u200b\u7c7b\u578b\u200b\n        if isinstance(other, self.__class__):\n            return self.length == other.length\n        return False\n    def __ne__(self, other):\n        # \u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u8fd0\u7b97\u200b\u7684\u200b\u7ed3\u679c\u200b\u4e00\u822c\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u5bf9\u4e8e\u200b\"\u200b\u7b49\u4e8e\u200b\"\u200b\u53d6\u53cd\u200b\n        # return not self.__eq__(self, other)\n        return not (self == other)\n    def __lt__(self, other):\n        if isinstance(other, self.__class__):\n            return self.length &lt; other.length\n        # \u200b\u5982\u679c\u200b\u5bf9\u8c61\u200b\u4e0d\u200b\u652f\u6301\u200b\u67d0\u79cd\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200bNotImplemented\u200b\u503c\u200b\n        return NotImplemented\n    def __le__(self, other):\n        return self.__lt__(other) or self.__eq__(other)\n    def __gt__(self, other):\n        if isinstance(other, self.__class__):\n            return self.length &gt; other.length\n        return False\n    def __ge__(self, other):\n        return self.__gt__(other) or self.__eq__(other)\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#total_ordering","title":"\u4f7f\u7528\u200b@total_ordering\u200b\u7b80\u5316\u200b\u63cf\u8ff0\u7b26\u200b\u7684\u200b\u7f16\u5199","text":"<p>\u200b\u5982\u679c\u200b\u4f7f\u7528\u200b<code>@total_ordering</code>\u200b\u88c5\u9970\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u91cd\u8f7d\u200b\u7c7b\u200b\u7684\u200b\u6bd4\u8f83\u200b\u8fd0\u7b97\u7b26\u200b\u65f6\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b<code>__eq__</code>\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b<code>__lt__</code>\u3001<code>__le__</code>\u3001<code>__gt__</code>\u3001<code>__ge__</code>\u200b\u56db\u4e2a\u200b\u65b9\u6cd5\u200b\u91cc\u200b\u968f\u610f\u200b\u6311\u200b\u4e00\u4e2a\u200b\u5b9e\u73b0\u200b\u5373\u53ef\u200b\uff0c<code>@total_ordering</code>\u200b\u4f1a\u200b\u5e2e\u200b\u4f60\u200b\u81ea\u52a8\u200b\u8865\u5168\u200b\u5269\u4e0b\u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b <pre><code>from functools import total_ordering\nIn [3]: @total_ordering\n   ...: class Square:\n   ...:     \"\"\"\n   ...:     \u200b\u6b63\u65b9\u5f62\u200b\n   ...:     :param length: \u200b\u8fb9\u957f\u200b\n   ...:     \"\"\"\n   ...:     def __init__(self, length):\n   ...:         self.length = length\n   ...:     def area(self):\n   ...:         return self.length ** 2\n   ...:     def __eq__(self, other):\n   ...:         if isinstance(other, self.__class__):\n   ...:             return self.length == other.length\n   ...:         return False\n   ...:     def __lt__(self, other):\n   ...:         if isinstance(other, self.__class__):\n   ...:             return self.length &lt; other.length\n   ...:         return NotImplemented\n   ...:\n\nIn [4]: s = Square(4)\n\nIn [5]: s1 = Square(4)\n\nIn [6]: s == s1\nOut[6]: True\n\nIn [7]: s1 &gt;= s\nOut[7]: True\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_66","title":"\u63cf\u8ff0\u7b26","text":"<p>\u200b\u63cf\u8ff0\u7b26\u200b(descriptor)\u200b\u662f\u200bPython\u200b\u5bf9\u8c61\u200b\u6a21\u578b\u200b\u91cc\u200b\u7684\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u534f\u8bae\u200b\uff0c\u200b\u5b83\u200b\u4e3b\u8981\u200b\u548c\u200b4\u200b\u4e2a\u200b\u9b54\u6cd5\u200b\u65b9\u6cd5\u200b\u6709\u5173\u200b\uff1a<code>__get__</code>\u3001<code>__set__</code>\u3001<code>__delete__</code>\u200b\u548c\u200b<code>__set_name__</code> \u200b\u4ece\u200b\u5b9a\u4e49\u200b\u4e0a\u200b\u6765\u8bf4\u200b\uff0c\u200b\u9664\u4e86\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b<code>__set__name__</code>\u200b\u4ee5\u5916\u200b\uff0c\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u5b9e\u73b0\u200b\u4e86\u200b<code>__get__</code>\u3001<code>__set__</code>\u200b\u6216\u200b<code>__delete__</code>\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u6210\u4e3a\u200b\u63cf\u8ff0\u7b26\u200b\u7c7b\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u5bf9\u8c61\u200b\u53eb\u505a\u200b\u63cf\u8ff0\u7b26\u200b\u5bf9\u8c61\u200b\u3002 \u200b\u63cf\u8ff0\u7b26\u200b\u4e4b\u6240\u4ee5\u200b\u53eb\u200b\u8fd9\u4e2a\u200b\u540d\u5b57\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u201c\u200b\u63cf\u8ff0\u200b\u201d\u200b\u4e86\u200bPython\u200b\u83b7\u53d6\u200b\u4e0e\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u7c7b\u200b\uff08\u200b\u5b9e\u4f8b\u200b\uff09\u200b\u6210\u5458\u200b\u7684\u200b\u6574\u4e2a\u200b\u8fc7\u7a0b\u200b</p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#__get__","title":"__get__\u200b\u65b9\u6cd5","text":"<p>\u200b\u5199\u200b\u4e00\u4e2a\u200b\u6253\u5370\u200b\u5e2e\u52a9\u200b\u4fe1\u606f\u200b\u7684\u200b\u63cf\u8ff0\u200b\u7c7b\u200b\uff1a <pre><code>class InfoDescriptor:\n    \"\"\"\u200b\u6253\u5370\u200b\u5e2e\u52a9\u200b\u4fe1\u606f\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\"\"\"\n    def __get__(self, instance, owner=None):\n        print(f\"Calling __get__, instance: {instance}, owner: {owner}\")\n        if not instance:\n            print(\"Calling without instance\")\n        return \"infomative descriptor\"\n</code></pre></p> <pre><code>class Foo:\n    bar = InfoDescriptor()\n</code></pre> <ul> <li>\u200b\u5f53\u200b\u901a\u8fc7\u200b\u7ed1\u5b9a\u200b\u7684\u200b\u7c7b\u6765\u200b\u8c03\u7528\u200b\uff0c<code>instance</code>\u200b\u4e3a\u200bNone\uff0c<code>owner</code>\u200b\u4e3a\u200b\u63cf\u8ff0\u7b26\u200b\u5bf9\u8c61\u200b\u6240\u200b\u7ed1\u5b9a\u200b\u7684\u200b\u7c7b\u200b</li> <li>\u200b\u5f53\u200b\u901a\u8fc7\u200b\u7ed1\u5b9a\u200b\u7c7b\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\u6765\u200b\u8c03\u7528\u200b\uff0c<code>instance</code>\u200b\u4e3a\u200b\u7ed1\u5b9a\u200b\u7c7b\u200b\u7684\u200b\u5b9e\u4f8b\u200b\uff0c<code>owner</code>\u200b\u4e3a\u200b\u63cf\u8ff0\u7b26\u200b\u5bf9\u8c61\u200b\u6240\u200b\u7ed1\u5b9a\u200b\u7684\u200b\u7c7b\u200b</li> </ul> <pre><code>In [46]: Foo.bar\nCalling __get__, instance: None, owner: &lt;class '__main__.Foo'&gt;\nCalling without instance...\nOut[46]: 'informative descriptor'\n\nIn [47]: Foo().bar\nCalling __get__, instance: &lt;__main__.Foo object at 0x000001DB2F9F0520&gt;, owner: &lt;class '__main__.Foo'&gt;\nOut[47]: 'informative descriptor'\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#__set__","title":"__set__\u200b\u65b9\u6cd5","text":"<p><code>__set__</code>\u200b\u65b9\u6cd5\u200b\u7528\u6765\u200b\u81ea\u5b9a\u4e49\u200b\u8bbe\u7f6e\u200b\u67d0\u4e2a\u200b\u5b9e\u4f8b\u200b\u5c5e\u6027\u200b\u65f6\u200b\u7684\u200b\u884c\u4e3a\u200b\u3002<code>instance</code>\u200b\u662f\u200b\u7ed1\u5b9a\u200b\u7c7b\u200b\u5b9e\u4f8b\u200b\u5bf9\u8c61\u200b\uff0c<code>value</code>\u200b\u662f\u200b\u6240\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u503c\u200b\u3002</p> <pre><code>class InfoDescriptor:\n    \"\"\"\u200b\u6253\u5370\u200b\u5e2e\u52a9\u200b\u4fe1\u606f\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\"\"\"\n    def __get__(self, instance, owner=None):\n        print(f\"Calling __get__, instance: {instance}, owner: {owner}\")\n        if not instance:\n            print(\"Calling without instance\")\n        return \"infomative descriptor\"\n    def __set__(self, instance, value):\n        print(f\"Calling __set__, instance: {instance}, value: {value}\")\n</code></pre> <p>\u200b\u5982\u679c\u200b\u7528\u200b\u63cf\u8ff0\u7b26\u200b\u6240\u200b\u7ed1\u5b9a\u200b\u7684\u200b\u7c7b\u6765\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u4f1a\u200b\u8986\u76d6\u200b\u8be5\u200b\u63cf\u8ff0\u7b26\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u518d\u6b21\u200b\u8bbe\u7f6e\u200b\u503c\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u51fa\u53d1\u200b\u4efb\u4f55\u200b\u903b\u8f91\u200b\u4e86\u200b <pre><code>In [54]: f.bar = 42\nCalling __set__, instance: &lt;__main__.Foo object at 0x000001DB2F8A7400&gt;, value: 42\n\nIn [55]: Foo.bar\nCalling __get__, instance: {instance}, owner: {owner}\nCalling without instance\nOut[55]: 'infomative descriptor'\n\nIn [56]: Foo.bar = None\n\nIn [57]: f = Foo()\n\nIn [58]: f.bar = 42\n</code></pre></p>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#__delete__","title":"__delete__\u200b\u65b9\u6cd5","text":"<p><code>__delete__</code>\u200b\u65b9\u6cd5\u200b\u662f\u200b\u7528\u6765\u200b\u63a7\u5236\u200b\u5b9e\u4f8b\u200b\u5c5e\u6027\u200b\u88ab\u200b\u5220\u9664\u200b\u7684\u200b\u884c\u4e3a\u200b <pre><code>class InfoDescriptor:\n    \"\"\"\u200b\u6253\u5370\u200b\u5e2e\u52a9\u200b\u4fe1\u606f\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\"\"\"\n    def __get__(self, instance, owner=None):\n        print(f\"Calling __get__, instance: {instance}, owner: {owner}\")\n        if not instance:\n            print(\"Calling without instance\")\n        return \"infomative descriptor\"\n    def __set__(self, instance, value):\n        print(f\"Calling __set__, instance: {instance}, value: {value}\")\n    def __delete__(self, instance):\n        raise RuntimeError('Deleteion not supported')\n\nclass Foo:\n    bar = InfoDescriptor()\n</code></pre></p> <pre><code>f = Foo()\n\nIn [65]: del f.bar\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\nCell In[65], line 1\n----&gt; 1 del f.bar\n\nCell In[59], line 11, in InfoDescriptor.__delete__(self, instance)\n     10 def __delete__(self, instance):\n---&gt; 11     raise RuntimeError('Deletion not supported!')\n\nRuntimeError: Deletion not supported!\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#set_name","title":"set_name \u200b\u65b9\u6cd5","text":"<p><code>__set_name__</code>\u200b\u65b9\u6cd5\u200b\u7684\u200b\u89e6\u53d1\u200b\u65f6\u673a\u200b\u662f\u200b\u5728\u200bowner\u200b\u7c7b\u200b\u88ab\u200b\u521b\u5efa\u200b\u65f6\u200b\uff0c\u200b\u5b83\u200b\u63a5\u6536\u200b\u7684\u200b\u4e24\u4e2a\u200b\u53c2\u6570\u200b\u542b\u4e49\u200b\uff1a - <code>owner</code>\uff1a\u200b\u63cf\u8ff0\u7b26\u200b\u5bf9\u8c61\u200b\u5f53\u524d\u200b\u7ed1\u5b9a\u200b\u7684\u200b\u7c7b\u200b - <code>name</code>\uff1a\u200b\u63cf\u8ff0\u7b26\u200b\u6240\u200b\u7ed1\u5b9a\u200b\u7684\u200b\u5c5e\u6027\u200b\u540d\u79f0\u200b</p> <pre><code>class IntegerField:\n    :param min_value: \u200b\u5141\u8bb8\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\n    :param max_value: \u200b\u5141\u8bb8\u200b\u7684\u200b\u6700\u5927\u503c\u200b\n    def __init__(self, min_value, max_value):\n        self.min_value = min_value\n        self.max_value = max_value\n    def __set_name__(self, owner, name):\n        # \u200b\u5c06\u200b\u7ed1\u5b9a\u200b\u5c5e\u6027\u200b\u540d\u200b\u4fdd\u5b58\u200b\u63cf\u8ff0\u7b26\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\n        # \u200b\u5bf9\u4e8e\u200bage = IntegerField(...)\u200b\u6765\u8bf4\u200b\uff0c\u200b\u6b64\u5904\u200bname\u200b\u5c31\u662f\u200b\"age\"\n        self._name = name\n    def __get__(self, instance, value):\n        if not instance:\n            return self\n        # \u200b\u5728\u200b\u6570\u636e\u200b\u5b58\u53d6\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u7528\u200b\u52a8\u6001\u200b\u7684\u200bself._name\n        return instance.__dict__[self.name]\n    def __set__(self, instance, value):\n        value = self._validate_value(value)\n        instance.__dict__[self._name] = value\n    def _validate_value(self, value):\n        \"\"\"\u200b\u6821\u9a8c\u200b\u503c\u200b\u662f\u5426\u200b\u4e3a\u200b\u7b26\u5408\u8981\u6c42\u200b\u7684\u200b\u6574\u6570\u200b\"\"\"\n        try:\n            value = int(value)\n        except (TypeError, ValueError):\n            raise ValueError(\"value is not validinteger!\")\n        if not (self.min_value &lt;= value &lt;= self.max_value):\n            raise ValueError(\n                f\"value must between {self.min_value} and {self.max_value}!\"\n            )\n        return value\n</code></pre> <pre><code>class Rectangle:\n    width = IntegerField(min_value=1, max_value=10)\n    height = IntegerField(min_value=1, max_value=5)\n    def __init__(self):\n        self.width = width\n        self.height = height    \n</code></pre> <pre><code>In [17]: r = Rectangle(1,1)\n\nIn [18]: r.width = 5\n\nIn [19]: r.height\nOut[19]: 1\n\nIn [20]: r.width = 100\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\nCell In[20], line 1\n----&gt; 1 r.width = 100\n\nCell In[8], line 19, in IntegerField.__set__(self, instance, value)\n     18 def __set__(self, instance, value):\n---&gt; 19     value = self._validate_value(value)\n     20     instance.__dict__[self._name] = value\n\nCell In[8], line 28, in IntegerField._validate_value(self, value)\n     26     raise ValueError('value is not validinteger!')\n     27 if not (self.min_value &lt;= value &lt;= self.max_value):\n---&gt; 28     raise ValueError(\n     29         f\"value must between {self.min_value} and {self.max_value}!\"\n     30         )\n     31 return value\n\nValueError: value must between 1 and 10!\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/Python%E5%B7%A5%E5%8C%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#_67","title":"\u6570\u636e\u200b\u63cf\u8ff0\u7b26\u200b\u4e0e\u975e\u200b\u6570\u636e\u200b\u63cf\u8ff0\u7b26","text":"<p>\u200b\u6309\u200b\u5b9e\u73b0\u200b\u7684\u200b\u65b9\u5f0f\u200b\u7684\u200b\u4e0d\u540c\u200b\uff0c\u200b\u63cf\u8ff0\u7b26\u200b\u5206\u4e3a\u200b\u4e24\u5927\u7c7b\u200b\uff1a 1. \u200b\u975e\u200b\u6570\u636e\u200b\u63cf\u8ff0\u7b26\u200b\uff1a\u200b\u53ea\u200b\u5b9e\u73b0\u200b\u4e86\u200b<code>__get__</code>\u200b\u65b9\u6cd5\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u3002 2. \u200b\u6570\u636e\u200b\u63cf\u8ff0\u7b26\u200b\uff1a\u200b\u5b9e\u73b0\u200b\u4e86\u200b<code>__set__</code>\u200b\u6216\u200b<code>__delete__</code>\u200b\u5176\u4e2d\u200b\u4efb\u4f55\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b\u7684\u200b\u63cf\u8ff0\u7b26\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u975e\u200b\u6570\u636e\u200b\u63cf\u8ff0\u7b26\u200b\u6765\u8bf4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u7528\u200binstance.attr = ... \u200b\u6765\u200b\u5728\u200b\u5b9e\u4f8b\u200b\u7ea7\u522b\u200b\u91cd\u5199\u200b\u63cf\u8ff0\u7b26\u200b\u5c5e\u6027\u200battr\uff0c\u200b\u8ba9\u200b\u5176\u200b\u8bfb\u53d6\u200b\u903b\u8f91\u200b\u4e0d\u518d\u200b\u53d7\u200b\u63cf\u8ff0\u7b26\u200b\u7684\u200b<code>__get__</code>\u200b\u65b9\u6cd5\u200b\u7ba1\u63a7\u200b\u3002</p> <p>\u200b\u5bf9\u4e8e\u200b\u6570\u636e\u200b\u63cf\u8ff0\u7b26\u200b\u6765\u8bf4\u200b\uff0c\u200b\u4f60\u200b\u65e0\u6cd5\u200b\u505a\u5230\u200b\u540c\u6837\u200b\u7684\u200b\u4e8b\u60c5\u200b\u3002\u200b\u6570\u636e\u200b\u63cf\u8ff0\u7b26\u200b\u6240\u200b\u5b9a\u4e49\u200b\u5c5e\u6027\u200b\u5b58\u50a8\u200b\u903b\u8f91\u200b\u62e5\u6709\u200b\u6781\u9ad8\u200b\u7684\u200b\u4f18\u5148\u7ea7\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u8f7b\u6613\u200b\u5728\u200b\u5b9e\u4f8b\u200b\u5c42\u9762\u200b\u88ab\u200b\u91cd\u5199\u200b\u3002</p> <p>\u200b\u6240\u6709\u200b\u7684\u200bpython\u200b\u5b9e\u4f8b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u3001\u200b\u9759\u6001\u65b9\u6cd5\u200b\u90fd\u200b\u662f\u975e\u200b\u6570\u636e\u200b\u63cf\u8ff0\u7b26\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8f7b\u6613\u200b\u8986\u76d6\u200b\u5b83\u4eec\u200b\u3002\u200b\u800c\u200b<code>property()</code>\u200b\u662f\u200b\u6570\u636e\u200b\u63cf\u8ff0\u7b26\u200b\uff0c\u200b\u4f60\u200b\u65e0\u6cd5\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b\u91cd\u5199\u200b\u4fee\u6539\u200b\u5b83\u200b\u7684\u200b\u884c\u4e3a\u200b\u3002 <pre><code>class DuckWithProperty:\n    @property\n    def color(self):\n        return 'gray'\n\nclass DuckWithStaticMethod:\n    @staticmethod\n    def color(self):\n        return 'gray'\n</code></pre></p> <pre><code>In [26]: d = DuckWidthProperty()\n\nIn [27]: d.color = 'yellow'\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\nCell In[27], line 1\n----&gt; 1 d.color = 'yellow'\n\nAttributeError: can't set attribute 'color\n\n\nIn [28]: d = DuckWithStaticMethod()\n\nIn [29]: d.color = \"yellow\"\n\nIn [30]: d.color\nOut[30]: 'yellow'\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7nuitka%E7%9A%84%E4%BD%BF%E7%94%A8/","title":"\u6253\u5305\u200b\u5de5\u5177\u200bnuitka\u200b\u7684\u200b\u4f7f\u7528","text":"","tags":["\u6253\u5305","Python"]},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7nuitka%E7%9A%84%E4%BD%BF%E7%94%A8/#win","title":"win\u200b\u6253\u5305","text":"<pre><code>nuitka --mingw64 --standalone --show-progress --show-memory --onefile yourpyfile\n</code></pre>","tags":["\u6253\u5305","Python"]},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7nuitka%E7%9A%84%E4%BD%BF%E7%94%A8/#pyd","title":"\u6253\u5305\u200b\u4e3a\u200bPyd","text":"<p>pyd\u200b\u6587\u4ef6\u200b\u6807\u51c6\u200b\u5199\u6cd5\u200b\uff1a - \u200b\u53ea\u6709\u200b<code>import</code>\u200b\u548c\u200b<code>class</code>\uff0c\u200b\u5176\u5b83\u200b\u5185\u5bb9\u200b\u5fc5\u987b\u200b\u5378\u8f7d\u200b<code>class</code>\u200b\u91cc\u9762\u200b - \u200b\u4e0d\u8981\u200b\u6709\u200b<code>class</code>\u200b\u548c\u200b<code>def</code>\u200b\u7684\u200b\u8fd0\u884c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5982\u679c\u200b\u5199\u200b\u4e86\u200b\u8fd0\u884c\u200b\u4ee3\u7801\u200b\uff0c\u200b\u7b49\u4e8e\u200b\u5728\u200b\u81ea\u52a8\u200b\u6267\u884c\u200b - \u200b\u7ed3\u5c3e\u200b\u4e5f\u200b\u8981\u200b\u5e72\u5e72\u51c0\u51c0\u200b</p> <p>\u200b\u4ee3\u7801\u200b\u793a\u4f8b\u200b\uff1a <pre><code># -*- coding: utf-8 -*-\nimport requests, cv2\n#  \u200b\u6587\u4ef6\u540d\u200b\u4e3a\u200bhunman.py\nclass person():\n    def __init__(self, name, gender, birth, **kw):\n        self.name = name\n        self.gender = gender\n        self.birth = birth\n\n    def sayHi(self):\n        print('my name is', self.name)\n        return '\u200b\u529f\u80fd\u6d4b\u8bd5\u200b'\n\n    def ask_web(self, url: str):\n        r = requests.get(url, timeout=20)\n        content = r.text\n        print(content)\n        return 'web\u200b\u6d4b\u8bd5\u200b'\n\nclass image_do():\n    def image_look(self, file: str):\n        img = cv2.imread(file, -1)  # 0 \u200b\u5f3a\u5236\u200b\u8f6c\u6362\u200b\u4e3a\u200bgray\uff0c 1 \u200b\u5f3a\u5236\u200b\u8f6c\u6362\u200b\u4e3a\u200bcolor\uff0c -1\u200b\u8868\u793a\u200b\u539f\u6765\u200b\u7684\u200b\u989c\u8272\u200b\n        cv2.imshow('Image_Show', img)\n        cv2.waitKey(0)  # \u200b\u7b49\u5f85\u200b\u786e\u8ba4\u200b\u540e\u200b\u5173\u95ed\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u95ea\u9000\u200b\n        cv2.destroyAllWindows()  # \u200b\u5173\u95ed\u200b\u6240\u6709\u200b\u7a97\u53e3\u200b\n</code></pre></p>","tags":["\u6253\u5305","Python"]},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7nuitka%E7%9A%84%E4%BD%BF%E7%94%A8/#_1","title":"\u6253\u5305\u200b\u5355\u4e2a\u200b\u6a21\u5757","text":"<p>\u200b\u4ee3\u7801\u200b\uff1a <pre><code># -*- encoding: utf-8 -*-\n\nclass person():\n    def __init__(self, name):\n        self.name = name\n\n    def say_hello(self):\n        print(f\"{self.name} hello\")\n</code></pre> \u200b\u6ce8\u610f\u200b\uff1a\u200b\u6253\u5305\u200b\u5b8c\u540e\u200b\u7684\u200bpyd\u200b\u6587\u4ef6\u540d\u200b\u4e0d\u80fd\u200b\u4fee\u6539\u200b <pre><code>nuitka --mingw64 --module --include-module=pydhello --show-progress  pydhello.py\n</code></pre> \u200b\u7136\u540e\u200b\u5c06\u200bpyd\u200b\u6587\u4ef6\u200b\u653e\u5230\u200b<code>Python3x\\Lib\\site-packages</code>\u200b\u76ee\u5f55\u200b\u4e0b\u200b \u200b\u5728\u200bpython\u200b\u6587\u4ef6\u200b\u4e2d\u200b\u5f15\u7528\u200b\uff1a <pre><code>import pydhello\n\np = pydhello.person()\np.say_hello()\n</code></pre></p>","tags":["\u6253\u5305","Python"]},{"location":"%E7%BC%96%E7%A8%8B/SQL/Python/%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7nuitka%E7%9A%84%E4%BD%BF%E7%94%A8/#_2","title":"\u53c2\u8003","text":"<ul> <li>Python\u200b\u6253\u5305\u200bexe\u200b\u7684\u200b\u738b\u70b8\u200b-Nuitka - \u200b\u77e5\u4e4e\u200b (zhihu.com)</li> <li>Nuitka\u200b\u6253\u5305\u200bpyd-\u200b\u5e73\u5e73\u200b\u65e0\u5947\u200b\u4e4b\u200b\u592a\u7956\u200b\u957f\u62f3\u200b - \u200b\u77e5\u4e4e\u200b (zhihu.com)</li> <li>nuitka\u200b\u4f7f\u7528\u200b\u53c2\u8003\u200b - \u200b\u77e5\u4e4e\u200b (zhihu.com)</li> <li>Nuitka-Python \u200b\u6253\u5305\u200b Linux\uff08CentOS\uff09 - \u200b\u77e5\u4e4e\u200b (zhihu.com)</li> </ul>","tags":["\u6253\u5305","Python"]},{"location":"%E7%BC%96%E7%A8%8B/SQL/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B_%E7%AC%AC%E4%B8%80%E7%AB%A0/","title":"SQL\u200b\u57fa\u7840\u6559\u7a0b\u200b \u200b\u7b2c\u4e00\u7ae0","text":"<pre><code>-- *\u200b\u7b2c\u4e00\u7ae0\u200b*\n-- \u200b\u521b\u5efa\u200b\u6570\u636e\u5e93\u200b\nCREATE DATABASE shop;\n\n-- \u200b\u521b\u5efa\u200b\u8868\u200b\nCREATE TABLE Product \n(product_id     CHAR(4)         NOT NULL,\n product_name   VARCHAR(100)    NOT NULL,\n product_type   VARCHAR(32)     NOT NULL,\n sale_price     INTEGER         ,\n purchase_price INTEGER         ,\n regist_date    DATE            ,\n PRIMARY KEY (product_id));\n\n -- \u200b\u5220\u9664\u200b\u8868\u200b\n DROP TABLE Product;\n\n --\u200b\u8868\u200b\u5b9a\u4e49\u200b\u7684\u200b\u66f4\u65b0\u200b\nALTER TABLE &lt;\u200b\u8868\u540d\u200b&gt; ADD COLUMN &lt;\u200b\u5217\u200b\u7684\u200b\u5b9a\u4e49\u200b&gt;;     -- \u200b\u6dfb\u52a0\u200b\u5217\u200b\nALTER TABLE Product ADD COLUMN Product_name_pinyin VARCHAR(100);\n\nALTER TABLE &lt;\u200b\u8868\u540d\u200b&gt; DROP COLUMN &lt;\u200b\u5217\u540d\u200b&gt;;  -- \u200b\u5220\u9664\u200b\u5217\u200b\nALTER TABLE Product DROP COLUMN product_name_pinyin;\n\n-- \u200b\u63d2\u5165\u200b\u6570\u636e\u200b\nSTART TRANSACTION;  -- \u200b\u5f00\u59cb\u200b\u63d2\u5165\u200b\u884c\u200b\uff0cOracle\u200b\u548c\u200bDB2\u200b\u4e0d\u200b\u9700\u8981\u200b\nINSERT INTO Product VALUES ('0001', 'T\u200b\u6064\u886b\u200b', '\u200b\u8863\u670d\u200b', 1000, 500, '2009-09-20');\nINSERT INTO Product VALUES ('0002', '\u200b\u6253\u5b54\u5668\u200b', '\u200b\u529e\u516c\u200b\u7528\u5177\u200b', 500, 320, '2009-09-20');\nINSERT INTO Product VALUES ('0003', '\u200b\u8fd0\u52a8\u200bT\u200b\u6064\u886b\u200b', '\u200b\u8863\u670d\u200b', 4000, 2800, NULL);\nINSERT INTO Product VALUES ('0004', '\u200b\u83dc\u5200\u200b', '\u200b\u53a8\u623f\u7528\u5177\u200b', 3000, 2800, '2009-09-20');\nINSERT INTO Product VALUES ('0005', '\u200b\u9ad8\u538b\u9505\u200b', '\u200b\u53a8\u623f\u7528\u5177\u200b', 6800, 5000, '2009-01-15');\nINSERT INTO Product VALUES ('0006', '\u200b\u53c9\u5b50\u200b', '\u200b\u53a8\u623f\u7528\u5177\u200b', 500,  NULL, '2009-09-20' );\nINSERT INTO Product VALUES ('0007', '\u200b\u64e6\u200b\u83dc\u677f\u200b', '\u200b\u53a8\u623f\u7528\u5177\u200b', 880, 790, '2008-04-28');\nINSERT INTO Product VALUES ('0008', '\u200b\u5706\u73e0\u7b14\u200b', '\u200b\u529e\u516c\u200b\u7528\u5177\u200b', 6800, 5000, '2009-01-15');\nCOMMIT; -- \u200b\u786e\u8ba4\u200b\u63d2\u5165\u200b\u884c\u200b\n\n-- \u200b\u6539\u53d8\u200b\u8868\u540d\u200b\nRENAME TABLE Poduct TO Product; -- mysql\nALTER TABLE Poduct RENAME TO Product; -- Oracle\u3001 PostgreSQL\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B_%E7%AC%AC%E4%B8%89%E7%AB%A0/","title":"SQL\u200b\u57fa\u7840\u6559\u7a0b\u200b \u200b\u7b2c\u4e09\u7ae0","text":"<pre><code>-- *\u200b\u7b2c\u4e09\u7ae0\u200b*\n/*\nCOUNT\uff1a \u200b\u8ba1\u7b97\u200b\u8868\u4e2d\u200b\u7684\u200b\u8bb0\u5f55\u200b\u6570\u200b\uff08\u200b\u884c\u200b\u6570\u200b\uff09\nSUM\uff1a \u200b\u8ba1\u7b97\u200b\u8868\u4e2d\u200b\u6570\u503c\u200b\u5217\u4e2d\u200b\u6570\u636e\u200b\u7684\u200b\u5408\u8ba1\u200b\u503c\u200b\nAVG\uff1a \u200b\u8ba1\u7b97\u200b\u8868\u4e2d\u200b\u6570\u503c\u200b\u5217\u4e2d\u200b\u6570\u636e\u200b\u7684\u200b\u5e73\u5747\u503c\u200b\nMAX\uff1a \u200b\u6c42\u51fa\u200b\u8868\u4e2d\u200b\u4efb\u610f\u200b\u5217\u4e2d\u200b\u6570\u636e\u200b\u7684\u200b\u6700\u5927\u503c\u200b\nMIN\uff1a \u200b\u6c42\u51fa\u200b\u8868\u4e2d\u200b\u4efb\u610f\u200b\u5217\u4e2d\u200b\u6570\u636e\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b\n*/\n-- \u200b\u8ba1\u7b97\u200b\u5168\u90e8\u200b\u7684\u200b\u884c\u6570\u200b\nselect\n       count(*)\nfrom\n       Product\n;\n\n-- \u200b\u8ba1\u7b97\u200bNULL\u200b\u4ee5\u5916\u200b\u7684\u200b\u6570\u636e\u200b\u884c\u200b\u6570\u200b\nselect\n       count(purchase_price)\nfrom\n       Product\n;\n\n-- \u200b\u8ba1\u7b97\u200b\u5408\u8ba1\u200b\u503c\u200b\nselect\n       sum(sale_price)\nfrom\n       Product\n;\n\nselect\n       sum(sale_price)\n     , sum(purchase_price)\nfrom\n       Product\n;\n\n-- \u200b\u8ba1\u7b97\u200b\u5e73\u5747\u503c\u200b\nselect\n       avg(sale_price)\nfrom\n       Product\n;\n\n-- \u200b\u8ba1\u7b97\u200b\u6700\u5927\u503c\u200b\u548c\u200b\u6700\u5c0f\u503c\u200b\nselect\n       max(sale_price)\n     , min(purchase_price)\nfrom\n       Product\n;\n\n-- \u200b\u4f7f\u7528\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\u5220\u9664\u200b\u91cd\u590d\u200b\u503c\u200b\uff08\u200b\u5173\u952e\u5b57\u200bDISTINCT\uff09\nselect\n       count(DISTINCT product_type)\nfrom\n       Product\n;\n\n-- \u200b\u5148\u200b\u8ba1\u7b97\u200b\u6570\u636e\u200b\u884c\u6570\u200b\u518d\u200b\u5220\u9664\u200b\u91cd\u590d\u200b\u6570\u636e\u200b\u7684\u200b\u7ed3\u679c\u200b\nselect DISTINCT\n       count(product_type)\nfrom\n       Product\n;\n\n-- GROUP BY \u200b\u5b50\u53e5\u200b\nselect\n         product_type\n       , count(*)\nfrom\n         Product\ngroup by\n         product_type\n;\n\nselect\n         purchase_price\n       , count(*)\nfrom\n         Product\ngroup by\n         purchase_price\n;\n\n-- \u200b\u4f7f\u7528\u200bwhere\u200b\u5b50\u53e5\u200b\u65f6\u200bgroup by\u200b\u7684\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\nselect\n         purchase_price\n       , count(*)\nfrom\n         Product\nwhere\n         product_type = '\u200b\u8863\u670d\u200b'\ngroup by\n         purchase_price\n;\n\n-- DISTINCT\u200b\u548c\u200bGROUP BY\u200b\u80fd\u591f\u200b\u5b9e\u73b0\u200b\u76f8\u540c\u200b\u7684\u200b\u529f\u80fd\u200b(\u200b\u5e94\u200b\u4f7f\u7528\u200bdistinct)\nselect distinct\n       product_type\nfrom\n       Product\n;\n\nselect\n         product_type\nfrom\n         Product\ngroup by\n         product_type\n;\n\n-- \u200b\u4e3a\u200b\u805a\u5408\u200b\u7ed3\u679c\u200b\u6307\u5b9a\u200b\u6761\u4ef6\u200b\nselect\n         product_type\n       , count(*)\nfrom\n         Product\ngroup by\n         product_type\nhaving\n         count(*) = 2\n;\n\nselect\n         product_type\n       , avg(sale_price)\nfrom\n         Product\ngroup by\n         product_type\nhaving\n         avg(sale_price) &gt;= 2500\n;\n\n-- \u200b\u76f8\u5bf9\u200b\u4e8e\u200bHAVING\u200b\u5b50\u53e5\u200b\uff0c\u200b\u66f4\u200b\u9002\u5408\u200b\u5199\u200b\u5728\u200bWHERE\u200b\u5b50\u53e5\u200b\u4e2d\u200b\u7684\u200b\u6761\u4ef6\u200b\n/*\nWHERE \u200b\u5b50\u53e5\u200b = \u200b\u6307\u5b9a\u200b\u884c\u6240\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6761\u4ef6\u200b\nHAVING \u200b\u5b50\u53e5\u200b = \u200b\u6307\u5b9a\u200b\u7ec4\u6240\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6761\u4ef6\u200b\n\u200b\u805a\u5408\u200b\u952e\u200b\u6240\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6761\u4ef6\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u4e66\u5199\u200b\u5728\u200bHAVING\u200b\u5b50\u53e5\u200b\u5f53\u4e2d\u200b\uff0c\u200b\u800c\u200b\u5e94\u8be5\u200b\u4e66\u5199\u200b\u5728\u200bWHERE\u200b\u5b50\u53e5\u200b\u5f53\u4e2d\u200b\u3002\nWHERE\u200b\u5b50\u53e5\u200b\u548c\u200bHAVING\u200b\u5b50\u53e5\u200b\u7684\u200b\u6267\u884c\u200b\u901f\u5ea6\u200b\u5feb\u200b\u3002\n*/\nselect\n         product_type\n       , count(*)\nfrom\n         Product\ngroup by\n         product_type\nhaving\n         product_type = '\u200b\u8863\u670d\u200b'\n;\n\nselect\n         product_type\n       , count(*)\nfrom\n         Product\nwhere\n         product_type = '\u200b\u8863\u670d\u200b'\ngroup by\n         product_type\n;\n\n-- \u200b\u5bf9\u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u8fdb\u884c\u200b\u6392\u5e8f\u200b\n-- \u200b\u4ece\u200b\u4f4e\u200b\u5230\u200b\u9ad8\u200b\uff08\u200b\u5347\u5e8f\u200b\uff09\u200b\u6392\u5217\u200b\nselect\n         product_id\n       , product_name\n       , sale_price\n       , purchase_price\nfrom\n         Product\norder by\n         sale_price\n;\n\n-- \u200b\u4ece\u200b\u9ad8\u5230\u200b\u4f4e\u200b\uff08\u200b\u964d\u5e8f\u200b\uff09\u200b\u6392\u5217\u200b\nselect\n         product_id\n       , product_name\n       , sale_price\n       , purchase_price\nfrom\n         Product\norder by\n         sale_price desc\n;\n\n--\u200b\u6307\u5b9a\u200b\u591a\u4e2a\u200b\u6392\u5e8f\u200b\u952e\u200b\nselect\n         product_id\n       , product_name\n       , sale_price\n       , purchase_price\nfrom\n         Product\norder by\n         sale_price\n       , product_id\n;\n\n-- NULL\u200b\u7684\u200b\u987a\u5e8f\u200b\n-- \u200b\u6392\u5e8f\u200b\u952e\u4e2d\u200b\u5305\u542b\u200bNULL\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u5728\u200b\u5f00\u5934\u200b\u6216\u200b\u672b\u5c3e\u200b\u8fdb\u884c\u200b\u6c47\u603b\u200b\u3002\n-- \u200b\u5728\u200b\u6392\u5e8f\u200b\u952e\u4e2d\u200b\u4f7f\u7528\u200b\u663e\u793a\u200b\u7528\u200b\u7684\u200b\u522b\u540d\u200b\nselect\n         product_id as id\n       , product_name\n       , sale_price as sp\n       , purchase_price\nfrom\n         Product\norder by\n         sp\n       , id\n;\n\n--\u200b\u4f7f\u7528\u200bHAVING\u200b\u5b50\u53e5\u200b\u65f6\u200bSELECT\u200b\u8bed\u53e5\u200b\u7684\u200b\u987a\u5e8f\u200b\n-- FROM -&gt; WHERE -&gt; GROUP BY -&gt; HAVING -&gt; SELECT -&gt; ORDER BY\n-- select\u200b\u5b50\u53e5\u200b\u4e2d\u672a\u200b\u5305\u542b\u200b\u7684\u200b\u5217\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5728\u200bORDER BY\u200b\u5b50\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200b\nselect\n         product_name\n       , sale_price\n       , purchase_price\nfrom\n         Product\norder by\n         product_id\n;\n\n-- ORDER BY\u200b\u5b50\u53e5\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u805a\u5408\u200b\u51fd\u6570\u200b\nselect\n         product_type\n       , count(*)\nfrom\n         Product\ngroup by\n         product_type\norder by\n         count(*)\n;\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B_%E7%AC%AC%E4%BA%8C%E7%AB%A0/","title":"SQL\u200b\u57fa\u7840\u6559\u7a0b\u200b \u200b\u7b2c\u4e8c\u7ae0","text":"<pre><code>-- *\u200b\u7b2c\u4e8c\u7ae0\u200b*\n-- \u200b\u67e5\u8be2\u200b\u6307\u5b9a\u200b\u7684\u200b\u5217\u200b\nSELECT product_id, product_name, purchase_price FROM Product;\n\n-- \u200b\u67e5\u8be2\u200b\u6240\u6709\u200b\u7684\u200b\u5217\u200b\nSELECT * FROM Product;\n\n-- \u200b\u4e3a\u5217\u200b\u8bbe\u7f6e\u200b\u522b\u540d\u200b\nselect product_id       as id,\n        product_name    as name,\n        purchase_price  as price\nfrom    Product;\n\n-- \u200b\u8bbe\u7f6e\u200b\u4e2d\u6587\u200b\u522b\u540d\u200b\nselect product_id       as \"\u200b\u5546\u54c1\u7f16\u53f7\u200b\",\n        product_name    as \"\u200b\u5546\u54c1\u540d\u79f0\u200b\",\n        purchase_price  as \"\u200b\u8fdb\u8d27\u5355\u200b\u4ef7\u200b\"\nfrom    Product;\n\n-- \u200b\u5e38\u6570\u200b\u7684\u200b\u67e5\u8be2\u200b\n/*\nSELECT \u200b\u5b50\u53e5\u200b\u4e2d\u200b\u4e0d\u4ec5\u200b\u53ef\u4ee5\u200b\u4e66\u5199\u200b\u5217\u540d\u200b\uff0c\u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u4e66\u5199\u200b\u5e38\u6570\u200b\u3002\u200b\u4ee3\u7801\u200b\u6e05\u5355\u200b 2-6\n\u200b\u4e2d\u200b\u7684\u200b SELECT \u200b\u5b50\u53e5\u200b\u4e2d\u200b\u7684\u200b\u7b2c\u4e00\u5217\u200b'\u200b\u5546\u54c1\u200b' \u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\u5e38\u6570\u200b\uff0c\u200b\u7b2c\u200b 2 \u200b\u5217\u200b 38 \u200b\u662f\u200b\u6570\u5b57\u200b\n\u200b\u5e38\u6570\u200b\uff0c\u200b\u7b2c\u200b 3 \u200b\u5217\u200b '2009-02-24' \u200b\u662f\u200b\u65e5\u671f\u200b\u5e38\u6570\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5c06\u200b\u4e0e\u200b product_id\n\u200b\u5217\u200b\u548c\u200b product_name \u200b\u5217\u200b\u4e00\u8d77\u200b\u88ab\u200b\u67e5\u8be2\u200b\u51fa\u6765\u200b\u3002\n\n\u25cf\u200b\u5b57\u7b26\u4e32\u200b\u5e38\u6570\u200b\n\u25cf\u200b\u6570\u5b57\u200b\u5e38\u6570\u200b\n\u25cf\u200b\u65e5\u671f\u200b\u5e38\u6570\u200b\n*/\n\nselect '\u200b\u5546\u54c1\u200b' as string, 38 as number, '2009-02-24' as date,\n    product_id, product_name\nfrom Product;\n\n-- \u200b\u4ece\u200b\u7ed3\u679c\u200b\u4e2d\u200b\u5220\u9664\u200b\u91cd\u590d\u200b\u884c\u200b\n-- \u200b\u5728\u200bSELECT\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200bDISTINCT\u200b\u53ef\u4ee5\u200b\u5220\u9664\u200b\u91cd\u590d\u200b\u884c\u200b\u3002\nselect DISTINCT purchase_price\nfrom Product;\n\n-- \u200b\u5728\u200b\u591a\u884c\u200b\u4e4b\u524d\u200b\u4f7f\u7528\u200bDISTINCT\nselect DISTINCT product_type,regist_date\nfrom Product;\n\n-- \u200b\u6839\u636e\u200bwhere \u200b\u8bed\u53e5\u200b\u6765\u200b\u9009\u62e9\u200b\u8bb0\u5f55\u200b\nselect product_name, product_type\nfrom Product\nwhere Product_type = '\u200b\u8863\u670d\u200b';\n\n-- \u200b\u6ce8\u91ca\u200b\n-- \u200b\u4e66\u5199\u200b\u5728\u200b\u201c--\u201d\u200b\u4e4b\u540e\u200b\uff0c\u200b\u53ea\u80fd\u200b\u5199\u200b\u5728\u200b\u540c\u4e00\u200b\u884c\u200b\u3002 \n-- \u200b\u4e66\u5199\u200b\u5728\u200b\u201c/*\u201d\u200b\u548c\u200b\u201c*/\u201d\u200b\u4e4b\u95f4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8de8\u200b\u591a\u884c\u200b\u3002\n\n-- \u200b\u7b97\u672f\u200b\u8fd0\u7b97\u7b26\u200b(\u200b\u56db\u5219\u8fd0\u7b97\u200b+\u3001-\u3001*\u3001/ \u200b\u7b49\u7b49\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u62ec\u53f7\u200b\u6765\u200b\u63d0\u5347\u200b\u8fd0\u7b97\u200b\u7b49\u7ea7\u200b)\nselect product_name, sale_price, \n        sale_price * 2 as \"sale_price_x2\"\nfrom    Product;\n\n-- \u200b\u53ea\u200b\u5305\u542b\u200bselect\u200b\u5b50\u53e5\u200b\u7684\u200bselect\u200b\u8bed\u53e5\u200b\u3002\nselect (100 + 200) * 3 as calculation;\n\n-- \u200b\u6bd4\u8f83\u200b\u8fd0\u7b97\u7b26\u200b\nselect product_name, product_type\nfrom    Porduct\nwhere   sale_price = 500;\n\nselect product_name, product_type\nfrom    Porduct\nwhere   sale_price &lt;&gt; 500;\n\nselect product_name, product_type, sale_price\nfrom    Product\nwhere   sale_price &gt;= 1000;\n\nselect product_name, product_type, regist_date\nfrom    Product\nwhere   regist_date &lt; '2009-09-27';\n\n-- where\u200b\u5b50\u53e5\u200b\u7684\u200b\u6761\u4ef6\u200b\u8868\u8fbe\u5f0f\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8ba1\u7b97\u200b\u8868\u8fbe\u5f0f\u200b\u3002\nselect product_name, sale_price, purchase_price\nfrom    Product\nwhere   sale_price - purchase_price &gt;= 500;\n\n-- \u200b\u9009\u53d6\u200bNULL\u200b\u7684\u200b\u8bb0\u5f55\u200b\nselect product_name, purchase_price\nfrom    Product\nwhere   purchase_price IS NULL;\n\n-- \u200b\u9009\u53d6\u200b\u4e0d\u200b\u4e3a\u200bNULL\u200b\u7684\u200b\u8bb0\u5f55\u200b\nselect product_name, purchase_price\nfrom    Product\nwhere   purchase_price IS NOT NULL;\n\n-- NOT \u200b\u8fd0\u7b97\u7b26\u200b\nselect product_name, product_type, sale_price\nfrom    Product\nwhere NOT sale_price &gt;= 1000;\n\nselect product_name, product_type\nfrom    Porduct\nwhere sale_price &lt; 1000; -- \u200b\u4e0e\u200b\u4e0a\u9762\u200b\u7684\u200b\u8bed\u53e5\u200b\u7b49\u4ef7\u200b\n\n-- AND \u200b\u548c\u200b OR\u200b\u8fd0\u7b97\u7b26\u200b\nselect product_name, purchase_price\nfrom    Product\nwhere   product_type = '\u200b\u53a8\u623f\u7528\u5177\u200b'\nand     sale_price &gt;= 3000;\n\nselect product_name, purchase_price\nfrom    Product\nwhere   product_type = '\u200b\u53a8\u623f\u7528\u5177\u200b'\nor      sale_price &gt;= 3000;\n\n-- \u200b\u901a\u8fc7\u200b\u62ec\u53f7\u200b\u5f3a\u5316\u200b\u5904\u7406\u200b\nselect product_name, product_type, regist_date\nfrom    Product\nwhere   product_type = '\u200b\u529e\u516c\u7528\u54c1\u200b'\nand     ( regist_date = '2009-09-11'\n        OR regist_date = '2009-09-20');\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B_%E7%AC%AC%E4%BA%94%E7%AB%A0/","title":"SQL\u200b\u57fa\u7840\u6559\u7a0b\u200b \u200b\u7b2c\u4e94\u7ae0","text":"<pre><code>-- \u200b\u590d\u6742\u200b\u67e5\u8be2\u200b\n\n-- \u200b\u89c6\u56fe\u200b\n-- \u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b\u7684\u200bCREATE VIEW\u200b\u8bed\u53e5\u200b\nCREATE VIEW \u200b\u89c6\u56fe\u200b\u540d\u79f0\u200b (&lt;\u200b\u89c6\u56fe\u200b\u5217\u540d\u200b1&gt;, &lt;\u200b\u89c6\u56fe\u200b\u5217\u540d\u200b2&gt;, ...)\nAS\n&lt;SELECT\u200b\u8bed\u53e5\u200b&gt;\n\n-- ProductSum\u200b\u89c6\u56fe\u200b\nCREATE VIEW ProductSum (product_type, cnt_product)\nAS\nSELECT product_type, COUNT(*)\nFROM ProductSum\nGROUP BY product_type;\n\n-- \u200b\u4f7f\u7528\u200b\u89c6\u56fe\u200b\nSELECT product_type, cnt_product\nFROM ProductSum; -- \u200b\u5728\u200bFROM\u200b\u5b50\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u89c6\u56fe\u200b\u6765\u200b\u4ee3\u66ff\u200b\u8868\u200b\n\n-- \u200b\u4ee5\u200b\u89c6\u56fe\u200b\u4e3a\u200b\u57fa\u7840\u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b\nCREATE VIEW ProductSumJim (product_type, cnt_product)\nAS \nSELECT product_type, cnt_product\nFROM ProductSum -- \u200b\u4ee5\u200b\u89c6\u56fe\u200b\u4e3a\u200b\u57fa\u7840\u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b\nWHERE product_type = '\u200b\u529e\u516c\u7528\u54c1\u200b';\n\n/* \u200b\u867d\u7136\u200b\u8bed\u6cd5\u200b\u4e0a\u200b\u6ca1\u6709\u200b\u9519\u8bef\u200b\uff0c\u200b\u4f46\u662f\u200b\u6211\u4eec\u200b\u8fd8\u662f\u200b\u5e94\u8be5\u200b\u5c3d\u91cf\u907f\u514d\u200b\u5728\u200b\u89c6\u56fe\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u521b\u200b\n\u200b\u5efa\u200b\u89c6\u56fe\u200b\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u5bf9\u200b\u591a\u6570\u200b DBMS \u200b\u6765\u8bf4\u200b\uff0c\u200b\u591a\u200b\u91cd\u89c6\u200b\u56fe\u4f1a\u200b\u964d\u4f4e\u200b SQL \u200b\u7684\u200b\u6027\u80fd\u200b\u3002\n\u200b\u5e94\u8be5\u200b\u907f\u514d\u200b\u5728\u200b\u89c6\u56fe\u200b\u7684\u200b\u57fa\u7840\u200b\u4e0a\u200b\u521b\u5efa\u200b\u89c6\u56fe\u200b.\n*/\n\n-- \u200b\u89c6\u56fe\u200b\u9650\u5236\u200b 1 -- \u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\u65f6\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200bORDER BY \u200b\u5b50\u53e5\u200b\n-- \u200b\u56e0\u6b64\u200b\u4e0b\u8ff0\u200b\u89c6\u56fe\u200b\u5b9a\u4e49\u200b\u8bed\u53e5\u200b\u65f6\u200b\u9519\u8bef\u200b\u7684\u200b.\n/*\u200b\u4e3a\u4ec0\u4e48\u200b\u4e0d\u80fd\u200b\u4f7f\u7528\u200b ORDER BY \u200b\u5b50\u53e5\u200b\u5462\u200b\uff1f\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u89c6\u56fe\u200b\u548c\u8868\u200b\u4e00\u6837\u200b\uff0c \u200b\u6570\u636e\u200b\n\u200b\u884c\u90fd\u200b\u662f\u200b\u6ca1\u6709\u200b\u987a\u5e8f\u200b\u7684\u200b\u3002\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u6709\u4e9b\u200b DBMS \u200b\u5728\u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\u7684\u200b\u8bed\u53e5\u200b\u4e2d\u662f\u200b\u53ef\u4ee5\u200b\u4f7f\u200b\n\u200b\u7528\u200b ORDER BY \u200b\u5b50\u53e5\u200b\u7684\u200b A\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u200b\u5e76\u200b\u4e0d\u662f\u200b\u901a\u7528\u200b\u7684\u200b\u8bed\u6cd5\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\n\u200b\u65f6\u8bf7\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200b ORDER BY \u200b\u5b50\u53e5\u200b\u3002\n*/\nCREATE VIEW ProductSum (product_type, cnt_product)\nAS\nSELECT product_type, COUNT(*)\nFROM Product\nGROUP BY product_type\nORDER BY product_type;\n\n-- \u200b\u89c6\u56fe\u200b\u7684\u200b\u9650\u5236\u200b 2 -- \u200b\u5bf9\u200b\u89c6\u56fe\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\n/*\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u867d\u7136\u200b\u8fd9\u200b\u5176\u4e2d\u200b\u6709\u200b\u5f88\u200b\u4e25\u683c\u200b\u7684\u200b\u9650\u5236\u200b\uff0c\u200b\u4f46\u662f\u200b\u67d0\u4e9b\u200b\u65f6\u5019\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u89c6\u56fe\u200b\u8fdb\u200b\n\u200b\u884c\u200b\u66f4\u65b0\u200b\u3002\u200b\u6807\u51c6\u200b SQL \u200b\u4e2d\u6709\u200b\u8fd9\u6837\u200b\u7684\u200b\u89c4\u5b9a\u200b\uff1a\u200b\u5982\u679c\u200b\u5b9a\u4e49\u200b\u89c6\u56fe\u200b\u7684\u200b SELECT \u200b\u8bed\u53e5\u200b\u80fd\u591f\u200b\n\u200b\u6ee1\u8db3\u200b\u67d0\u4e9b\u200b\u6761\u4ef6\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u89c6\u56fe\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u88ab\u200b\u66f4\u65b0\u200b\u3002\u200b\u4e0b\u9762\u200b\u5c31\u200b\u7ed9\u200b\u5927\u5bb6\u200b\u5217\u4e3e\u200b\u4e00\u4e9b\u200b\u6bd4\u8f83\u200b\n\u200b\u5177\u6709\u200b\u4ee3\u8868\u6027\u200b\u7684\u200b\u6761\u4ef6\u200b\u3002\n\u2460 SELECT \u200b\u5b50\u53e5\u200b\u4e2d\u672a\u200b\u4f7f\u7528\u200b DISTINCT\n\u2461 FROM \u200b\u5b50\u53e5\u200b\u4e2d\u200b\u53ea\u6709\u200b\u4e00\u5f20\u200b\u8868\u200b\n\u2462 \u200b\u672a\u200b\u4f7f\u7528\u200b GROUP BY \u200b\u5b50\u53e5\u200b\n\u2463 \u200b\u672a\u200b\u4f7f\u7528\u200b HAVING \u200b\u5b50\u53e5\u200b\n\n\u200b\u89c6\u56fe\u200b\u548c\u8868\u200b\u9700\u8981\u200b\u540c\u65f6\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\uff0c\u200b\u56e0\u6b64\u200b\u901a\u8fc7\u200b\u6c47\u603b\u200b\u5f97\u5230\u200b\u7684\u200b\u89c6\u56fe\u200b\u65e0\u6cd5\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\u3002\n*/\n\n-- \u200b\u4e0d\u662f\u200b\u901a\u8fc7\u200b\u6c47\u603b\u200b\u5f97\u5230\u200b\u7684\u200b\u89c6\u56fe\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\u3002\nCREATE VIEW ProductSumJim (product_id, product_name, product_type, sale_price, purchase_price, regist_date)\nAS\nSELECT *\nFROM Product\nWHERE prouduct_type = '\u200b\u529e\u516c\u7528\u54c1\u200b';\n\n-- \u200b\u5411\u200b\u89c6\u56fe\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u6570\u636e\u200b\u884c\u200b\nINSERT INTO ProductJim VALUES ('0009', '\u200b\u5370\u7ae0\u200b', '\u200b\u529e\u516c\u7528\u54c1\u200b', 95, 10, '2009-11-30');\n\n/*\u200b\u7531\u4e8e\u200bPostgreSQL\u200b\u4e2d\u200b\u7684\u200b\u89c6\u56fe\u200b\u4f1a\u200b\u88ab\u200b\u521d\u59cb\u200b\u8bbe\u5b9a\u200b\u4e3a\u200b\u53ea\u8bfb\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6267\u884c\u200b\u4ee3\u7801\u200b\u6e05\u5355\u200b5-6\u200b\u4e2d\u200b\u7684\u200b\nINSERT\u200b\u8bed\u53e5\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u53d1\u751f\u200b\u4e0b\u9762\u200b\u8fd9\u6837\u200b\u7684\u200b\u9519\u8bef\u200b\u3002\n\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\uff08\u200b\u4f7f\u7528\u200bPostgreSQL\uff09\nERROR: \u200b\u4e0d\u80fd\u200b\u5411\u200b\u89c6\u56fe\u200b\u4e2d\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\nHINT: \u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u65e0\u6761\u4ef6\u200b\u7684\u200bON INSERT DO INSTEAD\u200b\u89c4\u5219\u200b\n\n\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5728\u200bINSERT\u200b\u8bed\u53e5\u200b\u6267\u884c\u200b\u4e4b\u524d\u200b\uff0c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u4ee3\u7801\u200b\u6e05\u5355\u200b5-A\u200b\u4e2d\u200b\u7684\u200b\u6307\u4ee4\u200b\u6765\u200b\u5141\u8bb8\u200b\n\u200b\u66f4\u65b0\u200b\u64cd\u4f5c\u200b\u3002\u200b\u5728\u200bDB2\u200b\u548c\u200bMySQL\u200b\u7b49\u200b\u5176\u4ed6\u200bDBMS\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u4e0d\u9700\u8981\u200b\u6267\u884c\u200b\u8fd9\u6837\u200b\u7684\u200b\u6307\u4ee4\u200b\u3002\n*/\n-- \u200b\u5141\u8bb8\u200bPostgreSQL\u200b\u5bf9\u200b\u89c6\u56fe\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\nCREATE OR REPLACE RULE insert_rule\nAS ON INSERT\nTO ProductJim DO INSTEAD\nINSERT INTO Product VALUES (\n            new.product_id,\n            new.product_name,\n            new.product_type,\n            new.sale_price,\n            new,purchase_price,\n            new.regist_date);\n\n/* UPDATE \u200b\u8bed\u53e5\u200b\u548c\u200b DELETE \u200b\u8bed\u53e5\u200b\u5f53\u7136\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u50cf\u200b\u64cd\u4f5c\u200b\u8868\u65f6\u200b\u90a3\u6837\u200b\u6b63\u5e38\u200b\u6267\u884c\u200b\uff0c\n\u200b\u4f46\u662f\u200b\u5bf9\u4e8e\u200b\u539f\u8868\u200b\u6765\u8bf4\u200b\u5374\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\u5404\u79cd\u5404\u6837\u200b\u7684\u200b\u7ea6\u675f\u200b\uff08\u200b\u4e3b\u952e\u200b\u548c\u200b NOT NULL \u200b\u7b49\u200b\uff09\uff0c\n\u200b\u9700\u8981\u200b\u7279\u522b\u200b\u6ce8\u610f\u200b\u3002\n*/\n\n-- \u200b\u5220\u9664\u200b\u89c6\u56fe\u200b\n-- \u200b\u5220\u9664\u200b\u89c6\u56fe\u200b\u7684\u200bDROP VIEW\u200b\u8bed\u53e5\u200b\nDROP VIEW \u200b\u89c6\u56fe\u200b\u540d\u79f0\u200b(&lt;\u200b\u89c6\u56fe\u200b\u5217\u540d\u200b&gt;, &lt;\u200b\u89c6\u56fe\u200b\u5217\u540d\u200b&gt;, ...)\nDROP VIEW ProductSum;\n\n/*\n\u200b\u5728\u200bPostgreSQL\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u5220\u9664\u200b\u4ee5\u200b\u89c6\u56fe\u200b\u4e3a\u200b\u57fa\u7840\u200b\u521b\u5efa\u200b\u51fa\u6765\u200b\u7684\u200b\u591a\u200b\u91cd\u89c6\u200b\u56fe\u200b\uff0c\u200b\u7531\u4e8e\u200b\u5b58\u5728\u200b\u5173\u8054\u200b\u7684\u200b\n\u200b\u89c6\u56fe\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4f1a\u200b\u53d1\u751f\u200b\u5982\u4e0b\u200b\u9519\u8bef\u200b\u3002\n\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b\uff08\u200b\u4f7f\u7528\u200bPostgreSQL\uff09\nERROR: \u200b\u7531\u4e8e\u200b\u5b58\u5728\u200b\u5173\u8054\u200b\u89c6\u56fe\u200b\uff0c\u200b\u56e0\u6b64\u200b\u65e0\u6cd5\u200b\u5220\u9664\u200b\u89c6\u56fe\u200bproductsum\nDETAIL: \u200b\u89c6\u56fe\u200bproductsumjim\u200b\u4e0e\u200b\u89c6\u56fe\u200bproductsum\u200b\u76f8\u5173\u8054\u200b\nHINT: \u200b\u5220\u9664\u200b\u5173\u8054\u200b\u5bf9\u8c61\u200b\u8bf7\u200b\u4f7f\u7528\u200bDROP\u2026CASCADE\n\u200b\u8fd9\u65f6\u200b\u53ef\u4ee5\u200b\u50cf\u200b\u4e0b\u9762\u200b\u8fd9\u6837\u200b\uff0c\u200b\u4f7f\u7528\u200bCASCADE\u200b\u9009\u9879\u200b\u6765\u200b\u5220\u9664\u200b\u5173\u8054\u200b\u89c6\u56fe\u200b\u3002\nPostgreSQL\nDROP VIEW ProductSum CASCADE;\n*/\n\n-- \u200b\u5b50\u200b\u67e5\u8be2\u200b\n-- \u200b\u89c6\u56fe\u200bProductSum\u200b\u548c\u200b\u786e\u8ba4\u200b\u7528\u200b\u7684\u200bSELECT\u200b\u8bed\u53e5\u200b\n\n-- \u200b\u6839\u636e\u200b\u5546\u54c1\u79cd\u7c7b\u200b\u7edf\u8ba1\u200b\u5546\u54c1\u200b\u6570\u91cf\u200b\u89c6\u56fe\u200b\nCREATE VIEW ProductSum (product_type,cnt_product)\nAS \nSELECT product_type, COUNT(*)\nFROM Product\nGROUP BY product_type;\n\n-- \u200b\u786e\u8ba4\u200b\u521b\u5efa\u200b\u597d\u200b\u7684\u200b\u89c6\u56fe\u200b\nSELECT product_type, cnt_product\nFROM ProductSum;\n\n-- \u200b\u5b50\u200b\u67e5\u8be2\u200b\nSELECT product_type, cnt_product\nFROM (SELECT product_type, COUNT(*) AS cnt_product\n        FROM Product\n        GROUP BY product_type) AS ProductSum;\n\n-- * \u200b\u5b50\u200b\u67e5\u8be2\u200b\u4f5c\u4e3a\u200b\u5185\u5c42\u200b\u67e5\u8be2\u200b\u4f1a\u200b\u9996\u5148\u200b\u6267\u884c\u200b\n\n--\u200b\u589e\u52a0\u200b\u5b50\u200b\u67e5\u8be2\u200b\u7684\u200b\u5c42\u6570\u200b\nSELECT product_type, cnt_product\nFROM (SELECT * \n        FROM (SELECT product_type,COUNT(*) AS cnt_product\n                FROM Product\n                GROUP BY product_type) AS ProductSum)\n        WHERE cnt_product = 4) AS ProductSum2;\n\n-- \u200b\u5b50\u200b\u67e5\u8be2\u200b\u7684\u200b\u540d\u79f0\u200b\n/* \u200b\u4e4b\u524d\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\u6211\u4eec\u200b\u7ed9\u5b50\u200b\u67e5\u8be2\u200b\u8bbe\u5b9a\u200b\u4e86\u200b ProductSum \u200b\u7b49\u200b\u540d\u79f0\u200b\u3002\u200b\u539f\u5219\u4e0a\u200b\n\u200b\u5b50\u200b\u67e5\u8be2\u200b\u5fc5\u987b\u200b\u8bbe\u5b9a\u200b\u540d\u79f0\u200b\uff0c\u200b\u56e0\u6b64\u200b\u8bf7\u200b\u5927\u5bb6\u200b\u5c3d\u91cf\u200b\u4ece\u200b\u5904\u7406\u200b\u5185\u5bb9\u200b\u7684\u200b\u89d2\u5ea6\u200b\u51fa\u53d1\u200b\u4e3a\u5b50\u200b\u67e5\u8be2\u200b\u8bbe\u200b\n\u200b\u5b9a\u200b\u6070\u5f53\u200b\u7684\u200b\u540d\u79f0\u200b\u3002\u200b\u5728\u200b\u4e0a\u8ff0\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u5b50\u200b\u67e5\u8be2\u200b\u7528\u6765\u200b\u5bf9\u200b Product \u200b\u8868\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6c47\u200b\n\u200b\u603b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u4e86\u200b\u540e\u7f00\u200b Sum \u200b\u4f5c\u4e3a\u200b\u5176\u200b\u540d\u79f0\u200b\u3002\n\u200b\u4e3a\u5b50\u200b\u67e5\u8be2\u200b\u8bbe\u5b9a\u200b\u540d\u79f0\u200b\u65f6\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b AS \u200b\u5173\u952e\u5b57\u200b\uff0c\u200b\u8be5\u200b\u5173\u952e\u5b57\u200b\u6709\u65f6\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\n\u200b\u7701\u7565\u200b \n\n*\u200b\u5176\u4e2d\u200b\u4e5f\u200b\u6709\u200b\u50cf\u200b Oracle \u200b\u8fd9\u6837\u200b\uff0c\u200b\u5728\u200b\u540d\u79f0\u200b\n\u200b\u4e4b\u524d\u200b\u4f7f\u7528\u200bAS\u200b\u5173\u952e\u5b57\u200b\u5c31\u200b\u4f1a\u200b\u53d1\u751f\u200b\u9519\u200b\n\u200b\u8bef\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\uff0c\u200b\u5927\u5bb6\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5176\u200b\u89c6\u4e3a\u200b\n\u200b\u4f8b\u5916\u200b\u7684\u200b\u60c5\u51b5\u200b\n*/\n\n--\u200b\u6807\u200b\u91cf\u5b50\u200b\u67e5\u8be2\u200b\n\n/*\u200b\u6807\u91cf\u200b\u5c31\u662f\u200b\u5355\u4e00\u200b\u7684\u200b\u610f\u601d\u200b\uff0c\u200b\u5728\u200b\u6570\u636e\u5e93\u200b\u4e4b\u5916\u200b\u7684\u200b\u9886\u57df\u200b\u4e5f\u200b\u7ecf\u5e38\u200b\u4f7f\u7528\u200b\u3002\n\u200b\u800c\u6807\u200b\u91cf\u5b50\u200b\u67e5\u8be2\u200b\u5219\u200b\u6709\u200b\u4e00\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u9650\u5236\u200b\uff0c\u200b\u90a3\u200b\u5c31\u662f\u200b\u5fc5\u987b\u200b\u800c\u4e14\u200b\u53ea\u80fd\u200b\u8fd4\u56de\u200b 1 \u200b\u884c\u200b 1\n\u200b\u5217\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u8fd4\u56de\u200b\u8868\u4e2d\u200b\u67d0\u200b\u4e00\u884c\u200b\u7684\u200b\u67d0\u200b\u4e00\u5217\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u4f8b\u5982\u200b\u201c10\u201d\u200b\u6216\u8005\u200b\u201c\u200b\u4e1c\u4eac\u90fd\u200b\u201d\n\u200b\u8fd9\u6837\u200b\u7684\u200b\u503c\u200b\n*\u200b\u6807\u200b\u91cf\u5b50\u200b\u67e5\u8be2\u200b\u5c31\u662f\u200b\u8fd4\u56de\u200b\u5355\u4e00\u200b\u503c\u200b\u7684\u200b\u5b50\u200b\u67e5\u8be2\u200b\u3002\n*/\n\n-- \u200b\u9009\u53d6\u200b\u51fa\u200b\u9500\u552e\u200b\u5355\u4ef7\u200b\uff08 sale_price\uff09\u200b\u9ad8\u4e8e\u200b\u5168\u90e8\u200b\u5546\u54c1\u200b\u7684\u200b\u5e73\u5747\u200b\u5355\u4ef7\u200b\u7684\u200b\u5546\u54c1\u200b\nSELECT product_id, product_name, sale_price\nFROM Product\nWHERE sale_price &gt; (SELECT AVG(sale_price)\n                        FROM Product);\n\n-- \u200b\u6807\u200b\u91cf\u5b50\u200b\u67e5\u8be2\u200b\u7684\u200b\u4e66\u5199\u200b\u4f4d\u7f6e\u200b\n/* \n\u200b\u6807\u200b\u91cf\u5b50\u200b\u67e5\u8be2\u200b\u7684\u200b\u4e66\u5199\u200b\u4f4d\u7f6e\u200b\u5e76\u200b\u4e0d\u4ec5\u4ec5\u200b\u5c40\u9650\u4e8e\u200b WHERE \u200b\u5b50\u53e5\u200b\u4e2d\u200b\uff0c\u200b\u901a\u5e38\u200b\u4efb\u4f55\u200b\u53ef\u200b\n\u200b\u4ee5\u200b\u4f7f\u7528\u200b\u5355\u4e00\u200b\u503c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u3002\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c \u200b\u80fd\u591f\u200b\u4f7f\u7528\u200b\u5e38\u6570\u200b\u6216\u8005\u200b\u5217\u540d\u200b\u7684\u200b\n\u200b\u5730\u65b9\u200b\uff0c\u200b\u65e0\u8bba\u662f\u200b SELECT \u200b\u5b50\u53e5\u200b\u3001 GROUP BY \u200b\u5b50\u53e5\u200b\u3001 HAVING \u200b\u5b50\u53e5\u200b\uff0c\u200b\u8fd8\u662f\u200b\nORDER BY \u200b\u5b50\u53e5\u200b\uff0c\u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b\u7684\u200b\u5730\u65b9\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u3002\n*/\n\n-- \u200b\u5728\u200bSELECT\u200b\u5b50\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u6807\u200b\u91cf\u5b50\u200b\u67e5\u8be2\u200b\nSELECT product_id, product_name, sale_price,\n        (SELECT AVG(sale_price)\n            FROM Product) AS avg_price\nFROM Product;\n\n\n-- \u200b\u5728\u200bHAVING \u200b\u5b50\u53e5\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u6807\u200b\u91cf\u5b50\u200b\u67e5\u8be2\u200b\nSELECT product_type, AVG(sale_price)\nFROM Product\nGROUP BY product_type\nHAVING AVG(sale_price) &gt; (SELECT AVG(sale_price)\n                            FROM Product);\n\n-- \u200b\u5173\u8054\u200b\u5b50\u200b\u67e5\u8be2\u200b\n/*\n\u25cf \u200b\u5173\u8054\u200b\u5b50\u200b\u67e5\u8be2\u200b\u4f1a\u200b\u5728\u200b\u7ec6\u5206\u200b\u7684\u200b\u7ec4\u5185\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\u65f6\u200b\u4f7f\u7528\u200b\u3002\n\u25cf \u200b\u5173\u8054\u200b\u5b50\u200b\u67e5\u8be2\u200b\u548c\u200bGROUP BY\u200b\u5b50\u53e5\u200b\u4e00\u6837\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5bf9\u8868\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5207\u5206\u200b\u3002\n\u25cf \u200b\u5173\u8054\u200b\u5b50\u200b\u67e5\u8be2\u200b\u7684\u200b\u7ed3\u5408\u200b\u6761\u4ef6\u200b\u5982\u679c\u200b\u672a\u200b\u51fa\u73b0\u200b\u5728\u5b50\u200b\u67e5\u8be2\u200b\u4e4b\u4e2d\u200b\u5c31\u200b\u4f1a\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b\u3002\n*/\n\n-- \u200b\u901a\u8fc7\u200b\u5173\u8054\u200b\u5b50\u200b\u67e5\u8be2\u200b\u6309\u7167\u200b\u5546\u54c1\u79cd\u7c7b\u200b\u5bf9\u200b\u5e73\u5747\u200b\u9500\u552e\u200b\u5355\u4ef7\u200b\u8fdb\u884c\u200b\u6bd4\u8f83\u200b\nSELECT product_type, product_name, sale_price\nFROM Product AS P1\nWHERE sale_price &gt; (SELECT AVG(SALE_price)\n                        FROM Product AS P2\n                        WHERE P1.product_type = P2.product_type)\n                        GROUP BY product_type);\n</code></pre>"},{"location":"%E7%BC%96%E7%A8%8B/SQL/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/SQL%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B_%E7%AC%AC%E5%9B%9B%E7%AB%A0/","title":"SQL\u200b\u57fa\u7840\u6559\u7a0b\u200b \u200b\u7b2c\u56db\u7ae0","text":"<pre><code>-- *\u200b\u7b2c\u56db\u7ae0\u200b*\n\n--\u200b\u6570\u636e\u200b\u7684\u200b\u63d2\u5165\u200b\n--INSERT \u200b\u8bed\u53e5\u200b\nINSERT INTO &lt;\u200b\u8868\u540d\u200b&gt; (\u200b\u5217\u200b1, \u200b\u5217\u200b2, \u200b\u5217\u200b3, ...) VALUES (\u200b\u503c\u200b1, \u200b\u503c\u200b2, \u200b\u503c\u200b3, ...);\n\n-- \u200b\u5411\u8868\u4e2d\u200b\u63d2\u5165\u200b\u4e00\u884c\u200b\u6570\u636e\u200b\nINSERT INTO ProductIns (product_id, product_name, product_type, sale_price, purchase_price, regist_date) \nVALUES  ('0001', 'T\u200b\u6064\u886b\u200b', '\u200b\u8863\u670d\u200b', 1000, 500, '2009-09-20');\n\n/* \u200b\u591a\u884c\u200bINSERT\n\u200b\u8be5\u200b\u8bed\u6cd5\u200b\u5f88\u200b\u5bb9\u6613\u200b\u7406\u89e3\u200b\uff0c\u200b\u5e76\u4e14\u200b\u51cf\u5c11\u200b\u4e86\u200b\u4e66\u5199\u200b\u8bed\u53e5\u200b\u6570\u91cf\u200b\uff0c\u200b\u975e\u5e38\u200b\u65b9\u4fbf\u200b\u3002\n\u200b\u786e\u8ba4\u200b\u63d2\u5165\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u5426\u200b\u6b63\u786e\u200b\uff0c\u200b\u7531\u4e8e\u200b\u591a\u884c\u200b\u63d2\u5165\u200b\uff0c\u200b\u60f3\u8981\u200b\u627e\u51fa\u200b\u51fa\u9519\u200b\u7684\u200b\u67d0\u884c\u200b\u975e\u5e38\u200b\u56f0\u96be\u200b\u3002\n\u200b\u8be5\u200b\u8bed\u6cd5\u200b\u9002\u7528\u200b\u4e8e\u200bDB2\u3001SQL\u3001 SQL Server\u3001 PostgreSQL\u200b\u548c\u200bMySQL\uff0c\u200b\u4f46\u200b\u4e0e\u200b\u9002\u7528\u200b\u4e8e\u200bOracle\u3002\n*/\nINSERT INTO ProductIns VALUES ('0002','\u200b\u6253\u5b54\u5668\u200b','\u200b\u529e\u516c\u7528\u54c1\u200b', 500, 320, '2009-09-11'),('0003','\u200b\u8fd0\u52a8\u200bT\u200b\u6064\u200b','\u200b\u8863\u670d\u200b',4000,2800,NULL),('0004','\u200b\u83dc\u5200\u200b','\u200b\u53a8\u623f\u7528\u5177\u200b',3000,280,'2009-09-20');\n\n-- Oracle\u200b\u4e2d\u200b\u7684\u200b\u591a\u884c\u200bINSERT\nINSERT ALL INTO ProductIns VALUES ('0002','\u200b\u6253\u5b54\u5668\u200b','\u200b\u529e\u516c\u7528\u54c1\u200b',500,320,'2009-09-11')\n            INTO ProductIns VALUES ('0003','\u200b\u8fd0\u52a8\u200bT\u200b\u6064\u200b','\u200b\u8863\u670d\u200b',4000,2800, NULL)\n            INTO ProductIns VALUES ('0004','\u200b\u83dc\u5200\u200b','\u200b\u53a8\u623f\u7528\u5177\u200b',3000,2800,'2009-09-20');\n\n-- \u200b\u5217\u200b\u6e05\u5355\u200b\u7684\u200b\u7701\u7565\u200b \u200b\u5bf9\u6807\u200b\u8fdb\u884c\u200b\u5168\u5217\u200bINSERT\u200b\u65f6\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\u8868\u660e\u200b\u540e\u200b\u7684\u200b\u5217\u200b\u6e05\u5355\u200b\n-- \u200b\u5305\u542b\u200b\u5217\u200b\u6e05\u5355\u200b\nINSERT INTO ProductIns (product_id,product_name,product_type,sale_price,purchase_price,regist_date)\nVALUES ('0005','\u200b\u9ad8\u538b\u9505\u200b','\u200b\u53a8\u623f\u7528\u54c1\u200b',6800,5000,'2009-01-15');\n-- \u200b\u7701\u7565\u200b\u5217\u200b\u6e05\u5355\u200b\nINSERT INTO ProductIns VALUES ('0005','\u200b\u9ad8\u538b\u9505\u200b','\u200b\u53a8\u623f\u7528\u54c1\u200b',6800,5000,'2009-01-15');\n\n-- \u200b\u63d2\u5165\u200bNULL\nINSERT INTO ProductIns (product_id, product_name, product_type, \ue805\nsale_price, purchase_price, regist_date) VALUES ('0006', '\u200b\u53c9\u5b50\u200b', \ue805\n'\u200b\u53a8\u623f\u7528\u5177\u200b', 500, NULL, '2009-09-20');\n\n-- \u200b\u63d2\u5165\u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u5728\u200b\u521b\u5efa\u200b\u8868\u200b\u7684\u200bCREATE TABLE \u200b\u8bed\u53e5\u200b\u4e2d\u200b\u8bbe\u7f6e\u200b DEFAULT \u200b\u7ea6\u675f\u200b\u6765\u200b\u8bbe\u5b9a\u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\u901a\u5e38\u200b\u6709\u200b\u663e\u5f0f\u200b\u548c\u200b\u9690\u5f0f\u200b\u4e24\u79cd\u200b\u3002\n-- \u200b\u901a\u8fc7\u200b\u663e\u5f0f\u200b\u65b9\u6cd5\u200b\u8bbe\u5b9a\u200b\u9ed8\u8ba4\u503c\u200b\ninsert into ProductIns (product_id,product_name,product_type,sale_price,purchase_price,regist_date) \nvalues ('0007','\u200b\u64e6\u200b\u83dc\u677f\u200b','\u200b\u53a8\u623f\u7528\u5177\u200b',DEFAULT, 790, '2009-04-28');\n-- \u200b\u901a\u8fc7\u200b\u9690\u5f0f\u200b\u65b9\u6cd5\u200b\u63d2\u5165\u200b\u9ed8\u8ba4\u503c\u200b,\u200b\u5373\u200b\u7701\u7565\u200bsale_price\u200b\u5217\u200b\u548c\u200b\u7701\u7565\u200b\u63d2\u5165\u200b\u503c\u200bDEFAULT\nINSERT INTO ProductIns (product_id,product_name,product_type,purchase_price,regist_date) \nvalues ('0007','\u200b\u64e6\u200b\u83dc\u677f\u200b','\u200b\u53a8\u623f\u7528\u5177\u200b', 790, '2009-04-28');\n\n-- \u200b\u4ece\u200b\u5176\u4ed6\u200b\u8868\u4e2d\u200b\u590d\u5236\u200b\u6570\u636e\u200b\n-- \u200b\u521b\u5efa\u200bProductCopy\u200b\u8868\u200b\u7684\u200bCREATE TABLE\u200b\u8bed\u53e5\u200b\n-- INSERT ... SELECT\u200b\u8bed\u53e5\u200b\n-- \u200b\u5c06\u200b\u5546\u54c1\u200b\u8868\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u590d\u5236\u5230\u200b\u5546\u54c1\u200b\u590d\u5236\u200b\u8868\u4e2d\u200b\n INSERT INTO ProductCopy (product_id,product_name,product_type,sale_price,purchase_price,regist_date) \n SELECT product_id,product_name,product_type,sale_price,purchase_price,regist_date FROM Proudct;\n /*\n \u200b\u8be5\u200b INSERT \u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200b SELECT \u200b\u8bed\u53e5\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b WHERE \u200b\u5b50\u53e5\u200b\u6216\u8005\u200b\nGROUP BY \u200b\u5b50\u53e5\u200b\u7b49\u200b\u3002\u200b\u76ee\u524d\u4e3a\u6b62\u200b\u5b66\u5230\u200b\u7684\u200b\u5404\u79cd\u200b SELECT \u200b\u8bed\u53e5\u200b\u4e5f\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u3002\n\u200b\u5bf9\u200b\u5728\u200b\u5173\u8054\u200b\u8868\u200b\u4e4b\u95f4\u200b\u5b58\u53d6\u6570\u636e\u200b\u6765\u8bf4\u200b\uff0c\u200b\u8fd9\u662f\u200b\u975e\u5e38\u200b\u65b9\u4fbf\u200b\u7684\u200b\u529f\u80fd\u200b\u3002\n*/\nINSERT INTO ProductType (product_type, sum_sale_price, sum_purchase_price)\nSELECT product_type, SUM(sale_price), SUM(purchase_price) FROM Product GROUP BY Product_type;\n\n-- \u200b\u6570\u636e\u200b\u7684\u200b\u5220\u9664\u200b\n-- DELETE\u200b\u8bed\u53e5\u200b\u7684\u200b\u57fa\u672c\u200b\u8bed\u6cd5\u200b\ndelete from &lt;\u200b\u8868\u540d\u200b&gt;;\n\n-- \u200b\u6e05\u7a7a\u200bProduct\u200b\u8868\u200b\ndelete from Product;\n\n-- \u200b\u5220\u9664\u200b\u90e8\u5206\u200b\u6570\u636e\u200b\u884c\u200b\u7684\u200b\u641c\u7d22\u200b\u6027\u200bDELETE\nDELETE FROM &lt;\u200b\u8868\u540d\u200b&gt; WHERE &lt;\u200b\u6761\u4ef6\u200b&gt;;\ndelete from Product where sale_price &gt;= 4000;\n\n-- \u200b\u53ea\u80fd\u200b\u5220\u9664\u200b\u8868\u4e2d\u200b\u5168\u90e8\u200b\u6570\u636e\u200b\u7684\u200bTRUNCATE\u200b\u8bed\u53e5\u200b\nTRUNCATE &lt;\u200b\u8868\u540d\u200b&gt;;\n\n-- \u200b\u6570\u636e\u200b\u7684\u200b\u66f4\u65b0\u200b\nUPDATE &lt;\u200b\u8868\u540d\u200b&gt; SET &lt;\u200b\u5217\u540d\u200b&gt; = &lt;\u200b\u8868\u8fbe\u5f0f\u200b&gt;;\n\n-- \u200b\u5c06\u200b\u767b\u8bb0\u200b\u65e5\u671f\u200b\u5168\u90e8\u200b\u66f4\u65b0\u200b\u4e3a\u200b\"2009-10-10\"\nUPDATE Product SET regist_date = '2009-20-20';\n\n-- \u200b\u6307\u5b9a\u200b\u6761\u4ef6\u200b\u7684\u200bUPDATE\u200b\u8bed\u53e5\u200b(\u200b\u641c\u7d22\u200b\u6027\u200bUPDATE)\n-- \u200b\u66f4\u65b0\u200b\u90e8\u5206\u200b\u6570\u636e\u200b\u884c\u200b\u7684\u200b\u641c\u7d22\u200b\u578b\u200bUPDATE\nUPDATE &lt;\u200b\u8868\u540d\u200b&gt; SET &lt;\u200b\u5217\u540d\u200b&gt; = &lt;\u200b\u8868\u8fbe\u5f0f\u200b&gt; WHERE &lt;\u200b\u6761\u4ef6\u200b&gt;;\n\n-- \u200b\u5c06\u200b\u5546\u54c1\u79cd\u7c7b\u200b\u4e3a\u200b\u53a8\u623f\u7528\u5177\u200b\u7684\u200b\u8bb0\u5f55\u200b\u7684\u200b\u9500\u552e\u200b\u5355\u4ef7\u200b\u66f4\u65b0\u200b\u4e3a\u200b\u539f\u6765\u200b\u7684\u200b10\u200b\u500d\u200b\nUPDATE Product SET sale_price = sale_price * 10 WHERE product_type = '\u200b\u53a8\u623f\u200b';\n\n-- \u200b\u4f7f\u7528\u200bNULL\u200b\u8fdb\u884c\u200b\u66f4\u65b0\u200b\nUPDATE Product SET regist_date = NULL WHERE product_id = '0008';\n\n-- \u200b\u591a\u5217\u200b\u7684\u200b\u66f4\u65b0\u200b\nUPDATE Product SET sale_price = sale_price * 10, purchase_price = purchase_price / 2 WHERE product_type = '\u200b\u53a8\u623f\u7528\u5177\u200b';\n-- \u200b\u5c06\u200b\u4e0a\u8ff0\u200b\u8bed\u53e5\u200b\u7684\u200b\u5904\u7406\u200b\u5408\u5e76\u200b\u4e3a\u200b\u4e00\u6761\u200bUPDATE\u200b\u8bed\u53e5\u200b, \u200b\u5c06\u200b\u7528\u200b()\u200b\u62ec\u200b\u8d77\u6765\u200b\u7684\u200b\u5f62\u5f0f\u200b\nUPDATE Product SET (sale_price, purchase_price) = (sale_price * 10, purchase_price / 2) WHERE product_type = '\u200b\u53a8\u623f\u7528\u5177\u200b';\n\n-- \u200b\u4e8b\u52a1\u200b\n/*\u200b\u5728\u200b\u6807\u51c6\u200b SQL \u200b\u4e2d\u200b\n\u200b\u5e76\u200b\u6ca1\u6709\u200b\u5b9a\u4e49\u200b\u4e8b\u52a1\u200b\u7684\u200b\u5f00\u59cb\u200b\u8bed\u53e5\u200b\uff0c\u200b\u800c\u662f\u200b\u7531\u200b\u5404\u4e2a\u200b DBMS \u200b\u81ea\u5df1\u200b\u6765\u200b\u5b9a\u4e49\u200b\u7684\u200b\u3002\n\u25cf SQL\u2003Server\u3001PostgreSQL\nBEGIN TRANSACTION\n\u25cf MySQL\nSTART TRANSACTION\n\u25cf Oracle\u3001DB2\n\u200b\u65e0\u200b\n\n\u25a0 COMMIT\u2014\u2014\u200b\u63d0\u4ea4\u200b\u5904\u7406\u200b\nCOMMIT \u200b\u662f\u200b\u63d0\u4ea4\u200b\u4e8b\u52a1\u200b\u5305\u542b\u200b\u7684\u200b\u5168\u90e8\u200b\u66f4\u65b0\u200b\u5904\u7406\u200b\u7684\u200b\u7ed3\u675f\u200b\u6307\u4ee4\u200b\uff08\u200b\u56fe\u200b 4-3\uff09\uff0c\u200b\u76f8\u5f53\u200b\n\u200b\u4e8e\u200b\u6587\u4ef6\u200b\u5904\u7406\u200b\u4e2d\u200b\u7684\u200b\u8986\u76d6\u200b\u4fdd\u5b58\u200b\u3002\u200b\u4e00\u65e6\u200b\u63d0\u4ea4\u200b\uff0c\u200b\u5c31\u200b\u65e0\u6cd5\u200b\u6062\u590d\u200b\u5230\u200b\u4e8b\u52a1\u200b\u5f00\u59cb\u200b\u524d\u200b\u7684\u200b\u72b6\u6001\u200b\u4e86\u200b\u3002\n\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u63d0\u4ea4\u200b\u4e4b\u524d\u200b\u4e00\u5b9a\u200b\u8981\u200b\u786e\u8ba4\u200b\u662f\u5426\u200b\u771f\u7684\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u8fd9\u4e9b\u200b\u66f4\u65b0\u200b\u3002\n\n\u200b\u4e07\u4e00\u200b\u7531\u4e8e\u200b\u8bef\u64cd\u4f5c\u200b\u63d0\u4ea4\u200b\u4e86\u200b\u5305\u542b\u200b\u9519\u8bef\u200b\u66f4\u65b0\u200b\u7684\u200b\u4e8b\u52a1\u200b\uff0c\u200b\u5c31\u200b\u53ea\u80fd\u200b\u56de\u5230\u200b\u91cd\u65b0\u200b\u5efa\u8868\u200b\u3001\n\u200b\u91cd\u65b0\u200b\u63d2\u5165\u200b\u6570\u636e\u200b\u8fd9\u6837\u200b\u7e41\u7410\u200b\u7684\u200b\u8001\u200b\u8def\u4e0a\u200b\u4e86\u200b\u3002\u200b\u7531\u4e8e\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u9020\u6210\u200b\u6570\u636e\u200b\u65e0\u6cd5\u200b\u6062\u590d\u200b\u7684\u200b\u540e\u200b\n\u200b\u679c\u200b\uff0c\u200b\u8bf7\u200b\u5927\u5bb6\u200b\u4e00\u5b9a\u200b\u8981\u200b\u6ce8\u610f\u200b\uff08\u200b\u7279\u522b\u200b\u662f\u200b\u5728\u200b\u6267\u884c\u200b DELETE \u200b\u8bed\u53e5\u200b\u7684\u200b COMMIT \u200b\u65f6\u200b\u5c24\u5176\u200b\n\u200b\u8981\u200b\u5c0f\u5fc3\u200b\uff09\n\n*\u200b\u867d\u7136\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u6e05\u695a\u200b\u4e8b\u52a1\u200b\u5f00\u59cb\u200b\u7684\u200b\u65f6\u95f4\u200b\u70b9\u200b\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u4e8b\u52a1\u200b\u7ed3\u675f\u200b\u65f6\u200b\u4e00\u5b9a\u200b\u8981\u200b\u4ed4\u7ec6\u200b\u8fdb\u884c\u200b\u786e\u8ba4\u200b\u3002\n\n\u25a0 ROLLBACK\u2014\u2014\u200b\u53d6\u6d88\u200b\u5904\u7406\u200b\nROLLBACK \u200b\u662f\u200b\u53d6\u6d88\u200b\u4e8b\u52a1\u200b\u5305\u542b\u200b\u7684\u200b\u5168\u90e8\u200b\u66f4\u65b0\u200b\u5904\u7406\u200b\u7684\u200b\u7ed3\u675f\u200b\u6307\u4ee4\u200b\uff08\u200b\u56fe\u200b 4-4\uff09\uff0c\n\u200b\u76f8\u5f53\u4e8e\u200b\u6587\u4ef6\u200b\u5904\u7406\u200b\u4e2d\u200b\u7684\u200b\u653e\u5f03\u200b\u4fdd\u5b58\u200b\u3002\u200b\u4e00\u65e6\u200b\u56de\u6eda\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u5c31\u200b\u4f1a\u200b\u6062\u590d\u200b\u5230\u200b\u4e8b\u52a1\u200b\u5f00\u59cb\u200b\u4e4b\u200b\n\u200b\u524d\u200b\u7684\u200b\u72b6\u6001\u200b\uff08\u200b\u4ee3\u7801\u200b\u6e05\u5355\u200b 4-22\uff09\u3002\u200b\u901a\u5e38\u200b\u56de\u6eda\u200b\u5e76\u200b\u4e0d\u4f1a\u200b\u50cf\u200b\u63d0\u4ea4\u200b\u90a3\u6837\u200b\u9020\u6210\u200b\u5927\u89c4\u6a21\u200b\u7684\u200b\u6570\u200b\n\u200b\u636e\u200b\u635f\u5931\u200b\n\n\u200b\u4e8b\u52a1\u5904\u7406\u200b\u4f55\u65f6\u200b\u5f00\u59cb\u200b\n\u200b\u4e4b\u524d\u200b\u6211\u4eec\u200b\u8bf4\u200b\u8fc7\u200b\uff0c\u200b\u4e8b\u52a1\u200b\u5e76\u200b\u6ca1\u6709\u200b\u6807\u51c6\u200b\u7684\u200b\u5f00\u59cb\u200b\u6307\u4ee4\u200b\u5b58\u5728\u200b\uff0c\u200b\u800c\u662f\u200b\u6839\u636e\u200b DBMS \u200b\u7684\u200b\u4e0d\u540c\u200b\u800c\u200b\n\u200b\u4e0d\u540c\u200b\u3002\n\u200b\u5b9e\u9645\u4e0a\u200b\uff0c\u200b\u51e0\u4e4e\u200b\u6240\u6709\u200b\u7684\u200b\u6570\u636e\u5e93\u200b\u4ea7\u54c1\u200b\u7684\u200b\u4e8b\u52a1\u200b\u90fd\u200b\u65e0\u9700\u200b\u5f00\u59cb\u200b\u6307\u4ee4\u200b\u3002\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u5927\u90e8\u5206\u200b\u60c5\u51b5\u200b\n\u200b\u4e0b\u200b\uff0c\u200b\u4e8b\u52a1\u200b\u5728\u200b\u6570\u636e\u5e93\u200b\u8fde\u63a5\u200b\u5efa\u7acb\u200b\u65f6\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u6084\u6084\u200b\u5f00\u59cb\u200b\u4e86\u200b\uff0c\u200b\u5e76\u4e0d\u9700\u8981\u200b\u7528\u6237\u200b\u518d\u200b\u660e\u786e\u200b\u53d1\u51fa\u200b\u5f00\u59cb\u200b\u6307\u200b\n\u200b\u4ee4\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4f7f\u7528\u200b Oracle \u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u8fde\u63a5\u200b\u5efa\u7acb\u200b\u4e4b\u540e\u200b\uff0c\u200b\u7b2c\u4e00\u6761\u200b SQL \u200b\u8bed\u53e5\u200b\u6267\u884c\u200b\u7684\u200b\u540c\u65f6\u200b\uff0c\n\u200b\u4e8b\u52a1\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u6084\u6084\u200b\u5f00\u59cb\u200b\u4e86\u200b\u3002\n\u200b\u50cf\u200b\u8fd9\u6837\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u6307\u4ee4\u200b\u800c\u200b\u6084\u6084\u200b\u5f00\u59cb\u200b\u4e8b\u52a1\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5e94\u8be5\u200b\u5982\u4f55\u200b\u533a\u5206\u200b\u5404\u4e2a\u200b\u4e8b\u52a1\u200b\u5462\u200b\uff1f\u200b\u901a\u5e38\u200b\n\u200b\u4f1a\u200b\u6709\u200b\u5982\u4e0b\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\u3002\nA \u200b\u6bcf\u6761\u200bSQL\u200b\u8bed\u53e5\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\uff08 \u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b\u6a21\u5f0f\u200b\uff09\nB \u200b\u76f4\u5230\u200b\u7528\u6237\u200b\u6267\u884c\u200bCOMMIT\u200b\u6216\u8005\u200bROLLBACK\u200b\u4e3a\u6b62\u200b\u7b97\u4f5c\u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\n\u200b\u901a\u5e38\u200b\u7684\u200b DBMS \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u5176\u4e2d\u200b\u4efb\u610f\u200b\u4e00\u79cd\u200b\u6a21\u5f0f\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b\u6a21\u5f0f\u200b\u7684\u200b\nDBMS \u200b\u6709\u200b SQL Server\u3001 PostgreSQL \u200b\u548c\u200b MySQL \u200b\u7b49\u200b A\u3002\u200b\u8be5\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u7684\u200b DML \u200b\u8bed\u53e5\u200b\u5982\u4e0b\u200b\n\u200b\u6240\u793a\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u6761\u200b\u8bed\u53e5\u200b\u90fd\u62ec\u200b\u5728\u200b\u4e8b\u52a1\u200b\u7684\u200b\u5f00\u59cb\u200b\u8bed\u53e5\u200b\u548c\u200b\u7ed3\u675f\u200b\u8bed\u53e5\u200b\u4e4b\u4e2d\u200b\u3002\n\n\u200b\u901a\u5e38\u200b\u7684\u200b DBMS \u200b\u90fd\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u5176\u4e2d\u200b\u4efb\u610f\u200b\u4e00\u79cd\u200b\u6a21\u5f0f\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b\u6a21\u5f0f\u200b\u7684\u200b\nDBMS \u200b\u6709\u200b SQL Server\u3001 PostgreSQL \u200b\u548c\u200b MySQL \u200b\u7b49\u200b A\u3002\u200b\u8be5\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u7684\u200b DML \u200b\u8bed\u53e5\u200b\u5982\u4e0b\u200b\n\u200b\u6240\u793a\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u6761\u200b\u8bed\u53e5\u200b\u90fd\u62ec\u200b\u5728\u200b\u4e8b\u52a1\u200b\u7684\u200b\u5f00\u59cb\u200b\u8bed\u53e5\u200b\u548c\u200b\u7ed3\u675f\u200b\u8bed\u53e5\u200b\u4e4b\u4e2d\u200b\u3002\n\n\u200b\u5728\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b B \u200b\u6a21\u5f0f\u200b\u7684\u200b Oracle \u200b\u4e2d\u200b\uff0c\u200b\u4e8b\u52a1\u200b\u90fd\u200b\u662f\u200b\u76f4\u5230\u200b\u7528\u6237\u200b\u81ea\u5df1\u200b\u6267\u884c\u200b\u63d0\u4ea4\u200b\u6216\u8005\u200b\u56de\u6eda\u200b\u6307\u200b\n\u200b\u4ee4\u624d\u200b\u4f1a\u200b\u7ed3\u675f\u200b\u3002\n\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b\u7684\u200b\u60c5\u51b5\u200b\u9700\u8981\u200b\u7279\u522b\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b DELETE \u200b\u8bed\u53e5\u200b\u3002\u200b\u5982\u679c\u200b\u4e0d\u662f\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b\uff0c\u200b\u5373\u4f7f\u200b\n\u200b\u4f7f\u7528\u200b DELETE \u200b\u8bed\u53e5\u200b\u5220\u9664\u200b\u4e86\u200b\u6570\u636e\u8868\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b ROLLBACK \u200b\u547d\u4ee4\u200b\u53d6\u6d88\u200b\u8be5\u200b\u4e8b\u52a1\u200b\u7684\u200b\u5904\u200b\n\u200b\u7406\u200b\uff0c\u200b\u6062\u590d\u200b\u8868\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u4f46\u200b\u8fd9\u200b\u4ec5\u9650\u4e8e\u200b\u660e\u793a\u200b\u5f00\u59cb\u200b\u4e8b\u52a1\u200b\uff0c\u200b\u6216\u8005\u200b\u5173\u95ed\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002\u200b\u5982\u679c\u200b\n\u200b\u4e0d\u200b\u5c0f\u5fc3\u200b\u5728\u200b\u81ea\u52a8\u200b\u63d0\u4ea4\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u6267\u884c\u200b\u4e86\u200b DELETE \u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5373\u4f7f\u200b\u518d\u200b\u56de\u6eda\u200b\u4e5f\u200b\u65e0\u6d4e\u4e8e\u4e8b\u200b\u4e86\u200b\u3002\u200b\u8fd9\u662f\u200b\n\u200b\u4e00\u4e2a\u200b\u5f88\u200b\u4e25\u91cd\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u521d\u5b66\u8005\u200b\u96be\u514d\u4f1a\u200b\u78b0\u5230\u200b\u8fd9\u6837\u200b\u7684\u200b\u9ebb\u70e6\u200b\u3002\u200b\u4e00\u65e6\u200b\u8bef\u5220\u200b\u4e86\u200b\u6570\u636e\u200b\uff0c\u200b\u5982\u679c\u200b\u65e0\u6cd5\u200b\u91cd\u200b\n\u200b\u65b0\u200b\u63d2\u5165\u200b\uff0c\u200b\u662f\u4e0d\u662f\u200b\u60f3\u200b\u54ed\u200b\u7684\u200b\u5fc3\u200b\u90fd\u200b\u6709\u200b\u4e86\u200b\uff1f\u200b\u6240\u4ee5\u200b\u4e00\u5b9a\u200b\u8981\u200b\u7279\u522b\u200b\u5c0f\u5fc3\u200b\u3002\n\n*\u200b\u6ce8\u610f\u200b \u200b\u4f8b\u5982\u200b\uff0cPostgreSQL \u200b\u7684\u200b\u7528\u6237\u624b\u518c\u200b\u4e2d\u200b\n\u200b\u6709\u200b\u5982\u4e0b\u200b\u8bb0\u8ff0\u200b \uff1a\u201cPostgreSQL \u200b\u4e2d\u200b\u6240\u6709\u200b\n\u200b\u7684\u200b SQL \u200b\u6307\u4ee4\u200b\u8bed\u53e5\u200b\u90fd\u200b\u5728\u200b\u4e8b\u52a1\u200b\u5185\u200b\u6267\u884c\u200b\u3002\n\u200b\u5373\u4f7f\u200b\u4e0d\u200b\u6267\u884c\u200bBEGIN\uff0c\u200b\u8fd9\u4e9b\u200b\u547d\u4ee4\u200b\u8bed\u200b\n\u200b\u53e5\u200b \u200b\u4e5f\u200b \u200b\u4f1a\u200b \u200b\u5728\u200b \u200b\u6267\u200b \u200b\u884c\u200b \u200b\u65f6\u200b \u200b\u6084\u200b \u200b\u6084\u200b \u200b\u88ab\u200b \u200b\u62ec\u200b \u200b\u5728\u200b\nBEGIN\u200b\u548c\u200bCOMMIT\uff08\u200b\u5982\u679c\u200b\u6210\u529f\u200b\n\u200b\u7684\u8bdd\u200b\uff09\u200b\u4e4b\u95f4\u200b\u3002\u201d\uff08\u300aPostgreSQL 9.5.2\n\u200b\u6587\u6863\u200b\u300b\u201c3-4 \u200b\u8282\u200b \u200b\u4e8b\u52a1\u200b\u201d\uff09\n\n/*\n</code></pre>"}]}