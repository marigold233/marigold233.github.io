
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.11">
    
    
      
        <title>我的Linux命令帮助手册 - 我的文档站</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/lxgwwenkaiscreen.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#top" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="我的文档站" class="md-header__button md-logo" aria-label="我的文档站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            我的文档站
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              我的Linux命令帮助手册
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  主页

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  Linux

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Win/%E6%88%91%E7%9A%84Win%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/" class="md-tabs__link">
          
  
    
  
  Win

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mkdocs/mkdocs%E5%8F%82%E8%80%83%E7%AB%99/" class="md-tabs__link">
          
  
    
  
  mkdocs

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="我的文档站" class="md-nav__button md-logo" aria-label="我的文档站" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    我的文档站
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    我的Linux命令帮助手册
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    我的Linux命令帮助手册
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#top" class="md-nav__link">
    <span class="md-ellipsis">
      top
    </span>
  </a>
  
    <nav class="md-nav" aria-label="top">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu" class="md-nav__link">
    <span class="md-ellipsis">
      实时降序CPU或内存占用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      参考
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ps" class="md-nav__link">
    <span class="md-ellipsis">
      ps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_1" class="md-nav__link">
    <span class="md-ellipsis">
      查看占用CPU最多的进程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      查看占用内存最多的进程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      过滤指定程序导致标题遗漏问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpumem" class="md-nav__link">
    <span class="md-ellipsis">
      查看指定进程的CPU&amp;MEM使用率
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pidstat" class="md-nav__link">
    <span class="md-ellipsis">
      pidstat
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pidstat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_2" class="md-nav__link">
    <span class="md-ellipsis">
      查看指定进程CPU内存占用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    <span class="md-ellipsis">
      查看指定进程IO占用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#systemd" class="md-nav__link">
    <span class="md-ellipsis">
      systemd相关命令
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dasel" class="md-nav__link">
    <span class="md-ellipsis">
      dasel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dasel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      参考
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iptables" class="md-nav__link">
    <span class="md-ellipsis">
      iptables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="iptables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      防火墙规则
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgrep" class="md-nav__link">
    <span class="md-ellipsis">
      pgrep
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pgrep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#grephelp" class="md-nav__link">
    <span class="md-ellipsis">
      grep过滤命令help参数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yum-config-manager" class="md-nav__link">
    <span class="md-ellipsis">
      yum-config-manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coda" class="md-nav__link">
    <span class="md-ellipsis">
      coda
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#last" class="md-nav__link">
    <span class="md-ellipsis">
      last
    </span>
  </a>
  
    <nav class="md-nav" aria-label="last">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      重启服务器的时间
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nc" class="md-nav__link">
    <span class="md-ellipsis">
      nc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numfmt" class="md-nav__link">
    <span class="md-ellipsis">
      numfmt
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shuf" class="md-nav__link">
    <span class="md-ellipsis">
      shuf
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pmap" class="md-nav__link">
    <span class="md-ellipsis">
      pmap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk" class="md-nav__link">
    <span class="md-ellipsis">
      awk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="awk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      使用正则进行分组
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tar" class="md-nav__link">
    <span class="md-ellipsis">
      tar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      通过标准输入进行打包
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
    <nav class="md-nav" aria-label="curl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      学习资料
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#https" class="md-nav__link">
    <span class="md-ellipsis">
      忽略https证书和进行密码认证
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rescurl" class="md-nav__link">
    <span class="md-ellipsis">
      将res结果作为另外一个curl的参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#curl-debug" class="md-nav__link">
    <span class="md-ellipsis">
      curl debug
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      随机生成密码
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx_2" class="md-nav__link">
    <span class="md-ellipsis">
      NGINX
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NGINX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx_3" class="md-nav__link">
    <span class="md-ellipsis">
      通过信号控制NGINX
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shc-shell" class="md-nav__link">
    <span class="md-ellipsis">
      shc 加密shell脚本
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      docker-compose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strip" class="md-nav__link">
    <span class="md-ellipsis">
      strip — 丢弃对象文件中的符号和其他数据
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nmcli" class="md-nav__link">
    <span class="md-ellipsis">
      nmcli
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wget" class="md-nav__link">
    <span class="md-ellipsis">
      wget
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcregrep-pcre2grep" class="md-nav__link">
    <span class="md-ellipsis">
      pcregrep &amp; pcre2grep
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sudo" class="md-nav__link">
    <span class="md-ellipsis">
      sudo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#netstat" class="md-nav__link">
    <span class="md-ellipsis">
      netstat
    </span>
  </a>
  
    <nav class="md-nav" aria-label="netstat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      统计TCP连接状态
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ss" class="md-nav__link">
    <span class="md-ellipsis">
      ss
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lsof" class="md-nav__link">
    <span class="md-ellipsis">
      lsof
    </span>
  </a>
  
    <nav class="md-nav" aria-label="lsof">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      程序打开文件数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tail" class="md-nav__link">
    <span class="md-ellipsis">
      tail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tail-fio" class="md-nav__link">
    <span class="md-ellipsis">
      tail -f加管道命令后不能及时输出的问题（IO缓冲
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      其它
    </span>
  </a>
  
    <nav class="md-nav" aria-label="其它">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#procpidstatus" class="md-nav__link">
    <span class="md-ellipsis">
      /proc/pid/status 查看内存使用率
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shellstderrstdout" class="md-nav__link">
    <span class="md-ellipsis">
      shell将stderr输出到stdout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python3" class="md-nav__link">
    <span class="md-ellipsis">
      python3 开启文件服务器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      查看进程线程&amp;进程详细信息
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E8%B0%83%E6%95%B4Linux%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%95%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    调整Linux打开文件数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shell%E8%84%9A%E6%9C%AC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shell脚本
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Win
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Win
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Win/%E6%88%91%E7%9A%84Win%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9%E6%89%8B%E5%86%8C/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    我的Win命令帮助手册
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    mkdocs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            mkdocs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/mkdocs%E5%8F%82%E8%80%83%E7%AB%99/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mkdocs参考站
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#top" class="md-nav__link">
    <span class="md-ellipsis">
      top
    </span>
  </a>
  
    <nav class="md-nav" aria-label="top">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu" class="md-nav__link">
    <span class="md-ellipsis">
      实时降序CPU或内存占用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      参考
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ps" class="md-nav__link">
    <span class="md-ellipsis">
      ps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_1" class="md-nav__link">
    <span class="md-ellipsis">
      查看占用CPU最多的进程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      查看占用内存最多的进程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      过滤指定程序导致标题遗漏问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpumem" class="md-nav__link">
    <span class="md-ellipsis">
      查看指定进程的CPU&amp;MEM使用率
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pidstat" class="md-nav__link">
    <span class="md-ellipsis">
      pidstat
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pidstat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_2" class="md-nav__link">
    <span class="md-ellipsis">
      查看指定进程CPU内存占用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#io" class="md-nav__link">
    <span class="md-ellipsis">
      查看指定进程IO占用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#systemd" class="md-nav__link">
    <span class="md-ellipsis">
      systemd相关命令
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dasel" class="md-nav__link">
    <span class="md-ellipsis">
      dasel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dasel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      参考
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iptables" class="md-nav__link">
    <span class="md-ellipsis">
      iptables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="iptables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      防火墙规则
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgrep" class="md-nav__link">
    <span class="md-ellipsis">
      pgrep
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pgrep">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#grephelp" class="md-nav__link">
    <span class="md-ellipsis">
      grep过滤命令help参数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yum-config-manager" class="md-nav__link">
    <span class="md-ellipsis">
      yum-config-manager
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coda" class="md-nav__link">
    <span class="md-ellipsis">
      coda
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#last" class="md-nav__link">
    <span class="md-ellipsis">
      last
    </span>
  </a>
  
    <nav class="md-nav" aria-label="last">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      重启服务器的时间
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nc" class="md-nav__link">
    <span class="md-ellipsis">
      nc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numfmt" class="md-nav__link">
    <span class="md-ellipsis">
      numfmt
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shuf" class="md-nav__link">
    <span class="md-ellipsis">
      shuf
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pmap" class="md-nav__link">
    <span class="md-ellipsis">
      pmap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#awk" class="md-nav__link">
    <span class="md-ellipsis">
      awk
    </span>
  </a>
  
    <nav class="md-nav" aria-label="awk">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      使用正则进行分组
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tar" class="md-nav__link">
    <span class="md-ellipsis">
      tar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      通过标准输入进行打包
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
    <nav class="md-nav" aria-label="curl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      学习资料
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#https" class="md-nav__link">
    <span class="md-ellipsis">
      忽略https证书和进行密码认证
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rescurl" class="md-nav__link">
    <span class="md-ellipsis">
      将res结果作为另外一个curl的参数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#curl-debug" class="md-nav__link">
    <span class="md-ellipsis">
      curl debug
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      随机生成密码
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx_2" class="md-nav__link">
    <span class="md-ellipsis">
      NGINX
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NGINX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx_3" class="md-nav__link">
    <span class="md-ellipsis">
      通过信号控制NGINX
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shc-shell" class="md-nav__link">
    <span class="md-ellipsis">
      shc 加密shell脚本
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-compose" class="md-nav__link">
    <span class="md-ellipsis">
      docker-compose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strip" class="md-nav__link">
    <span class="md-ellipsis">
      strip — 丢弃对象文件中的符号和其他数据
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nmcli" class="md-nav__link">
    <span class="md-ellipsis">
      nmcli
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wget" class="md-nav__link">
    <span class="md-ellipsis">
      wget
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pcregrep-pcre2grep" class="md-nav__link">
    <span class="md-ellipsis">
      pcregrep &amp; pcre2grep
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sudo" class="md-nav__link">
    <span class="md-ellipsis">
      sudo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#netstat" class="md-nav__link">
    <span class="md-ellipsis">
      netstat
    </span>
  </a>
  
    <nav class="md-nav" aria-label="netstat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      统计TCP连接状态
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ss" class="md-nav__link">
    <span class="md-ellipsis">
      ss
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lsof" class="md-nav__link">
    <span class="md-ellipsis">
      lsof
    </span>
  </a>
  
    <nav class="md-nav" aria-label="lsof">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      程序打开文件数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tail" class="md-nav__link">
    <span class="md-ellipsis">
      tail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tail-fio" class="md-nav__link">
    <span class="md-ellipsis">
      tail -f加管道命令后不能及时输出的问题（IO缓冲
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      其它
    </span>
  </a>
  
    <nav class="md-nav" aria-label="其它">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#procpidstatus" class="md-nav__link">
    <span class="md-ellipsis">
      /proc/pid/status 查看内存使用率
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shellstderrstdout" class="md-nav__link">
    <span class="md-ellipsis">
      shell将stderr输出到stdout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python3" class="md-nav__link">
    <span class="md-ellipsis">
      python3 开启文件服务器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      查看进程线程&amp;进程详细信息
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>我的Linux命令帮助手册</h1>

<h2 id="top">top<a class="headerlink" href="#top" title="Permanent link">&para;</a></h2>
<h3 id="cpu">实时降序CPU或内存占用<a class="headerlink" href="#cpu" title="Permanent link">&para;</a></h3>
<blockquote>
<p>top命令：在终端中运行top命令，然后按下"Shift + M"键，按内存使用量进行排序。这将显示当前运行的所有进程按照内存使用量从高到低的列表。您可以查看RES（Resident Set Size）列，它表示进程实际占用的物理内存。
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>Shift<span class="w"> </span>+<span class="w"> </span>M<span class="w"> </span>按mem降序
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>Shift<span class="w"> </span>+<span class="w"> </span>C<span class="w"> </span>按CPU降序
</code></pre></div></td></tr></table></div></p>
</blockquote>
<p>显示内存、swap占用百分比并显示进度条
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>top<span class="w"> </span>按下然后按m
</code></pre></div></td></tr></table></div></p>
<p>显示cpu占用百分比并显示进度条
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>top<span class="w"> </span>按下然后按t
</code></pre></div></td></tr></table></div></p>
<h3 id="_1">参考<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<ul>
<li>https://qiita.com/Kernel_OGSun/items/55afb7e93b445f1be019</li>
</ul>
<h2 id="ps">ps<a class="headerlink" href="#ps" title="Permanent link">&para;</a></h2>
<h3 id="cpu_1">查看占用CPU最多的进程<a class="headerlink" href="#cpu_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>ps<span class="w"> </span>aux<span class="w"> </span>--sort<span class="o">=</span>-%cpu<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
</code></pre></div></td></tr></table></div>
<h3 id="_2">查看占用内存最多的进程<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>ps<span class="w"> </span>aux<span class="w"> </span>--sort<span class="o">=</span>-%mem<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>ps<span class="w"> </span>aux<span class="w"> </span>--sort<span class="w"> </span>-rss
</code></pre></div></td></tr></table></div>
<h3 id="_3">过滤指定程序导致标题遗漏问题<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>使用多重匹配，多匹配一次<code>PID</code>就可以解决</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>ps<span class="w"> </span>axw<span class="w"> </span>-o<span class="w"> </span>pid,ppid,user,%cpu,vsz,wchan,command<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span><span class="s1">&#39;(nginx|PID)&#39;</span>
</code></pre></div></td></tr></table></div>
<h3 id="cpumem">查看指定进程的CPU&amp;MEM使用率<a class="headerlink" href="#cpumem" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>ps<span class="w"> </span>-p<span class="w"> </span><span class="k">$(</span>pgrep<span class="w"> </span>-f<span class="w"> </span>nginx<span class="w"> </span>-o<span class="k">)</span><span class="w"> </span>-o<span class="w"> </span>pid,user,%cpu,%mem,cmd
</code></pre></div></td></tr></table></div>
<p>参考：
<a href="https://www.runoob.com/linux/linux-comm-ps.html">Linux ps 命令 | 菜鸟教程 (runoob.com)</a></p>
<h2 id="pidstat">pidstat<a class="headerlink" href="#pidstat" title="Permanent link">&para;</a></h2>
<h3 id="cpu_2">查看指定进程CPU内存占用<a class="headerlink" href="#cpu_2" title="Permanent link">&para;</a></h3>
<p><strong>可以优先使用ps</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>./pidstat<span class="w"> </span>-ru<span class="w"> </span>-p<span class="w"> </span><span class="k">$(</span>pgrep<span class="w"> </span>-o<span class="w"> </span>nginx<span class="k">)</span><span class="w"> </span>-h<span class="w"> </span>--human<span class="w"> </span><span class="m">1</span><span class="w"> </span>-l
</code></pre></div></td></tr></table></div>
<h3 id="io">查看指定进程IO占用<a class="headerlink" href="#io" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>./pidstat<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="k">$(</span>pgrep<span class="w"> </span>-o<span class="w"> </span>nginx<span class="k">)</span><span class="w"> </span>-h<span class="w"> </span>--human<span class="w"> </span><span class="m">1</span><span class="w"> </span>-l
</code></pre></div></td></tr></table></div>
<h2 id="systemd">systemd相关命令<a class="headerlink" href="#systemd" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="c1"># 列出正在运行的 Unit</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>$<span class="w"> </span>systemctl<span class="w"> </span>list-units
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="c1"># 重新加载一个服务的配置文件</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>reload<span class="w"> </span>apache.service
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="c1"># 重载所有修改过的配置文件</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a>$<span class="w"> </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="c1"># 显示某个 Unit 的所有底层参a数</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a>$<span class="w"> </span>systemctl<span class="w"> </span>show<span class="w"> </span>httpd.service
<a id="__codelineno-9-9" name="__codelineno-9-9"></a>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="c1"># 查看指定进程的日志</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span><span class="nv">_PID</span><span class="o">=</span><span class="m">1</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="c1"># 查看某个路径的脚本的日志</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>/usr/bin/bash
<a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="c1"># 查看指定用户的日志</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span><span class="nv">_UID</span><span class="o">=</span><span class="m">33</span><span class="w"> </span>--since<span class="w"> </span>today
<a id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="c1"># 查看某个 Unit 的日志</span>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>nginx.service
<a id="__codelineno-9-18" name="__codelineno-9-18"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>nginx.service<span class="w"> </span>--since<span class="w"> </span>today
<a id="__codelineno-9-19" name="__codelineno-9-19"></a><span class="c1"># 实时滚动显示某个 Unit 的最新日志</span>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a>$<span class="w"> </span>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>nginx.service<span class="w"> </span>-f
</code></pre></div></td></tr></table></div>
<h2 id="dasel">dasel<a class="headerlink" href="#dasel" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span>
<span class="normal"><a href="#__codelineno-10-6">6</a></span>
<span class="normal"><a href="#__codelineno-10-7">7</a></span>
<span class="normal"><a href="#__codelineno-10-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;{&quot;users&quot;: [{&quot;name&quot;: &quot;Tom&quot;}]}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>dasel<span class="w"> </span>put<span class="w"> </span>object<span class="w"> </span>-p<span class="w"> </span>json<span class="w"> </span>-t<span class="w"> </span>string<span class="w"> </span><span class="s1">&#39;.users.[]&#39;</span><span class="w"> </span><span class="nv">name</span><span class="o">=</span>Frank
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>./dasel_linux_amd64<span class="w"> </span>delete<span class="w"> </span>-f<span class="w">  </span>example.json<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;.(?:host=192.168.168.33)&#39;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a>./dasel_linux_amd64<span class="w"> </span>-n<span class="w"> </span>-f<span class="w">  </span>example.json<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;.(?:host=192.168.168.911)&#39;</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w"> </span>./dasel_linux_amd64<span class="w"> </span>-n<span class="w"> </span>-f<span class="w">  </span>example.json<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;[0].host&#39;</span><span class="w"> </span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w"> </span><span class="c1"># 将删除的内容输出到xxx.json，并不会删除源文件内容，如果不指定-o 则会在源文件上进行修改</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a>./dasel_linux_amd64<span class="w"> </span>delete<span class="w"> </span>-f<span class="w"> </span>example.json<span class="w"> </span><span class="s1">&#39;[0]&#39;</span><span class="w">  </span>-o<span class="w"> </span>xxx.json
</code></pre></div></td></tr></table></div>
<h3 id="_4">参考<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://github.com/TomWright/dasel#one-tool-to-rule-them-all">TomWright/dasel: Select, put and delete data from JSON, TOML, YAML, XML and CSV files with a single tool. Supports conversion between formats and can be used as a Go package. (github.com)</a></li>
<li>jq表达式在线验证<a href="https://jqplay.org/">jq play</a></li>
</ul>
<h2 id="iptables">iptables<a class="headerlink" href="#iptables" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span>
<span class="normal"><a href="#__codelineno-11-16">16</a></span>
<span class="normal"><a href="#__codelineno-11-17">17</a></span>
<span class="normal"><a href="#__codelineno-11-18">18</a></span>
<span class="normal"><a href="#__codelineno-11-19">19</a></span>
<span class="normal"><a href="#__codelineno-11-20">20</a></span>
<span class="normal"><a href="#__codelineno-11-21">21</a></span>
<span class="normal"><a href="#__codelineno-11-22">22</a></span>
<span class="normal"><a href="#__codelineno-11-23">23</a></span>
<span class="normal"><a href="#__codelineno-11-24">24</a></span>
<span class="normal"><a href="#__codelineno-11-25">25</a></span>
<span class="normal"><a href="#__codelineno-11-26">26</a></span>
<span class="normal"><a href="#__codelineno-11-27">27</a></span>
<span class="normal"><a href="#__codelineno-11-28">28</a></span>
<span class="normal"><a href="#__codelineno-11-29">29</a></span>
<span class="normal"><a href="#__codelineno-11-30">30</a></span>
<span class="normal"><a href="#__codelineno-11-31">31</a></span>
<span class="normal"><a href="#__codelineno-11-32">32</a></span>
<span class="normal"><a href="#__codelineno-11-33">33</a></span>
<span class="normal"><a href="#__codelineno-11-34">34</a></span>
<span class="normal"><a href="#__codelineno-11-35">35</a></span>
<span class="normal"><a href="#__codelineno-11-36">36</a></span>
<span class="normal"><a href="#__codelineno-11-37">37</a></span>
<span class="normal"><a href="#__codelineno-11-38">38</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="c1"># 清空自定义链、清空规则、清空规则计数器</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>iptables<span class="w"> </span>-X
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>iptables<span class="w"> </span>-F
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>iptables<span class="w"> </span>-Z
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="c1"># 指定多个端口</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-s<span class="w"> </span><span class="m">172</span>.16.0.0/16<span class="w"> </span>-d<span class="w"> </span><span class="m">172</span>.16.100.10<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-m<span class="w"> </span>multiport<span class="w"> </span>--dports<span class="w"> </span><span class="m">20</span>:22,80<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-11-8" name="__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-s<span class="w"> </span><span class="m">172</span>.16.0.0/16<span class="w"> </span>-d<span class="w"> </span><span class="m">172</span>.16.100.10<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-m<span class="w"> </span>multiport<span class="w"> </span>--dports<span class="w"> </span><span class="m">20</span>:22,80<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-11-11" name="__codelineno-11-11"></a>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="c1"># iprange扩展</span>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="c1"># [!] --src-range from[-to] 源IP地址范围</span>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="c1"># [!] --dst-range from[-to] 目标IP地址范围</span>
<a id="__codelineno-11-16" name="__codelineno-11-16"></a>iptabels<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-d<span class="w"> </span><span class="m">172</span>.16.1.100<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>--dport<span class="w"> </span><span class="m">80</span><span class="w"> </span>-m<span class="w"> </span>iprange<span class="w"> </span>--src-range<span class="w"> </span><span class="m">172</span>.16.1.5-192.16.1.10<span class="w"> </span>-j<span class="w"> </span>DROP
<a id="__codelineno-11-17" name="__codelineno-11-17"></a>
<a id="__codelineno-11-18" name="__codelineno-11-18"></a><span class="c1"># mac 扩展</span>
<a id="__codelineno-11-19" name="__codelineno-11-19"></a><span class="c1"># mac 模块可以指明源MAC地址,，适用于：PREROUTING, FORWARD，INPUT chains</span>
<a id="__codelineno-11-20" name="__codelineno-11-20"></a><span class="c1"># [!] --mac-source xx:xx:xx:xx:xx</span>
<a id="__codelineno-11-21" name="__codelineno-11-21"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-s<span class="w"> </span><span class="m">172</span>.16.0.100<span class="w"> </span>-m<span class="w"> </span>mac<span class="w"> </span>--mac-source<span class="w"> </span>
<a id="__codelineno-11-22" name="__codelineno-11-22"></a><span class="m">00</span>:50:56:12:34:56<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-11-23" name="__codelineno-11-23"></a>
<a id="__codelineno-11-24" name="__codelineno-11-24"></a>
<a id="__codelineno-11-25" name="__codelineno-11-25"></a><span class="c1"># 持久保存</span>
<a id="__codelineno-11-26" name="__codelineno-11-26"></a><span class="c1"># centos6:</span>
<a id="__codelineno-11-27" name="__codelineno-11-27"></a>service<span class="w"> </span>iptables<span class="w"> </span>save
<a id="__codelineno-11-28" name="__codelineno-11-28"></a><span class="c1"># centos7、8</span>
<a id="__codelineno-11-29" name="__codelineno-11-29"></a>iptables-save<span class="w"> </span>&gt;/PATH/TO/SOME_RULES_FILE
<a id="__codelineno-11-30" name="__codelineno-11-30"></a>
<a id="__codelineno-11-31" name="__codelineno-11-31"></a><span class="c1"># 加载规则 centos7：</span>
<a id="__codelineno-11-32" name="__codelineno-11-32"></a>iptables-restore<span class="w"> </span>&lt;<span class="w"> </span>/PATH/FROM/SOME_RULES_FILE
<a id="__codelineno-11-33" name="__codelineno-11-33"></a>-n,<span class="w"> </span>-noflush:<span class="w"> </span>不清除原有规则
<a id="__codelineno-11-34" name="__codelineno-11-34"></a>-t,<span class="w"> </span>-test:<span class="w"> </span>仅生成规则集，但不提交
<a id="__codelineno-11-35" name="__codelineno-11-35"></a>
<a id="__codelineno-11-36" name="__codelineno-11-36"></a><span class="c1"># centos6</span>
<a id="__codelineno-11-37" name="__codelineno-11-37"></a><span class="c1">#会自动从/etc/sysconfig/iptables 重新载入规则</span>
<a id="__codelineno-11-38" name="__codelineno-11-38"></a>service<span class="w">  </span>iptables<span class="w">  </span>restart
</code></pre></div></td></tr></table></div>
<h3 id="_5">防火墙规则<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<h4 id="nginx">内网nginx<a class="headerlink" href="#nginx" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="c1"># ssh 端口重要</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED<span class="w"> </span>--dport<span class="w"> </span><span class="m">5151</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="c1"># 服务相关</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="c1"># ng注意端口</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6100</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-12-7" name="__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="c1"># 其它规则</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>INVALID<span class="w"> </span>-j<span class="w"> </span>DROP
<a id="__codelineno-12-10" name="__codelineno-12-10"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-i<span class="w"> </span>lo<span class="w">  </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-12-11" name="__codelineno-12-11"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmp<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-12-12" name="__codelineno-12-12"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>iprange<span class="w"> </span>--src-range<span class="w"> </span><span class="m">192</span>.168.12.89-192.168.12.90<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-12-13" name="__codelineno-12-13"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="w"> </span>NEW<span class="w"> </span>-m<span class="w"> </span>tcp<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>--dport<span class="w"> </span><span class="m">10050</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-12-14" name="__codelineno-12-14"></a>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a><span class="c1"># END</span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>all<span class="w"> </span>-s<span class="w"> </span>any/0<span class="w"> </span>-j<span class="w"> </span>DROP
</code></pre></div></td></tr></table></div>
<h4 id="nginx_1">公网nginx<a class="headerlink" href="#nginx_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span>
<span class="normal"><a href="#__codelineno-13-16">16</a></span>
<span class="normal"><a href="#__codelineno-13-17">17</a></span>
<span class="normal"><a href="#__codelineno-13-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="c1"># ssh 端口重要</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED<span class="w"> </span>--dport<span class="w"> </span><span class="m">5151</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-13-3" name="__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="c1"># 服务相关，尽早匹配</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="c1"># ng注意端口</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w">  </span>-m<span class="w"> </span>state<span class="w"> </span><span class="nv">state</span><span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6000</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-13-8" name="__codelineno-13-8"></a>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="c1"># 其它规则</span>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>INVALID<span class="w"> </span>-j<span class="w"> </span>DROP
<a id="__codelineno-13-12" name="__codelineno-13-12"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-i<span class="w"> </span>lo<span class="w">  </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-13-13" name="__codelineno-13-13"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmp<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-13-14" name="__codelineno-13-14"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>iprange<span class="w"> </span>--src-range<span class="w"> </span><span class="m">192</span>.168.12.89-192.168.12.90<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-13-15" name="__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16"></a>
<a id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="c1"># END</span>
<a id="__codelineno-13-18" name="__codelineno-13-18"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>all<span class="w"> </span>-s<span class="w"> </span>any/0<span class="w"> </span>-j<span class="w"> </span>DROP
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="c1"># ssh 端口重要</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED<span class="w"> </span>--dport<span class="w"> </span><span class="m">5151</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="c1"># 服务相关，尽早匹配</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="c1"># 管理服务对ng放行</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.12.12/24<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span><span class="nv">state</span><span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6200</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-14-8" name="__codelineno-14-8"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.12.13/24<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span><span class="nv">state</span><span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6200</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-14-9" name="__codelineno-14-9"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.12.61/24<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span><span class="nv">state</span><span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6200</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-14-10" name="__codelineno-14-10"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.12.62/24<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span><span class="nv">state</span><span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6200</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-14-11" name="__codelineno-14-11"></a>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="c1"># 其它规则</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>INVALID<span class="w"> </span>-j<span class="w"> </span>DROP
<a id="__codelineno-14-16" name="__codelineno-14-16"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-i<span class="w"> </span>lo<span class="w">  </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-14-17" name="__codelineno-14-17"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmp<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-14-18" name="__codelineno-14-18"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>iprange<span class="w"> </span>--src-range<span class="w"> </span><span class="m">192</span>.168.12.89-192.168.12.90<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-14-19" name="__codelineno-14-19"></a>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="c1"># END</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>all<span class="w"> </span>-s<span class="w"> </span>any/0<span class="w"> </span>-j<span class="w"> </span>DROP
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-15-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-15-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-15-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-15-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-15-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-15-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-15-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-15-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-15-10">10</a></span>
<span class="normal"><a href="#__codelineno-15-11">11</a></span>
<span class="normal"><a href="#__codelineno-15-12">12</a></span>
<span class="normal"><a href="#__codelineno-15-13">13</a></span>
<span class="normal"><a href="#__codelineno-15-14">14</a></span>
<span class="normal"><a href="#__codelineno-15-15">15</a></span>
<span class="normal"><a href="#__codelineno-15-16">16</a></span>
<span class="normal"><a href="#__codelineno-15-17">17</a></span>
<span class="normal"><a href="#__codelineno-15-18">18</a></span>
<span class="normal"><a href="#__codelineno-15-19">19</a></span>
<span class="normal"><a href="#__codelineno-15-20">20</a></span>
<span class="normal"><a href="#__codelineno-15-21">21</a></span>
<span class="normal"><a href="#__codelineno-15-22">22</a></span>
<span class="normal"><a href="#__codelineno-15-23">23</a></span>
<span class="normal"><a href="#__codelineno-15-24">24</a></span>
<span class="normal"><a href="#__codelineno-15-25">25</a></span>
<span class="normal"><a href="#__codelineno-15-26">26</a></span>
<span class="normal"><a href="#__codelineno-15-27">27</a></span>
<span class="normal"><a href="#__codelineno-15-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a>sudo<span class="w"> </span>-i
<a id="__codelineno-15-2" name="__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a>systemctl<span class="w"> </span>stop<span class="w"> </span>firewalld
<a id="__codelineno-15-4" name="__codelineno-15-4"></a>systemctl<span class="w"> </span>disable<span class="w"> </span>firewalld
<a id="__codelineno-15-5" name="__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a>iptables<span class="w"> </span>-X
<a id="__codelineno-15-8" name="__codelineno-15-8"></a>iptables<span class="w"> </span>-F
<a id="__codelineno-15-9" name="__codelineno-15-9"></a>iptables<span class="w"> </span>-Z
<a id="__codelineno-15-10" name="__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11"></a>netstat<span class="w"> </span>-anpt<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ssh<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
<a id="__codelineno-15-12" name="__codelineno-15-12"></a>
<a id="__codelineno-15-13" name="__codelineno-15-13"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED<span class="w"> </span>--dport<span class="w"> </span><span class="m">5151</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-14" name="__codelineno-15-14"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.12.12<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6200</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-15" name="__codelineno-15-15"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.12.13<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6200</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-16" name="__codelineno-15-16"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.12.61<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6200</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-17" name="__codelineno-15-17"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>-s<span class="w"> </span><span class="m">192</span>.168.12.62<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>NEW,ESTABLISHED,RELATED<span class="w"> </span>--dport<span class="w"> </span><span class="m">6200</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-18" name="__codelineno-15-18"></a>
<a id="__codelineno-15-19" name="__codelineno-15-19"></a>
<a id="__codelineno-15-20" name="__codelineno-15-20"></a><span class="c1"># 其它规则</span>
<a id="__codelineno-15-21" name="__codelineno-15-21"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="o">=</span>INVALID<span class="w"> </span>-j<span class="w"> </span>DROP
<a id="__codelineno-15-22" name="__codelineno-15-22"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-i<span class="w"> </span>lo<span class="w">  </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-23" name="__codelineno-15-23"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-p<span class="w"> </span>icmp<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-24" name="__codelineno-15-24"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>iprange<span class="w"> </span>--src-range<span class="w"> </span><span class="m">192</span>.168.12.89-192.168.12.90<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-25" name="__codelineno-15-25"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>iprange<span class="w"> </span>--src-range<span class="w"> </span><span class="m">192</span>.168.12.14-192.168.12.17<span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-26" name="__codelineno-15-26"></a>iptables<span class="w"> </span>-A<span class="w"> </span>INPUT<span class="w"> </span>-m<span class="w"> </span>state<span class="w"> </span>--state<span class="w"> </span>NEW<span class="w"> </span>-m<span class="w"> </span>tcp<span class="w"> </span>-p<span class="w"> </span>tcp<span class="w"> </span>--dport<span class="w"> </span><span class="m">10050</span><span class="w"> </span>-j<span class="w"> </span>ACCEPT
<a id="__codelineno-15-27" name="__codelineno-15-27"></a>
<a id="__codelineno-15-28" name="__codelineno-15-28"></a><span class="c1">#iptables -A INPUT -p all -s any/0 -j DROP</span>
</code></pre></div></td></tr></table></div>
<h2 id="pgrep">pgrep<a class="headerlink" href="#pgrep" title="Permanent link">&para;</a></h2>
<h3 id="grephelp">grep过滤命令help参数<a class="headerlink" href="#grephelp" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a>pgrep<span class="w"> </span>--help1<span class="w"> </span><span class="p">|&amp;</span><span class="w"> </span>grep<span class="w"> </span>-wEc<span class="w"> </span>--<span class="w"> </span><span class="s1">&#39;-l|-f&#39;</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>pgrep<span class="w"> </span>--help1<span class="w"> </span><span class="p">|&amp;</span><span class="w"> </span>grep<span class="w"> </span>-wEc<span class="w"> </span>--<span class="w"> </span><span class="s1">&#39;-a|-f&#39;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a>pgrep<span class="w"> </span>--help1<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-wEc<span class="w"> </span>--<span class="w"> </span><span class="s1">&#39;-l|-f&#39;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a>pgrep<span class="w"> </span>--help1<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-wEc<span class="w"> </span>--<span class="w"> </span><span class="s1">&#39;-a|-f&#39;</span>
</code></pre></div></td></tr></table></div>
<h2 id="yum-config-manager">yum-config-manager<a class="headerlink" href="#yum-config-manager" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a>yum<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>yum-utils
</code></pre></div></td></tr></table></div>
<p>建议使用阿里云yum源：（推荐）</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a>yum-config-manager<span class="w"> </span>--add-repo<span class="w"> </span>https://download.docker.com/linux/centos/docker-ce.repo
<a id="__codelineno-18-2" name="__codelineno-18-2"></a>yum-config-manager<span class="w"> </span>--add-repo<span class="w"> </span>http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</code></pre></div></td></tr></table></div>
<h2 id="coda">coda<a class="headerlink" href="#coda" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span>
<span class="normal"><a href="#__codelineno-19-15">15</a></span>
<span class="normal"><a href="#__codelineno-19-16">16</a></span>
<span class="normal"><a href="#__codelineno-19-17">17</a></span>
<span class="normal"><a href="#__codelineno-19-18">18</a></span>
<span class="normal"><a href="#__codelineno-19-19">19</a></span>
<span class="normal"><a href="#__codelineno-19-20">20</a></span>
<span class="normal"><a href="#__codelineno-19-21">21</a></span>
<span class="normal"><a href="#__codelineno-19-22">22</a></span>
<span class="normal"><a href="#__codelineno-19-23">23</a></span>
<span class="normal"><a href="#__codelineno-19-24">24</a></span>
<span class="normal"><a href="#__codelineno-19-25">25</a></span>
<span class="normal"><a href="#__codelineno-19-26">26</a></span>
<span class="normal"><a href="#__codelineno-19-27">27</a></span>
<span class="normal"><a href="#__codelineno-19-28">28</a></span>
<span class="normal"><a href="#__codelineno-19-29">29</a></span>
<span class="normal"><a href="#__codelineno-19-30">30</a></span>
<span class="normal"><a href="#__codelineno-19-31">31</a></span>
<span class="normal"><a href="#__codelineno-19-32">32</a></span>
<span class="normal"><a href="#__codelineno-19-33">33</a></span>
<span class="normal"><a href="#__codelineno-19-34">34</a></span>
<span class="normal"><a href="#__codelineno-19-35">35</a></span>
<span class="normal"><a href="#__codelineno-19-36">36</a></span>
<span class="normal"><a href="#__codelineno-19-37">37</a></span>
<span class="normal"><a href="#__codelineno-19-38">38</a></span>
<span class="normal"><a href="#__codelineno-19-39">39</a></span>
<span class="normal"><a href="#__codelineno-19-40">40</a></span>
<span class="normal"><a href="#__codelineno-19-41">41</a></span>
<span class="normal"><a href="#__codelineno-19-42">42</a></span>
<span class="normal"><a href="#__codelineno-19-43">43</a></span>
<span class="normal"><a href="#__codelineno-19-44">44</a></span>
<span class="normal"><a href="#__codelineno-19-45">45</a></span>
<span class="normal"><a href="#__codelineno-19-46">46</a></span>
<span class="normal"><a href="#__codelineno-19-47">47</a></span>
<span class="normal"><a href="#__codelineno-19-48">48</a></span>
<span class="normal"><a href="#__codelineno-19-49">49</a></span>
<span class="normal"><a href="#__codelineno-19-50">50</a></span>
<span class="normal"><a href="#__codelineno-19-51">51</a></span>
<span class="normal"><a href="#__codelineno-19-52">52</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a># 查看conda版本，验证是否安装 
<a id="__codelineno-19-2" name="__codelineno-19-2"></a>conda -V 
<a id="__codelineno-19-3" name="__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a># 更新conda至最新版本
<a id="__codelineno-19-5" name="__codelineno-19-5"></a>conda update conda 
<a id="__codelineno-19-6" name="__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a># 更新所有包
<a id="__codelineno-19-8" name="__codelineno-19-8"></a>conda update --all 
<a id="__codelineno-19-9" name="__codelineno-19-9"></a>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a># 更新指定的包
<a id="__codelineno-19-11" name="__codelineno-19-11"></a>conda update package_name 
<a id="__codelineno-19-12" name="__codelineno-19-12"></a>
<a id="__codelineno-19-13" name="__codelineno-19-13"></a># 创建名为env_name的新环境，并在该环境下安装名为package_name 的包，
<a id="__codelineno-19-14" name="__codelineno-19-14"></a># 可以指定新环境的版本号，例如：conda create -n python3 python=python3.7 numpy pandas，
<a id="__codelineno-19-15" name="__codelineno-19-15"></a># 创建了python3环境，python版本为3.7，同时还安装了numpy pandas包
<a id="__codelineno-19-16" name="__codelineno-19-16"></a>conda create -n env_name package_name 
<a id="__codelineno-19-17" name="__codelineno-19-17"></a>
<a id="__codelineno-19-18" name="__codelineno-19-18"></a># 切换至env_name环境
<a id="__codelineno-19-19" name="__codelineno-19-19"></a>conda activate env_name 
<a id="__codelineno-19-20" name="__codelineno-19-20"></a>
<a id="__codelineno-19-21" name="__codelineno-19-21"></a>#退出环境
<a id="__codelineno-19-22" name="__codelineno-19-22"></a>conda deactivate 
<a id="__codelineno-19-23" name="__codelineno-19-23"></a>
<a id="__codelineno-19-24" name="__codelineno-19-24"></a># 显示所有已经创建的环境
<a id="__codelineno-19-25" name="__codelineno-19-25"></a>conda info -e  
<a id="__codelineno-19-26" name="__codelineno-19-26"></a># 或者使用 
<a id="__codelineno-19-27" name="__codelineno-19-27"></a>conda env list
<a id="__codelineno-19-28" name="__codelineno-19-28"></a>
<a id="__codelineno-19-29" name="__codelineno-19-29"></a># 复制old_env_name为new_env_name
<a id="__codelineno-19-30" name="__codelineno-19-30"></a>conda create --name new_env_name --clone old_env_name 
<a id="__codelineno-19-31" name="__codelineno-19-31"></a>
<a id="__codelineno-19-32" name="__codelineno-19-32"></a># 删除环境
<a id="__codelineno-19-33" name="__codelineno-19-33"></a>conda remove --name env_name --all 
<a id="__codelineno-19-34" name="__codelineno-19-34"></a>
<a id="__codelineno-19-35" name="__codelineno-19-35"></a># 查看所有已经安装的包
<a id="__codelineno-19-36" name="__codelineno-19-36"></a>conda list 
<a id="__codelineno-19-37" name="__codelineno-19-37"></a>
<a id="__codelineno-19-38" name="__codelineno-19-38"></a># 在当前环境中安装包
<a id="__codelineno-19-39" name="__codelineno-19-39"></a>conda install package_name 
<a id="__codelineno-19-40" name="__codelineno-19-40"></a>
<a id="__codelineno-19-41" name="__codelineno-19-41"></a># 在指定环境中安装包
<a id="__codelineno-19-42" name="__codelineno-19-42"></a>conda install --name env_name package_name 
<a id="__codelineno-19-43" name="__codelineno-19-43"></a>
<a id="__codelineno-19-44" name="__codelineno-19-44"></a># 删除指定环境中的包
<a id="__codelineno-19-45" name="__codelineno-19-45"></a>conda remove -- name env_name package 
<a id="__codelineno-19-46" name="__codelineno-19-46"></a>
<a id="__codelineno-19-47" name="__codelineno-19-47"></a># 采用上一步方法删除环境失败时，可采用这种方法
<a id="__codelineno-19-48" name="__codelineno-19-48"></a>conda env remove -n env_name 
<a id="__codelineno-19-49" name="__codelineno-19-49"></a>
<a id="__codelineno-19-50" name="__codelineno-19-50"></a>
<a id="__codelineno-19-51" name="__codelineno-19-51"></a># 删除当前环境中的包
<a id="__codelineno-19-52" name="__codelineno-19-52"></a>conda remove package 
</code></pre></div></td></tr></table></div>
<h2 id="last">last<a class="headerlink" href="#last" title="Permanent link">&para;</a></h2>
<h3 id="_6">重启服务器的时间<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a>last<span class="w"> </span>-x<span class="w"> </span>reboot
</code></pre></div></td></tr></table></div>
<h2 id="nc">nc<a class="headerlink" href="#nc" title="Permanent link">&para;</a></h2>
<p><a href="https://www.cnblogs.com/adhzl/p/11147708.html">Ubuntu 切换 netcat 为 traditional版以及使用方法 - adhzl - 博客园 (cnblogs.com)</a></p>
<h2 id="numfmt">numfmt<a class="headerlink" href="#numfmt" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span>
<span class="normal"><a href="#__codelineno-21-12">12</a></span>
<span class="normal"><a href="#__codelineno-21-13">13</a></span>
<span class="normal"><a href="#__codelineno-21-14">14</a></span>
<span class="normal"><a href="#__codelineno-21-15">15</a></span>
<span class="normal"><a href="#__codelineno-21-16">16</a></span>
<span class="normal"><a href="#__codelineno-21-17">17</a></span>
<span class="normal"><a href="#__codelineno-21-18">18</a></span>
<span class="normal"><a href="#__codelineno-21-19">19</a></span>
<span class="normal"><a href="#__codelineno-21-20">20</a></span>
<span class="normal"><a href="#__codelineno-21-21">21</a></span>
<span class="normal"><a href="#__codelineno-21-22">22</a></span>
<span class="normal"><a href="#__codelineno-21-23">23</a></span>
<span class="normal"><a href="#__codelineno-21-24">24</a></span>
<span class="normal"><a href="#__codelineno-21-25">25</a></span>
<span class="normal"><a href="#__codelineno-21-26">26</a></span>
<span class="normal"><a href="#__codelineno-21-27">27</a></span>
<span class="normal"><a href="#__codelineno-21-28">28</a></span>
<span class="normal"><a href="#__codelineno-21-29">29</a></span>
<span class="normal"><a href="#__codelineno-21-30">30</a></span>
<span class="normal"><a href="#__codelineno-21-31">31</a></span>
<span class="normal"><a href="#__codelineno-21-32">32</a></span>
<span class="normal"><a href="#__codelineno-21-33">33</a></span>
<span class="normal"><a href="#__codelineno-21-34">34</a></span>
<span class="normal"><a href="#__codelineno-21-35">35</a></span>
<span class="normal"><a href="#__codelineno-21-36">36</a></span>
<span class="normal"><a href="#__codelineno-21-37">37</a></span>
<span class="normal"><a href="#__codelineno-21-38">38</a></span>
<span class="normal"><a href="#__codelineno-21-39">39</a></span>
<span class="normal"><a href="#__codelineno-21-40">40</a></span>
<span class="normal"><a href="#__codelineno-21-41">41</a></span>
<span class="normal"><a href="#__codelineno-21-42">42</a></span>
<span class="normal"><a href="#__codelineno-21-43">43</a></span>
<span class="normal"><a href="#__codelineno-21-44">44</a></span>
<span class="normal"><a href="#__codelineno-21-45">45</a></span>
<span class="normal"><a href="#__codelineno-21-46">46</a></span>
<span class="normal"><a href="#__codelineno-21-47">47</a></span>
<span class="normal"><a href="#__codelineno-21-48">48</a></span>
<span class="normal"><a href="#__codelineno-21-49">49</a></span>
<span class="normal"><a href="#__codelineno-21-50">50</a></span>
<span class="normal"><a href="#__codelineno-21-51">51</a></span>
<span class="normal"><a href="#__codelineno-21-52">52</a></span>
<span class="normal"><a href="#__codelineno-21-53">53</a></span>
<span class="normal"><a href="#__codelineno-21-54">54</a></span>
<span class="normal"><a href="#__codelineno-21-55">55</a></span>
<span class="normal"><a href="#__codelineno-21-56">56</a></span>
<span class="normal"><a href="#__codelineno-21-57">57</a></span>
<span class="normal"><a href="#__codelineno-21-58">58</a></span>
<span class="normal"><a href="#__codelineno-21-59">59</a></span>
<span class="normal"><a href="#__codelineno-21-60">60</a></span>
<span class="normal"><a href="#__codelineno-21-61">61</a></span>
<span class="normal"><a href="#__codelineno-21-62">62</a></span>
<span class="normal"><a href="#__codelineno-21-63">63</a></span>
<span class="normal"><a href="#__codelineno-21-64">64</a></span>
<span class="normal"><a href="#__codelineno-21-65">65</a></span>
<span class="normal"><a href="#__codelineno-21-66">66</a></span>
<span class="normal"><a href="#__codelineno-21-67">67</a></span>
<span class="normal"><a href="#__codelineno-21-68">68</a></span>
<span class="normal"><a href="#__codelineno-21-69">69</a></span>
<span class="normal"><a href="#__codelineno-21-70">70</a></span>
<span class="normal"><a href="#__codelineno-21-71">71</a></span>
<span class="normal"><a href="#__codelineno-21-72">72</a></span>
<span class="normal"><a href="#__codelineno-21-73">73</a></span>
<span class="normal"><a href="#__codelineno-21-74">74</a></span>
<span class="normal"><a href="#__codelineno-21-75">75</a></span>
<span class="normal"><a href="#__codelineno-21-76">76</a></span>
<span class="normal"><a href="#__codelineno-21-77">77</a></span>
<span class="normal"><a href="#__codelineno-21-78">78</a></span>
<span class="normal"><a href="#__codelineno-21-79">79</a></span>
<span class="normal"><a href="#__codelineno-21-80">80</a></span>
<span class="normal"><a href="#__codelineno-21-81">81</a></span>
<span class="normal"><a href="#__codelineno-21-82">82</a></span>
<span class="normal"><a href="#__codelineno-21-83">83</a></span>
<span class="normal"><a href="#__codelineno-21-84">84</a></span>
<span class="normal"><a href="#__codelineno-21-85">85</a></span>
<span class="normal"><a href="#__codelineno-21-86">86</a></span>
<span class="normal"><a href="#__codelineno-21-87">87</a></span>
<span class="normal"><a href="#__codelineno-21-88">88</a></span>
<span class="normal"><a href="#__codelineno-21-89">89</a></span>
<span class="normal"><a href="#__codelineno-21-90">90</a></span>
<span class="normal"><a href="#__codelineno-21-91">91</a></span>
<span class="normal"><a href="#__codelineno-21-92">92</a></span>
<span class="normal"><a href="#__codelineno-21-93">93</a></span>
<span class="normal"><a href="#__codelineno-21-94">94</a></span>
<span class="normal"><a href="#__codelineno-21-95">95</a></span>
<span class="normal"><a href="#__codelineno-21-96">96</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a>yanghe@IkunOS:~/coreutils-9.3/src$<span class="w"> </span>./numfmt<span class="w"> </span>--help
<a id="__codelineno-21-2" name="__codelineno-21-2"></a>用法:<span class="w"> </span>./numfmt<span class="w"> </span><span class="o">[</span>选项<span class="o">]</span>...<span class="w"> </span><span class="o">[</span>数字<span class="o">]</span>...
<a id="__codelineno-21-3" name="__codelineno-21-3"></a>对<span class="w"> </span>&lt;数字&gt;<span class="w"> </span>进行重新格式化，如果未指定<span class="w"> </span>&lt;数字&gt;，则从标准输入读取数字。
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a>长选项的必选参数对于短选项也是必选的。
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="w">      </span>--debug<span class="w">          </span>对无效的输入内容打印警告信息
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="w">  </span>-d,<span class="w"> </span>--delimiter<span class="o">=</span>X<span class="w">    </span>使用<span class="w"> </span>X<span class="w"> </span>而不是空格作为字段分隔符
<a id="__codelineno-21-8" name="__codelineno-21-8"></a><span class="w">      </span>--field<span class="o">=</span>FIELDS<span class="w">   </span>replace<span class="w"> </span>the<span class="w"> </span>numbers<span class="w"> </span><span class="k">in</span><span class="w"> </span>these<span class="w"> </span>input<span class="w"> </span>fields<span class="w"> </span><span class="o">(</span><span class="nv">default</span><span class="o">=</span><span class="m">1</span><span class="o">)</span><span class="p">;</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="w">                         </span>see<span class="w"> </span>FIELDS<span class="w"> </span>below
<a id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="w">      </span>--format<span class="o">=</span>格式<span class="w">    </span>使用<span class="w"> </span><span class="nb">printf</span><span class="w"> </span>风格的浮点<span class="w"> </span>&lt;格式&gt;；
<a id="__codelineno-21-11" name="__codelineno-21-11"></a><span class="w">                         </span>参见下文<span class="w"> </span>&lt;格式&gt;<span class="w"> </span>部分以了解细节
<a id="__codelineno-21-12" name="__codelineno-21-12"></a><span class="w">      </span>--from<span class="o">=</span>单位<span class="w">      </span>使用<span class="w"> </span>&lt;单位&gt;<span class="w"> </span>对输入数字进行自动缩放；默认值为<span class="w"> </span><span class="s2">&quot;none&quot;</span>；
<a id="__codelineno-21-13" name="__codelineno-21-13"></a><span class="w">                         </span>参见下文<span class="w"> </span>&lt;单位&gt;<span class="w"> </span>部分
<a id="__codelineno-21-14" name="__codelineno-21-14"></a><span class="w">      </span>--from-unit<span class="o">=</span>N<span class="w">    </span>指定输入的单位大小（而非默认值<span class="w"> </span><span class="m">1</span>）
<a id="__codelineno-21-15" name="__codelineno-21-15"></a><span class="w">      </span>--grouping<span class="w">       </span>使用区域设置中定义的方法对数字进行分组，例如<span class="w"> </span><span class="m">1</span>,000,000
<a id="__codelineno-21-16" name="__codelineno-21-16"></a><span class="w">                         </span>（意味着该选项在<span class="w"> </span>C/POSIX<span class="w"> </span>区域设置下无效果）
<a id="__codelineno-21-17" name="__codelineno-21-17"></a><span class="w">      </span>--header<span class="o">[=</span>N<span class="o">]</span><span class="w">     </span>将前<span class="w"> </span>N<span class="w"> </span>行视为头部，原样输出（不进行转换）；
<a id="__codelineno-21-18" name="__codelineno-21-18"></a><span class="w">                         </span>如未指定<span class="w"> </span>N，默认值为<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-21-19" name="__codelineno-21-19"></a><span class="w">      </span>--invalid<span class="o">=</span>模式<span class="w">   </span>遇到无效数字时的处理模式：<span class="w"> </span>&lt;模式&gt;<span class="w"> </span>可以是：
<a id="__codelineno-21-20" name="__codelineno-21-20"></a><span class="w">                         </span>abort（默认）、fail、warn、ignore
<a id="__codelineno-21-21" name="__codelineno-21-21"></a><span class="w">      </span>--padding<span class="o">=</span>N<span class="w">      </span>将输出填充至<span class="w"> </span>N<span class="w"> </span>字符长度；若<span class="w"> </span>N<span class="w"> </span>值为正，则使用
<a id="__codelineno-21-22" name="__codelineno-21-22"></a><span class="w">                         </span>右对齐；若<span class="w"> </span>N<span class="w"> </span>值为负，则使用左对齐；
<a id="__codelineno-21-23" name="__codelineno-21-23"></a><span class="w">                         </span>若输出宽度大于<span class="w"> </span>N<span class="w"> </span>的绝对值，则不填充；
<a id="__codelineno-21-24" name="__codelineno-21-24"></a><span class="w">                         </span>默认行为是如果输入含有空格，则自动填充
<a id="__codelineno-21-25" name="__codelineno-21-25"></a><span class="w">      </span>--round<span class="o">=</span>方法<span class="w">     </span>缩放时使用指定<span class="w"> </span>&lt;方法&gt;<span class="w"> </span>进行舍入；&lt;方法&gt;<span class="w"> </span>可以是：
<a id="__codelineno-21-26" name="__codelineno-21-26"></a><span class="w">                         </span>up、down、from-zero（默认）、towards-zero、nearest
<a id="__codelineno-21-27" name="__codelineno-21-27"></a><span class="w">      </span>--suffix<span class="o">=</span>后缀<span class="w">    </span>将<span class="w"> </span>&lt;后缀&gt;<span class="w"> </span>添加到输出数字之后，并允许输入数字中
<a id="__codelineno-21-28" name="__codelineno-21-28"></a><span class="w">                         </span>含有该<span class="w"> </span>&lt;后缀&gt;
<a id="__codelineno-21-29" name="__codelineno-21-29"></a><span class="w">      </span>--to<span class="o">=</span>单位<span class="w">        </span>使用<span class="w"> </span>&lt;单位&gt;<span class="w"> </span>对输出数字进行自动缩放；参见下文<span class="w"> </span>&lt;单位&gt;<span class="w"> </span>部分
<a id="__codelineno-21-30" name="__codelineno-21-30"></a><span class="w">      </span>--to-unit<span class="o">=</span>N<span class="w">      </span>指定输出的单位大小（而非默认值<span class="w"> </span><span class="m">1</span>）
<a id="__codelineno-21-31" name="__codelineno-21-31"></a><span class="w">  </span>-z,<span class="w"> </span>--zero-terminated<span class="w">    </span>以<span class="w"> </span>NUL<span class="w"> </span>空字符而非换行符作为行分隔符
<a id="__codelineno-21-32" name="__codelineno-21-32"></a><span class="w">      </span>--help<span class="w">        </span>display<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
<a id="__codelineno-21-33" name="__codelineno-21-33"></a><span class="w">      </span>--version<span class="w">     </span>output<span class="w"> </span>version<span class="w"> </span>information<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
<a id="__codelineno-21-34" name="__codelineno-21-34"></a>
<a id="__codelineno-21-35" name="__codelineno-21-35"></a>&lt;单位&gt;<span class="w"> </span>选项：
<a id="__codelineno-21-36" name="__codelineno-21-36"></a><span class="w">  </span>none<span class="w">       </span>不进行自动缩放；带后缀会触发错误
<a id="__codelineno-21-37" name="__codelineno-21-37"></a><span class="w">  </span>auto<span class="w">       </span>接受可选的单字符或双字符后缀：
<a id="__codelineno-21-38" name="__codelineno-21-38"></a><span class="w">               </span><span class="nv">1K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span>,
<a id="__codelineno-21-39" name="__codelineno-21-39"></a><span class="w">               </span><span class="nv">1Ki</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1024</span>,
<a id="__codelineno-21-40" name="__codelineno-21-40"></a><span class="w">               </span><span class="nv">1M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000000</span>,
<a id="__codelineno-21-41" name="__codelineno-21-41"></a><span class="w">               </span><span class="nv">1Mi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1048576</span>,
<a id="__codelineno-21-42" name="__codelineno-21-42"></a><span class="w">  </span>si<span class="w">         </span>接受可选的单字符后缀：
<a id="__codelineno-21-43" name="__codelineno-21-43"></a><span class="w">               </span><span class="nv">1K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span>,
<a id="__codelineno-21-44" name="__codelineno-21-44"></a><span class="w">               </span><span class="nv">1M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000000</span>,
<a id="__codelineno-21-45" name="__codelineno-21-45"></a><span class="w">               </span>...
<a id="__codelineno-21-46" name="__codelineno-21-46"></a><span class="w">  </span>iec<span class="w">        </span>接受可选的单字符后缀：
<a id="__codelineno-21-47" name="__codelineno-21-47"></a><span class="w">               </span><span class="nv">1K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1024</span>,
<a id="__codelineno-21-48" name="__codelineno-21-48"></a><span class="w">               </span><span class="nv">1M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1048576</span>,
<a id="__codelineno-21-49" name="__codelineno-21-49"></a><span class="w">               </span>...
<a id="__codelineno-21-50" name="__codelineno-21-50"></a><span class="w">  </span>iec-i<span class="w">      </span>接受可选的双字符后缀：
<a id="__codelineno-21-51" name="__codelineno-21-51"></a><span class="w">               </span><span class="nv">1Ki</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1024</span>,
<a id="__codelineno-21-52" name="__codelineno-21-52"></a><span class="w">               </span><span class="nv">1Mi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1048576</span>,
<a id="__codelineno-21-53" name="__codelineno-21-53"></a><span class="w">               </span>...
<a id="__codelineno-21-54" name="__codelineno-21-54"></a>
<a id="__codelineno-21-55" name="__codelineno-21-55"></a>&lt;字段&gt;<span class="w"> </span>支持<span class="w"> </span>cut<span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span>风格的字段范围：
<a id="__codelineno-21-56" name="__codelineno-21-56"></a><span class="w">  </span>N<span class="w">    </span>第<span class="w"> </span>N<span class="w"> </span>个字段，从<span class="w"> </span><span class="m">1</span><span class="w"> </span>开始计数
<a id="__codelineno-21-57" name="__codelineno-21-57"></a><span class="w">  </span>N-<span class="w">   </span>从第<span class="w"> </span>N<span class="w"> </span>个字段开始，到行尾
<a id="__codelineno-21-58" name="__codelineno-21-58"></a><span class="w">  </span>N-M<span class="w">  </span>第<span class="w"> </span>N<span class="w"> </span>个到第<span class="w"> </span>M<span class="w"> </span>个字段（含第<span class="w"> </span>N<span class="w"> </span>个和第<span class="w"> </span>M<span class="w"> </span>个）
<a id="__codelineno-21-59" name="__codelineno-21-59"></a><span class="w">  </span>-M<span class="w">   </span>第<span class="w"> </span><span class="m">1</span><span class="w"> </span>个到第<span class="w"> </span>M<span class="w"> </span>个字段（含第<span class="w"> </span><span class="m">1</span><span class="w"> </span>个和第<span class="w"> </span>M<span class="w"> </span>个）
<a id="__codelineno-21-60" name="__codelineno-21-60"></a><span class="w">  </span>-<span class="w">    </span>所有字段
<a id="__codelineno-21-61" name="__codelineno-21-61"></a>多个字段或字段范围可以使用逗号分隔
<a id="__codelineno-21-62" name="__codelineno-21-62"></a>
<a id="__codelineno-21-63" name="__codelineno-21-63"></a>&lt;格式&gt;<span class="w"> </span>必须适合打印一个浮点参数<span class="w"> </span><span class="s2">&quot;%f&quot;</span>。
<a id="__codelineno-21-64" name="__codelineno-21-64"></a>可选的单引号<span class="w"> </span><span class="o">(</span>%<span class="s1">&#39;f) 将启用 --grouping（如果当前区域设置支持）。</span>
<a id="__codelineno-21-65" name="__codelineno-21-65"></a><span class="s1">可选的宽度值 (%10f) 会填充输出。可选的以 0 开头 (%010f) 的宽度</span>
<a id="__codelineno-21-66" name="__codelineno-21-66"></a><span class="s1">会使用 0 对数字进行填充。可选的负值 (%-10f) 会启用左对齐。</span>
<a id="__codelineno-21-67" name="__codelineno-21-67"></a><span class="s1">可选的精度 (%.1f) 会覆盖由输入所确定的精度。</span>
<a id="__codelineno-21-68" name="__codelineno-21-68"></a>
<a id="__codelineno-21-69" name="__codelineno-21-69"></a><span class="s1">如果所有输入数字均成功转换，退出状态值将为 0。</span>
<a id="__codelineno-21-70" name="__codelineno-21-70"></a><span class="s1">默认情况下，./numfmt 将会在第一个转换错误出现时停止并将退出状态设为 2。</span>
<a id="__codelineno-21-71" name="__codelineno-21-71"></a><span class="s1">如果使用了 --invalid=&#39;</span>fail<span class="s1">&#39;，程序每次遇到转换错误时都将输出警告，并在</span>
<a id="__codelineno-21-72" name="__codelineno-21-72"></a><span class="s1">最后将退出状态设为 2。如果使用了 --invalid=&#39;</span>warn<span class="s1">&#39;，程序每次遇到转换</span>
<a id="__codelineno-21-73" name="__codelineno-21-73"></a><span class="s1">错误时都输出诊断信息，但最后的退出状态将为 0。如果使用了</span>
<a id="__codelineno-21-74" name="__codelineno-21-74"></a><span class="s1">--invalid=&#39;</span>ignore<span class="s1">&#39;，程序在遇到转换错误时将不输出诊断信息，最后的</span>
<a id="__codelineno-21-75" name="__codelineno-21-75"></a><span class="s1">退出状态也将为 0。</span>
<a id="__codelineno-21-76" name="__codelineno-21-76"></a>
<a id="__codelineno-21-77" name="__codelineno-21-77"></a><span class="s1">示例：</span>
<a id="__codelineno-21-78" name="__codelineno-21-78"></a><span class="s1">  $ ./numfmt --to=si 1000</span>
<a id="__codelineno-21-79" name="__codelineno-21-79"></a><span class="s1">            -&gt; &quot;1.0K&quot;</span>
<a id="__codelineno-21-80" name="__codelineno-21-80"></a><span class="s1">  $ ./numfmt --to=iec 2048</span>
<a id="__codelineno-21-81" name="__codelineno-21-81"></a><span class="s1">           -&gt; &quot;2.0K&quot;</span>
<a id="__codelineno-21-82" name="__codelineno-21-82"></a><span class="s1">  $ ./numfmt --to=iec-i 4096</span>
<a id="__codelineno-21-83" name="__codelineno-21-83"></a><span class="s1">           -&gt; &quot;4.0Ki&quot;</span>
<a id="__codelineno-21-84" name="__codelineno-21-84"></a><span class="s1">  $ echo 1K | ./numfmt --from=si</span>
<a id="__codelineno-21-85" name="__codelineno-21-85"></a><span class="s1">           -&gt; &quot;1000&quot;</span>
<a id="__codelineno-21-86" name="__codelineno-21-86"></a><span class="s1">  $ echo 1K | ./numfmt --from=iec</span>
<a id="__codelineno-21-87" name="__codelineno-21-87"></a><span class="s1">           -&gt; &quot;1024&quot;</span>
<a id="__codelineno-21-88" name="__codelineno-21-88"></a><span class="s1">  $ df -B1 | ./numfmt --header --field 2-4 --to=si</span>
<a id="__codelineno-21-89" name="__codelineno-21-89"></a><span class="s1">  $ ls -l  | ./numfmt --header --field 5 --to=iec</span>
<a id="__codelineno-21-90" name="__codelineno-21-90"></a><span class="s1">  $ ls -lh | ./numfmt --header --field 5 --from=iec --padding=10</span>
<a id="__codelineno-21-91" name="__codelineno-21-91"></a><span class="s1">  $ ls -lh | ./numfmt --header --field 5 --from=iec --format %10f</span>
<a id="__codelineno-21-92" name="__codelineno-21-92"></a>
<a id="__codelineno-21-93" name="__codelineno-21-93"></a><span class="s1">GNU coreutils 在线帮助：&lt;https://www.gnu.org/software/coreutils/&gt;</span>
<a id="__codelineno-21-94" name="__codelineno-21-94"></a><span class="s1">请向 &lt;http://translationproject.org/team/zh_CN.html&gt; 报告任何翻译错误</span>
<a id="__codelineno-21-95" name="__codelineno-21-95"></a><span class="s1">完整文档 &lt;https://www.gnu.org/software/coreutils/numfmt&gt;</span>
<a id="__codelineno-21-96" name="__codelineno-21-96"></a><span class="s1">或者在本地使用：info &#39;</span><span class="o">(</span>coreutils<span class="o">)</span><span class="w"> </span>numfmt<span class="w"> </span>invocation<span class="err">&#39;</span>
</code></pre></div></td></tr></table></div>
<h2 id="shuf">shuf<a class="headerlink" href="#shuf" title="Permanent link">&para;</a></h2>
<p><strong>在使用<code>shuf</code>命令时，请注意，它可能无法处理非常大的文件，因为它会将整个文件加载到内存中进行处理。对于大型文件，您可能需要寻找其他工具或方法来进行随机化处理。</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-22-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-22-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-22-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-22-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-22-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-22-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-22-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-22-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-22-10">10</a></span>
<span class="normal"><a href="#__codelineno-22-11">11</a></span>
<span class="normal"><a href="#__codelineno-22-12">12</a></span>
<span class="normal"><a href="#__codelineno-22-13">13</a></span>
<span class="normal"><a href="#__codelineno-22-14">14</a></span>
<span class="normal"><a href="#__codelineno-22-15">15</a></span>
<span class="normal"><a href="#__codelineno-22-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a>shuf<span class="w"> </span>input.txt
<a id="__codelineno-22-2" name="__codelineno-22-2"></a>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="c1"># 覆盖</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a>shuf<span class="w"> </span>input.txt<span class="w"> </span>-o<span class="w"> </span>output.txt
<a id="__codelineno-22-5" name="__codelineno-22-5"></a>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="c1"># 随机抽取5行</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a>shuf<span class="w"> </span>-n<span class="w"> </span><span class="m">5</span><span class="w"> </span>input.txt
<a id="__codelineno-22-8" name="__codelineno-22-8"></a>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="c1"># 生成一个随机数</span>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a>shuf<span class="w"> </span>-i<span class="w"> </span><span class="m">1</span>-100<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="c1"># 从标准输入读取内容</span>
<a id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;line1\nline2\nline3&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>shuf
<a id="__codelineno-22-14" name="__codelineno-22-14"></a>
<a id="__codelineno-22-15" name="__codelineno-22-15"></a><span class="c1"># 生成指定范围小数</span>
<a id="__codelineno-22-16" name="__codelineno-22-16"></a><span class="nv">min</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="nv">max</span><span class="o">=</span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="nv">scale</span><span class="o">=</span><span class="m">100</span><span class="p">;</span><span class="w"> </span>shuf<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;</span><span class="k">$((</span><span class="nv">min</span><span class="o">*</span><span class="nv">scale</span><span class="k">))</span><span class="s2">-</span><span class="k">$((</span><span class="nv">max</span><span class="o">*</span><span class="nv">scale</span><span class="k">))</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;{ print $1 / 100 }&#39;</span>
</code></pre></div></td></tr></table></div>
<h2 id="pmap">pmap<a class="headerlink" href="#pmap" title="Permanent link">&para;</a></h2>
<p>~~writeable/private 好像是当前进程占用内存的总量，可能不对~~</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="o">(</span><span class="nv">name</span><span class="o">=</span>idreader<span class="p">;</span><span class="w"> </span>pmap<span class="w"> </span>-d<span class="w"> </span><span class="k">$(</span>pgrep<span class="w"> </span>-fn<span class="w"> </span><span class="nv">$name</span><span class="k">)</span><span class="o">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="awk">awk<a class="headerlink" href="#awk" title="Permanent link">&para;</a></h2>
<h3 id="_7">使用正则进行分组<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;Saturday\ntoday&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;match($1, /S(.*)?t(.*)y/, groups) { print groups[1]; print groups[2]; }&#39;</span>
</code></pre></div></td></tr></table></div>
<h2 id="tar">tar<a class="headerlink" href="#tar" title="Permanent link">&para;</a></h2>
<h3 id="_8">通过标准输入进行打包<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p><code>ls -f</code>替换find性能会提高很多</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a>find<span class="w"> </span><span class="nv">$max_dir</span><span class="w"> </span>-name<span class="w"> </span>*.json<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-<span class="nv">$file_num</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tar<span class="w"> </span>zcvf<span class="w"> </span><span class="nv">$tar_dir</span>/<span class="nv">$tar_name</span><span class="w"> </span>-T<span class="w"> </span>-<span class="w"> </span>--remove-file<span class="w"> </span>&gt;&gt;<span class="nv">$tar_dir</span>/tar.log
</code></pre></div></td></tr></table></div>
<h2 id="curl">curl<a class="headerlink" href="#curl" title="Permanent link">&para;</a></h2>
<h3 id="_9">学习资料<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p><a href="https://catonmat.net/cookbooks/curl">卷曲食谱 (catonmat.net)</a></p>
<h3 id="https">忽略https证书和进行密码认证<a class="headerlink" href="#https" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a>curl<span class="w"> </span>-k<span class="w"> </span>-u<span class="w"> </span>admin:123<span class="w"> </span>https://xxx
</code></pre></div></td></tr></table></div>
<h3 id="rescurl">将res结果作为另外一个curl的参数<a class="headerlink" href="#rescurl" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span>
<span class="normal"><a href="#__codelineno-27-6">6</a></span>
<span class="normal"><a href="#__codelineno-27-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a>curl<span class="w"> </span>-s<span class="w"> </span>--compressed<span class="w"> </span>--http2<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="w">        </span>-H<span class="w"> </span><span class="s2">&quot;Host:smp-api.iyouke.com&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="w">        </span>-H<span class="w"> </span><span class="s2">&quot;authorization:bearer5378fb9bd91687516570322&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="w">        </span>-H<span class="w"> </span><span class="s2">&quot;charset:utf-8&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="w">        </span>-H<span class="w"> </span><span class="s2">&quot;xy-extra-frame.html&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="w">        </span>-H<span class="w"> </span><span class="s2">&quot;accept:*/*&quot;</span><span class="w"> </span><span class="nv">$url</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="w">        </span>curl<span class="w"> </span>-s<span class="w"> </span>-u<span class="w"> </span>yanghe:8m.<span class="w"> </span>-d<span class="w"> </span>@-<span class="w"> </span>http://localhost:8081/moto
</code></pre></div></td></tr></table></div>
<h3 id="curl-debug">curl debug<a class="headerlink" href="#curl-debug" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="c1"># -vvv也行</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a>curl<span class="w"> </span>-s<span class="w"> </span>--trace<span class="w"> </span>-<span class="w"> </span>--dns-servers<span class="w"> </span><span class="m">1</span>.1.1.1<span class="w"> </span>https://www.baidu.com<span class="w"> </span>
</code></pre></div></td></tr></table></div>
<h2 id="_10">随机生成密码<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a>tr<span class="w"> </span>-dc<span class="w"> </span><span class="s1">&#39;A-Za-z0-9_!@#$%^&amp;*()-+=&#39;</span><span class="w"> </span>&lt;<span class="w"> </span>/dev/urandom<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-c<span class="w"> </span><span class="m">12</span>
</code></pre></div></td></tr></table></div>
<h2 id="nginx_2">NGINX<a class="headerlink" href="#nginx_2" title="Permanent link">&para;</a></h2>
<h3 id="nginx_3">通过信号控制NGINX<a class="headerlink" href="#nginx_3" title="Permanent link">&para;</a></h3>
<p>NGINX默认master进程pid文件在~~/usr/local/nginx/logs/nginx.pid~~，我的Mint在<code>/var/run/nginx.pid</code>
![[Snipaste_2023-07-12_14-17-01.png]]
主进程支持以下信号：</p>
<ul>
<li>TERM,INT ：快速关闭</li>
<li>QUIT： 优雅的关闭</li>
<li>HUP ：更改配置，使用新配置启动进程，关闭旧进程</li>
<li>USR1：重新打开日志文件</li>
<li>USR2：升级可执行文件</li>
<li>WINCH：优雅的关闭工作进程，单个工作进程也可以用信号控制，不是必须的</li>
<li>TERM, INT：快速关闭</li>
<li>QUIT：优雅的关闭</li>
<li>重新打开日志文件</li>
<li>WINCH：终止异常调试（需要启用debug_points）</li>
</ul>
<h4 id="nginx_4">更改nginx配置<a class="headerlink" href="#nginx_4" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span>
<span class="normal"><a href="#__codelineno-30-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a>ps<span class="w"> </span>axw<span class="w"> </span>-o<span class="w"> </span>pid,ppid,user,%cpu,vxz,wchan,command<span class="w"> </span><span class="p">|</span><span class="w"> </span>egrep<span class="w"> </span><span class="s1">&#39;(nginx|PID)&#39;</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="nb">kill</span><span class="w"> </span>-HUP<span class="w"> </span><span class="m">33126</span>
</code></pre></div></td></tr></table></div>
<p>PID为33126的进程仍在工作，一段时间后就会退出</p>
<h4 id="_11">日志文件轮询<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1">1</a></span>
<span class="normal"><a href="#__codelineno-31-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a>mv<span class="w"> </span>access.log<span class="w"> </span>access_bak.log
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="nb">kill</span><span class="w"> </span>-USR1<span class="w"> </span><span class="m">11604</span>
</code></pre></div></td></tr></table></div>
<h4 id="_12">动态升级可执行文件<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<p><a href="https://www.hxstrive.com/subject/nginx/796.htm">通过信号控制 nginx - Nginx 教程 (hxstrive.com)</a>
不如kill掉，替换</p>
<h2 id="shc-shell">shc 加密shell脚本<a class="headerlink" href="#shc-shell" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a>shc<span class="w"> </span>-r<span class="w"> </span>-f<span class="w"> </span>filename.sh
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="c1"># 开始静态编译，让可以跨平台运行</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a>cc<span class="w"> </span>-Wall<span class="w"> </span>-lutil<span class="w"> </span>-static<span class="w"> </span>-o<span class="w"> </span>filename<span class="w"> </span>filename.x.c
</code></pre></div></td></tr></table></div>
<h2 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span>
<span class="normal"><a href="#__codelineno-33-12">12</a></span>
<span class="normal"><a href="#__codelineno-33-13">13</a></span>
<span class="normal"><a href="#__codelineno-33-14">14</a></span>
<span class="normal"><a href="#__codelineno-33-15">15</a></span>
<span class="normal"><a href="#__codelineno-33-16">16</a></span>
<span class="normal"><a href="#__codelineno-33-17">17</a></span>
<span class="normal"><a href="#__codelineno-33-18">18</a></span>
<span class="normal"><a href="#__codelineno-33-19">19</a></span>
<span class="normal"><a href="#__codelineno-33-20">20</a></span>
<span class="normal"><a href="#__codelineno-33-21">21</a></span>
<span class="normal"><a href="#__codelineno-33-22">22</a></span>
<span class="normal"><a href="#__codelineno-33-23">23</a></span>
<span class="normal"><a href="#__codelineno-33-24">24</a></span>
<span class="normal"><a href="#__codelineno-33-25">25</a></span>
<span class="normal"><a href="#__codelineno-33-26">26</a></span>
<span class="normal"><a href="#__codelineno-33-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a>docker<span class="w"> </span>save<span class="w"> </span>-o<span class="w"> </span>docker-elk-filebeat.tar<span class="w"> </span>docker-elk-filebeat:latest<span class="w"> </span><span class="c1"># 导出镜像</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="w"> </span>docker<span class="w"> </span>load<span class="w"> </span>-i<span class="w"> </span>docker-elk-filebeat.tar<span class="w"> </span><span class="c1"># 导入镜像</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a>docker<span class="w"> </span><span class="nb">kill</span><span class="w"> </span>容器ID或镜像名字<span class="w"> </span><span class="c1"># 删除容器</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a>docker<span class="w"> </span>rmi<span class="w"> </span>镜像名称<span class="w"> </span><span class="c1"># 删除镜像</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="c1"># 一次性删除多个容器实例：</span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span>-q<span class="k">)</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a>docker<span class="w"> </span>rm<span class="w"> </span>-a<span class="w"> </span>-q<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="w"> </span>docker<span class="w"> </span>rm
<a id="__codelineno-33-9" name="__codelineno-33-9"></a>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a>docker<span class="w"> </span><span class="nb">export</span><span class="w"> </span>容器ID<span class="w"> </span>&gt;<span class="w"> </span>文件名.tar<span class="w"> </span><span class="c1"># 导出容器</span>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="c1"># 恢复到新的镜像，然后创建新的容器</span>
<a id="__codelineno-33-12" name="__codelineno-33-12"></a>cat<span class="w"> </span>文件名.tar<span class="w"> </span><span class="p">|</span><span class="w"> </span>docker<span class="w"> </span>import<span class="w"> </span>-<span class="w"> </span>
<a id="__codelineno-33-13" name="__codelineno-33-13"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>...
<a id="__codelineno-33-14" name="__codelineno-33-14"></a>
<a id="__codelineno-33-15" name="__codelineno-33-15"></a><span class="c1"># 容器打包成镜像</span>
<a id="__codelineno-33-16" name="__codelineno-33-16"></a>docker<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;描述&quot;</span><span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;作者&quot;</span><span class="w"> </span>容器ID:tag
<a id="__codelineno-33-17" name="__codelineno-33-17"></a>
<a id="__codelineno-33-18" name="__codelineno-33-18"></a><span class="c1"># 容器卷</span>
<a id="__codelineno-33-19" name="__codelineno-33-19"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--privileged<span class="o">=</span><span class="nb">true</span><span class="w"> </span>-v<span class="w"> </span>/宿主机目录:/容器内目录:rw<span class="w"> </span>镜像名<span class="w"> </span><span class="o">(</span>默认是rw<span class="o">)</span>，可以改为ro（read<span class="w"> </span>only），容器卷只读，不可写入。宿主机可以写入，同步给容器。
<a id="__codelineno-33-20" name="__codelineno-33-20"></a>
<a id="__codelineno-33-21" name="__codelineno-33-21"></a><span class="c1"># docker卷继承</span>
<a id="__codelineno-33-22" name="__codelineno-33-22"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--privileged<span class="o">=</span><span class="nb">true</span><span class="w"> </span>--volumes-from<span class="w"> </span>父类<span class="w"> </span>--name<span class="w"> </span>u2<span class="w"> </span>ubuntu
<a id="__codelineno-33-23" name="__codelineno-33-23"></a>
<a id="__codelineno-33-24" name="__codelineno-33-24"></a><span class="c1"># 查看所有虚玄镜像</span>
<a id="__codelineno-33-25" name="__codelineno-33-25"></a>docker<span class="w"> </span>image<span class="w"> </span>ls<span class="w"> </span>-f<span class="w"> </span><span class="nv">dangling</span><span class="o">=</span><span class="nb">true</span>
<a id="__codelineno-33-26" name="__codelineno-33-26"></a><span class="c1"># 删除所有虚玄镜像</span>
<a id="__codelineno-33-27" name="__codelineno-33-27"></a>docker<span class="w"> </span>image<span class="w"> </span>prune
</code></pre></div></td></tr></table></div>
<p>Docker挂在主机目录访问如果出现connot open directory ：Permission denied
解决办法：在挂载目录后多加一个--privileged=true</p>
<h3 id="docker-compose">docker-compose<a class="headerlink" href="#docker-compose" title="Permanent link">&para;</a></h3>
<h4 id="_13">命令行参数<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-34-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-34-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-34-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-34-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-34-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-34-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-34-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-34-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-34-10">10</a></span>
<span class="normal"><a href="#__codelineno-34-11">11</a></span>
<span class="normal"><a href="#__codelineno-34-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a>docker-compose<span class="w"> </span>up<span class="w"> </span><span class="c1"># 启动所有docker-compose服务</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a>docker-compose<span class="w"> </span>up<span class="w"> </span>-d<span class="w"> </span><span class="c1"># 启动所有docker-compose服务在后台运行</span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a>docker-compose<span class="w"> </span>down<span class="w"> </span><span class="c1"># 停止并删除容器、网络、卷、镜像</span>
<a id="__codelineno-34-4" name="__codelineno-34-4"></a>docker-compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>容器ID<span class="w"> </span>/bin/bash<span class="w"> </span><span class="c1"># 进入容器内部</span>
<a id="__codelineno-34-5" name="__codelineno-34-5"></a>docker-compose<span class="w"> </span>ps<span class="w"> </span><span class="c1"># 展示当前docker-compose编排过的运行的所有容器</span>
<a id="__codelineno-34-6" name="__codelineno-34-6"></a>docker-compose<span class="w"> </span>top<span class="w"> </span><span class="c1"># 展示当前docker-compose编排过的容器进程</span>
<a id="__codelineno-34-7" name="__codelineno-34-7"></a>docker-compose<span class="w"> </span>logs<span class="w"> </span>容器ID<span class="w"> </span><span class="c1"># 查看容器输出日志</span>
<a id="__codelineno-34-8" name="__codelineno-34-8"></a>docker-compose<span class="w"> </span>config<span class="w"> </span><span class="c1"># 检查配置</span>
<a id="__codelineno-34-9" name="__codelineno-34-9"></a>docker-compose<span class="w"> </span>config<span class="w"> </span>-q<span class="w"> </span><span class="c1"># 检查配置，有问题才输出</span>
<a id="__codelineno-34-10" name="__codelineno-34-10"></a>docker-compose<span class="w"> </span>restart<span class="w"> </span><span class="c1"># 重启服务</span>
<a id="__codelineno-34-11" name="__codelineno-34-11"></a>docker-compose<span class="w"> </span>start<span class="w"> </span><span class="c1"># 启动服务</span>
<a id="__codelineno-34-12" name="__codelineno-34-12"></a>docker-compose<span class="w"> </span>stop<span class="w"> </span><span class="c1"># 停止服务</span>
</code></pre></div></td></tr></table></div>
<h4 id="yaml">yaml 文件级<a class="headerlink" href="#yaml" title="Permanent link">&para;</a></h4>
<p>Docker Compose 的 YAML 文件包含4个一级 key:version、services、networks、volumes。</p>
<ul>
<li>version 是必须指定的，位于文件的第一行。它定义了 Compose 文件格式（主要是API）的版本。</li>
<li>services 用于定义不同的应用服务。</li>
<li>networks 用于指引 Docker 创建新的网络。</li>
<li>volumes 用于指引 Docker 来创建新的卷。</li>
</ul>
<h2 id="strip">strip — 丢弃对象文件中的符号和其他数据<a class="headerlink" href="#strip" title="Permanent link">&para;</a></h2>
<p>在嵌入式用的比较多，嵌入式存储空间一般非常小，一般服务器无所谓</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span>
<span class="normal"><a href="#__codelineno-35-3">3</a></span>
<span class="normal"><a href="#__codelineno-35-4">4</a></span>
<span class="normal"><a href="#__codelineno-35-5">5</a></span>
<span class="normal"><a href="#__codelineno-35-6">6</a></span>
<span class="normal"><a href="#__codelineno-35-7">7</a></span>
<span class="normal"><a href="#__codelineno-35-8">8</a></span>
<span class="normal"><a href="#__codelineno-35-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a>yanghe@IkunOS:/tmp$<span class="w"> </span>file<span class="w"> </span>hello_world
<a id="__codelineno-35-2" name="__codelineno-35-2"></a>hello_world:<span class="w"> </span>ELF<span class="w"> </span><span class="m">64</span>-bit<span class="w"> </span>LSB<span class="w"> </span>executable,<span class="w"> </span>x86-64,<span class="w"> </span>version<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">(</span>GNU/Linux<span class="o">)</span>,<span class="w"> </span>statically<span class="w"> </span>linked,<span class="w"> </span>BuildID<span class="o">[</span>sha1<span class="o">]=</span>0266e8c8b510581d97cd75551682b839d8c8ba47,<span class="w"> </span><span class="k">for</span><span class="w"> </span>GNU/Linux<span class="w"> </span><span class="m">3</span>.2.0,<span class="w"> </span>not<span class="w"> </span>stripped
<a id="__codelineno-35-3" name="__codelineno-35-3"></a>yanghe@IkunOS:/tmp$<span class="w"> </span>du<span class="w"> </span>hello_world
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="m">1024</span><span class="w"> </span>hello_world
<a id="__codelineno-35-5" name="__codelineno-35-5"></a>yanghe@IkunOS:/tmp$<span class="w"> </span>strip<span class="w"> </span>-s<span class="w"> </span>hello_world
<a id="__codelineno-35-6" name="__codelineno-35-6"></a>yanghe@IkunOS:/tmp$<span class="w"> </span>du<span class="w"> </span>hello_world
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="m">940</span><span class="w"> </span>hello_world
<a id="__codelineno-35-8" name="__codelineno-35-8"></a>yanghe@IkunOS:/tmp$<span class="w"> </span>file<span class="w"> </span>hello_world
<a id="__codelineno-35-9" name="__codelineno-35-9"></a>hello_world:<span class="w"> </span>ELF<span class="w"> </span><span class="m">64</span>-bit<span class="w"> </span>LSB<span class="w"> </span>executable,<span class="w"> </span>x86-64,<span class="w"> </span>version<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">(</span>GNU/Linux<span class="o">)</span>,<span class="w"> </span>statically<span class="w"> </span>linked,<span class="w"> </span>BuildID<span class="o">[</span>sha1<span class="o">]=</span>0266e8c8b510581d97cd75551682b839d8c8ba47,<span class="w"> </span><span class="k">for</span><span class="w"> </span>GNU/Linux<span class="w"> </span><span class="m">3</span>.2.0,<span class="w"> </span>stripped
</code></pre></div></td></tr></table></div>
<p>参考：</p>
<ul>
<li><a href="https://cs.pynote.net/sf/c/cdm/202110268/">strip命令 | CS笔记 (pynote.net)</a></li>
<li><a href="https://www.cnblogs.com/englyf/p/17510353.html">Linux 可执行文件瘦身指令 strip 使用示例 - ENG八戒 - 博客园 (cnblogs.com)</a></li>
</ul>
<h2 id="nmcli">nmcli<a class="headerlink" href="#nmcli" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span>
<span class="normal"><a href="#__codelineno-36-2">2</a></span>
<span class="normal"><a href="#__codelineno-36-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a>nmcli<span class="w"> </span>con<span class="w"> </span>show
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="w"> </span>nmcli<span class="w"> </span>con<span class="w"> </span>mod<span class="w"> </span>enp0s8<span class="w"> </span>ipv4.addresses<span class="w"> </span><span class="m">192</span>.168.56.119/24<span class="w"> </span>ipv4.gateway<span class="w"> </span><span class="m">192</span>.168.56.1<span class="w"> </span>ipv4.method<span class="w"> </span>manual
<a id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="w"> </span>nmcli<span class="w"> </span>con<span class="w"> </span>up<span class="w"> </span>enp0s8
</code></pre></div></td></tr></table></div>
<h2 id="wget">wget<a class="headerlink" href="#wget" title="Permanent link">&para;</a></h2>
<p>断点续传+后台下载</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a>wget<span class="w"> </span>-b<span class="w"> </span>-c<span class="w"> </span>https://xxx
</code></pre></div></td></tr></table></div>
<p>下载这个站点目录下的全部rpm</p>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a>wget<span class="w"> </span>-r<span class="w"> </span>-np<span class="w"> </span>-L<span class="w"> </span>-nv<span class="w"> </span>-x<span class="w"> </span>-N<span class="w"> </span>mirrors.cmecloud.cn/bclinux/el8.2/BaseOS/x86_64/os/Packages/
</code></pre></div></td></tr></table></div>
- 参考
  - <a href="https://www.cnblogs.com/librarookie/p/14660645.html">https://www.cnblogs.com/librarookie/p/14660645.html</a></p>
<h2 id="pcregrep-pcre2grep">pcregrep &amp; pcre2grep<a class="headerlink" href="#pcregrep-pcre2grep" title="Permanent link">&para;</a></h2>
<p>专门使用PCRE规范来实现的grep
使用正则表达式：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a>pcregrep<span class="w">  </span>-o1<span class="w"> </span><span class="s1">&#39;echo(.*?)d&#39;</span><span class="w"> </span>hello-world.sh
</code></pre></div></td></tr></table></div></p>
<blockquote>
<p>主要原因是grep支持三种正则表达式BRE,ERE,PCRE，而其默认使用的是BRE，但\d是定义在PCRE中的，所以grep默认是不支持\d的。</p>
</blockquote>
<p>pcre2grep 有个好用的功能：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span>
<span class="normal"><a href="#__codelineno-40-2">2</a></span>
<span class="normal"><a href="#__codelineno-40-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;name:zhangsan,age:18 \n name:lisi,age:20&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>pcre2grep<span class="w"> </span>-O<span class="w"> </span><span class="s1">&#39;$1 $2&#39;</span><span class="w"> </span><span class="s1">&#39;name:(\w+),age:(\d+)&#39;</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a>zhangsan<span class="w"> </span><span class="m">18</span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a>lisi<span class="w"> </span><span class="m">20</span>
</code></pre></div></td></tr></table></div>
- 参考
  - https://www.cnblogs.com/codelogs/p/16060372.html</p>
<h2 id="sudo">sudo<a class="headerlink" href="#sudo" title="Permanent link">&para;</a></h2>
<p>判断是不是具有sudo权限：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a>sudo<span class="w"> </span>-l<span class="w"> </span>-U<span class="w"> </span>zhangsan
</code></pre></div></td></tr></table></div></p>
<h2 id="netstat">netstat<a class="headerlink" href="#netstat" title="Permanent link">&para;</a></h2>
<h3 id="tcp">统计TCP连接状态<a class="headerlink" href="#tcp" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a>netstat<span class="w"> </span>-n<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&#39;</span>
</code></pre></div></td></tr></table></div>
<h2 id="ss">ss<a class="headerlink" href="#ss" title="Permanent link">&para;</a></h2>
<p>指定端口统计连接数</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a>ss<span class="w"> </span>-ta<span class="w"> </span>src<span class="w"> </span>:6000
</code></pre></div></td></tr></table></div>
<h2 id="lsof">lsof<a class="headerlink" href="#lsof" title="Permanent link">&para;</a></h2>
<h3 id="_14">程序打开文件数<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a>lsof<span class="w"> </span>-c<span class="w"> </span>nginx<span class="w">  </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1">1</a></span>
<span class="normal"><a href="#__codelineno-45-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a>lsof<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>java<span class="w"> </span><span class="p">|</span>grep<span class="w"> </span>IPv<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
<a id="__codelineno-45-2" name="__codelineno-45-2"></a>lsof<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>java<span class="w"> </span><span class="p">|</span>grep<span class="w"> </span>:6379<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
</code></pre></div></td></tr></table></div>
<h2 id="tail">tail<a class="headerlink" href="#tail" title="Permanent link">&para;</a></h2>
<h3 id="tail-fio">tail -f加管道命令后不能及时输出的问题（IO缓冲<a class="headerlink" href="#tail-fio" title="Permanent link">&para;</a></h3>
<ol>
<li>使用stdbuf命令
<code>tail -fn0 a.log | stdbuf -oL grep "F3 00" | grep SR</code></li>
<li>把标准输出重定向到标准错误上，并把错误也给管道（因为stderr是无缓冲的）
<code>tail -f &gt;&amp;2 |&amp; awk</code></li>
</ol>
<h2 id="_15">其它<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<h3 id="procpidstatus">/proc/pid/status 查看内存使用率<a class="headerlink" href="#procpidstatus" title="Permanent link">&para;</a></h3>
<p>/proc/[PID]/status文件：每个运行的进程都在/proc目录下有一个以进程ID命名的目录。进入特定进程的目录（例如/proc/12345），然后查看status文件。在status文件中，可以找到VmRSS字段，它表示进程实际占用的物理内存。</p>
<p><code>cat /proc/12345/status | grep VmRSS</code></p>
<h3 id="shellstderrstdout">shell将stderr输出到stdout<a class="headerlink" href="#shellstderrstdout" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="c1"># |&amp; == 2&gt;&amp;1</span>
</code></pre></div></td></tr></table></div>
<h3 id="python3">python3 开启文件服务器<a class="headerlink" href="#python3" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a>python3<span class="w"> </span>-m<span class="w"> </span>http.server
</code></pre></div></td></tr></table></div>
<h3 id="_16">查看进程线程&amp;进程详细信息<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-48-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-48-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-48-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-48-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-48-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-48-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-48-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-48-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-48-10">10</a></span>
<span class="normal"><a href="#__codelineno-48-11">11</a></span>
<span class="normal"><a href="#__codelineno-48-12">12</a></span>
<span class="normal"><a href="#__codelineno-48-13">13</a></span>
<span class="normal"><a href="#__codelineno-48-14">14</a></span>
<span class="normal"><a href="#__codelineno-48-15">15</a></span>
<span class="normal"><a href="#__codelineno-48-16">16</a></span>
<span class="normal"><a href="#__codelineno-48-17">17</a></span>
<span class="normal"><a href="#__codelineno-48-18">18</a></span>
<span class="normal"><a href="#__codelineno-48-19">19</a></span>
<span class="normal"><a href="#__codelineno-48-20">20</a></span>
<span class="normal"><a href="#__codelineno-48-21">21</a></span>
<span class="normal"><a href="#__codelineno-48-22">22</a></span>
<span class="normal"><a href="#__codelineno-48-23">23</a></span>
<span class="normal"><a href="#__codelineno-48-24">24</a></span>
<span class="normal"><a href="#__codelineno-48-25">25</a></span>
<span class="normal"><a href="#__codelineno-48-26">26</a></span>
<span class="normal"><a href="#__codelineno-48-27">27</a></span>
<span class="normal"><a href="#__codelineno-48-28">28</a></span>
<span class="normal"><a href="#__codelineno-48-29">29</a></span>
<span class="normal"><a href="#__codelineno-48-30">30</a></span>
<span class="normal"><a href="#__codelineno-48-31">31</a></span>
<span class="normal"><a href="#__codelineno-48-32">32</a></span>
<span class="normal"><a href="#__codelineno-48-33">33</a></span>
<span class="normal"><a href="#__codelineno-48-34">34</a></span>
<span class="normal"><a href="#__codelineno-48-35">35</a></span>
<span class="normal"><a href="#__codelineno-48-36">36</a></span>
<span class="normal"><a href="#__codelineno-48-37">37</a></span>
<span class="normal"><a href="#__codelineno-48-38">38</a></span>
<span class="normal"><a href="#__codelineno-48-39">39</a></span>
<span class="normal"><a href="#__codelineno-48-40">40</a></span>
<span class="normal"><a href="#__codelineno-48-41">41</a></span>
<span class="normal"><a href="#__codelineno-48-42">42</a></span>
<span class="normal"><a href="#__codelineno-48-43">43</a></span>
<span class="normal"><a href="#__codelineno-48-44">44</a></span>
<span class="normal"><a href="#__codelineno-48-45">45</a></span>
<span class="normal"><a href="#__codelineno-48-46">46</a></span>
<span class="normal"><a href="#__codelineno-48-47">47</a></span>
<span class="normal"><a href="#__codelineno-48-48">48</a></span>
<span class="normal"><a href="#__codelineno-48-49">49</a></span>
<span class="normal"><a href="#__codelineno-48-50">50</a></span>
<span class="normal"><a href="#__codelineno-48-51">51</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a>cat<span class="w"> </span>/proc/102551/status<span class="w"> </span><span class="p">|</span><span class="w"> </span>more
<a id="__codelineno-48-2" name="__codelineno-48-2"></a>Name:<span class="w"> </span>java
<a id="__codelineno-48-3" name="__codelineno-48-3"></a>Umask:<span class="w"> </span><span class="m">0002</span>
<a id="__codelineno-48-4" name="__codelineno-48-4"></a>State:<span class="w"> </span>S<span class="w"> </span><span class="o">(</span>sleeping<span class="o">)</span>
<a id="__codelineno-48-5" name="__codelineno-48-5"></a>Tgid:<span class="w"> </span><span class="m">102551</span>
<a id="__codelineno-48-6" name="__codelineno-48-6"></a>Ngid:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-48-7" name="__codelineno-48-7"></a>Pid:<span class="w"> </span><span class="m">102551</span>
<a id="__codelineno-48-8" name="__codelineno-48-8"></a>PPid:<span class="w"> </span><span class="m">102344</span>
<a id="__codelineno-48-9" name="__codelineno-48-9"></a>TracerPid:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-48-10" name="__codelineno-48-10"></a>Uid:<span class="w"> </span><span class="m">1002</span><span class="w"> </span><span class="m">1002</span><span class="w"> </span><span class="m">1002</span><span class="w"> </span><span class="m">1002</span>
<a id="__codelineno-48-11" name="__codelineno-48-11"></a>Gid:<span class="w"> </span><span class="m">1002</span><span class="w"> </span><span class="m">1002</span><span class="w"> </span><span class="m">1002</span><span class="w"> </span><span class="m">1002</span>
<a id="__codelineno-48-12" name="__codelineno-48-12"></a>FDSize:<span class="w"> </span><span class="m">4096</span>
<a id="__codelineno-48-13" name="__codelineno-48-13"></a>Groups:<span class="w"> </span><span class="m">1002</span><span class="w"> </span>
<a id="__codelineno-48-14" name="__codelineno-48-14"></a>VmPeak:<span class="w"> </span><span class="m">23980072</span><span class="w"> </span>kB
<a id="__codelineno-48-15" name="__codelineno-48-15"></a>VmSize:<span class="w"> </span><span class="m">23818032</span><span class="w"> </span>kB
<a id="__codelineno-48-16" name="__codelineno-48-16"></a>VmLck:<span class="w">        </span><span class="m">0</span><span class="w"> </span>kB
<a id="__codelineno-48-17" name="__codelineno-48-17"></a>VmPin:<span class="w">        </span><span class="m">0</span><span class="w"> </span>kB
<a id="__codelineno-48-18" name="__codelineno-48-18"></a>VmHWM:<span class="w">  </span><span class="m">9205188</span><span class="w"> </span>kB
<a id="__codelineno-48-19" name="__codelineno-48-19"></a>VmRSS:<span class="w">  </span><span class="m">9057300</span><span class="w"> </span>kB
<a id="__codelineno-48-20" name="__codelineno-48-20"></a>RssAnon:<span class="w">  </span><span class="m">9049584</span><span class="w"> </span>kB
<a id="__codelineno-48-21" name="__codelineno-48-21"></a>RssFile:<span class="w">     </span><span class="m">7716</span><span class="w"> </span>kB
<a id="__codelineno-48-22" name="__codelineno-48-22"></a>RssShmem:<span class="w">        </span><span class="m">0</span><span class="w"> </span>kB
<a id="__codelineno-48-23" name="__codelineno-48-23"></a>VmData:<span class="w"> </span><span class="m">23656776</span><span class="w"> </span>kB
<a id="__codelineno-48-24" name="__codelineno-48-24"></a>VmStk:<span class="w">      </span><span class="m">132</span><span class="w"> </span>kB
<a id="__codelineno-48-25" name="__codelineno-48-25"></a>VmExe:<span class="w">        </span><span class="m">4</span><span class="w"> </span>kB
<a id="__codelineno-48-26" name="__codelineno-48-26"></a>VmLib:<span class="w">    </span><span class="m">17316</span><span class="w"> </span>kB
<a id="__codelineno-48-27" name="__codelineno-48-27"></a>VmPTE:<span class="w">    </span><span class="m">18692</span><span class="w"> </span>kB
<a id="__codelineno-48-28" name="__codelineno-48-28"></a>VmSwap:<span class="w">    </span><span class="m">25872</span><span class="w"> </span>kB
<a id="__codelineno-48-29" name="__codelineno-48-29"></a>Threads:<span class="w"> </span><span class="m">213</span>
<a id="__codelineno-48-30" name="__codelineno-48-30"></a>SigQ:<span class="w"> </span><span class="m">0</span>/127861
<a id="__codelineno-48-31" name="__codelineno-48-31"></a>SigPnd:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-32" name="__codelineno-48-32"></a>ShdPnd:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-33" name="__codelineno-48-33"></a>SigBlk:<span class="w"> </span><span class="m">0000000000000004</span>
<a id="__codelineno-48-34" name="__codelineno-48-34"></a>SigIgn:<span class="w"> </span><span class="m">0000000000000002</span>
<a id="__codelineno-48-35" name="__codelineno-48-35"></a>SigCgt:<span class="w"> </span>2000000181005ccd
<a id="__codelineno-48-36" name="__codelineno-48-36"></a>CapInh:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-37" name="__codelineno-48-37"></a>CapPrm:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-38" name="__codelineno-48-38"></a>CapEff:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-39" name="__codelineno-48-39"></a>CapBnd:<span class="w"> </span>0000001fffffffff
<a id="__codelineno-48-40" name="__codelineno-48-40"></a>CapAmb:<span class="w"> </span><span class="m">0000000000000000</span>
<a id="__codelineno-48-41" name="__codelineno-48-41"></a>Seccomp:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-48-42" name="__codelineno-48-42"></a>Speculation_Store_Bypass:<span class="w"> </span>vulnerable
<a id="__codelineno-48-43" name="__codelineno-48-43"></a>Cpus_allowed:<span class="w"> </span>ffffffff,ffffffff,ffffffff,ffffffff,ffffffff
<a id="__codelineno-48-44" name="__codelineno-48-44"></a>Cpus_allowed_list:<span class="w"> </span><span class="m">0</span>-159
<a id="__codelineno-48-45" name="__codelineno-48-45"></a>Mems_allowed:<span class="w"> </span><span class="m">00000000</span>,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000
<a id="__codelineno-48-46" name="__codelineno-48-46"></a><span class="m">000</span>,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000
<a id="__codelineno-48-47" name="__codelineno-48-47"></a>,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00
<a id="__codelineno-48-48" name="__codelineno-48-48"></a><span class="m">000000</span>,00000000,00000001
<a id="__codelineno-48-49" name="__codelineno-48-49"></a>Mems_allowed_list:<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-48-50" name="__codelineno-48-50"></a>voluntary_ctxt_switches:<span class="w"> </span><span class="m">478194</span>
<a id="__codelineno-48-51" name="__codelineno-48-51"></a>nonvoluntary_ctxt_switches:<span class="w"> </span><span class="m">170</span>
</code></pre></div></td></tr></table></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path", "navigation.indexes", "toc.follow", "navigation.top", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>